{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?406d","webpack:///./src/components/AgentBase.vue?1db0","webpack:///src/components/AgentBase.vue","webpack:///./src/components/AgentBase.vue?01ca","webpack:///./src/components/AgentBase.vue","webpack:///./src/components/Connections/index.vue?7aee","webpack:///src/components/Connections/index.vue","webpack:///./src/components/Connections/index.vue?55a6","webpack:///./src/components/Connections/index.vue","webpack:///./src/components/FeatureDiscovery/index.vue?cd23","webpack:///src/components/FeatureDiscovery/index.vue","webpack:///./src/components/FeatureDiscovery/index.vue?2207","webpack:///./src/components/FeatureDiscovery/index.vue","webpack:///./src/components/Messages/index.vue?872e","webpack:///./src/components/Dids/DidList.vue?b1cb","webpack:///src/components/Dids/DidList.vue","webpack:///./src/components/Dids/DidList.vue?3819","webpack:///./src/components/Dids/DidList.vue","webpack:///./src/components sync ^\\.\\/.*$","webpack:///./src/store/modules/WsMessages.ts","webpack:///./src/components/CredentialIssuance/OcaSchemaList.vue?b81c","webpack:///./src/components/CredentialIssuance/OcaSchemaList.vue?f64c","webpack:///./src/components/CredentialIssuance/OcaSchemaList.vue","webpack:///./src/components/AgentBase.vue?a91a","webpack:///./src/components/TrustedIssuers/Issuers.vue?9510","webpack:///src/components/TrustedIssuers/Issuers.vue","webpack:///./src/components/TrustedIssuers/Issuers.vue?b6f9","webpack:///./src/components/TrustedIssuers/Issuers.vue","webpack:///./src/components/BasicMessage/index.vue?628b","webpack:///src/components/BasicMessage/index.vue","webpack:///./src/components/BasicMessage/index.vue?e4e6","webpack:///./src/components/BasicMessage/index.vue","webpack:///./src/components/Consents/ConsentList.vue?4130","webpack:///src/components/Consents/ConsentList.vue","webpack:///./src/components/Consents/ConsentList.vue?c89f","webpack:///./src/components/Consents/ConsentList.vue","webpack:///./src/components/Services/NewService.vue?c656","webpack:///src/components/Services/NewService.vue","webpack:///./src/components/Services/NewService.vue?33ce","webpack:///./src/components/Services/NewService.vue","webpack:///./src/components/Settings/PdsSettings.vue?a75b","webpack:///./src/store/modules sync nonrecursive \\.ts$","webpack:///./src/components/TAA.vue?09a9","webpack:///src/components/TAA.vue","webpack:///./src/components/TAA.vue?6416","webpack:///./src/components/TAA.vue","webpack:///./src/components/Services/ServiceList.vue?27b3","webpack:///src/components/Services/ServiceList.vue","webpack:///./src/components/Services/ServiceList.vue?cd95","webpack:///./src/components/Services/ServiceList.vue","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/Settings/PdsSettings/PdsPlugins.vue?7c09","webpack:///src/components/Settings/PdsSettings/PdsPlugins.vue","webpack:///./src/components/Settings/PdsSettings/PdsPlugins.vue?4deb","webpack:///./src/components/Settings/PdsSettings/PdsPlugins.vue","webpack:///./src/components/LandingPage.vue?9ddb","webpack:///src/components/LandingPage.vue","webpack:///./src/components/LandingPage.vue?ffef","webpack:///./src/components/LandingPage.vue","webpack:///./src/components/components.ts","webpack:///./src/components/Messages/index.vue?ad75","webpack:///src/components/Messages/index.vue","webpack:///./src/components/Messages/index.vue?f721","webpack:///./src/components/Messages/index.vue","webpack:///./src/components/Invitations/index.vue?b8e5","webpack:///src/components/Invitations/index.vue","webpack:///./src/components/Invitations/index.vue?df20","webpack:///./src/components/Invitations/index.vue","webpack:///./src/components/Settings/ControllerSettings.vue?f5a0","webpack:///./src/components/Connections/ConnectionList/ConnectionServiceList.vue?0d16","webpack:///src/components/Connections/ConnectionList/ConnectionServiceList.vue","webpack:///./src/components/Connections/ConnectionList/ConnectionServiceList.vue?c66a","webpack:///./src/components/Connections/ConnectionList/ConnectionServiceList.vue","webpack:///./src/components/TAA.vue?a106","webpack:///./src/components/LandingPage/SystemInformation.vue?55ca","webpack:///./src/components/LandingPage.vue?b31d","webpack:///./src/components/BasicMessage/index.vue?5f53","webpack:///./src/components/Dids/index.vue?3fd1","webpack:///src/components/Dids/index.vue","webpack:///./src/components/Dids/index.vue?4d8b","webpack:///./src/components/Dids/index.vue","webpack:///./src/components/Settings/TdaSettings.vue?b211","webpack:///src/components/Settings/TdaSettings.vue","webpack:///./src/components/Settings/TdaSettings.vue?cab9","webpack:///./src/components/Settings/TdaSettings.vue","webpack:///./src/components/Presentations/Presentation.vue?f7ac","webpack:///src/components/Presentations/Presentation.vue","webpack:///./src/components/Presentations/Presentation.vue?7cc7","webpack:///./src/components/Presentations/Presentation.vue","webpack:///./src/store/modules/Agents.ts","webpack:///./src/components/Verifications/Verification.vue?1087","webpack:///./src/components/Consents/NewConsent.vue?c24b","webpack:///./src/components/Settings/index.vue?9c1a","webpack:///src/components/Settings/index.vue","webpack:///./src/components/Settings/index.vue?0cab","webpack:///./src/components/Settings/index.vue","webpack:///./src/components/CredentialIssuance/SchemaList.vue?6376","webpack:///src/components/CredentialIssuance/SchemaList.vue","webpack:///./src/components/CredentialIssuance/SchemaList.vue?1c9b","webpack:///./src/components/CredentialIssuance/SchemaList.vue","webpack:///src/components/CredentialIssuance/OcaSchemaList.vue","webpack:///./src/components/LandingPage/SystemInformation.vue?766e","webpack:///./src/components/LandingPage/SystemInformation.vue?59db","webpack:///./src/components/LandingPage/SystemInformation.vue","webpack:///./src/components/Verifications/Verification.vue?1044","webpack:///src/components/Verifications/Verification.vue","webpack:///./src/components/Verifications/Verification.vue?fe53","webpack:///./src/components/Verifications/Verification.vue","webpack:///./src/components/MessageHistory/index.vue?67d5","webpack:///src/components/MessageHistory/index.vue","webpack:///./src/components/MessageHistory/index.vue?29a3","webpack:///./src/components/MessageHistory/index.vue","webpack:///./src/components/Services/NewService/OcaSchemaSearch.vue?9a41","webpack:///src/components/Services/NewService/OcaSchemaSearch.vue","webpack:///./src/components/Services/NewService/OcaSchemaSearch.vue?7507","webpack:///./src/components/Services/NewService/OcaSchemaSearch.vue","webpack:///./src/components/Compose/index.vue?ebaa","webpack:///src/components/Compose/index.vue","webpack:///./src/components/Compose/index.vue?a8b7","webpack:///./src/components/Compose/index.vue","webpack:///./src/components/Connections/ConnectionList.vue?8745","webpack:///src/components/Connections/ConnectionList.vue","webpack:///./src/components/Connections/ConnectionList.vue?d127","webpack:///./src/components/Connections/ConnectionList.vue","webpack:///./src/share.ts","webpack:///./src/dri_generator.ts","webpack:///./src/components/MyCredentials/index.vue?c255","webpack:///src/components/MyCredentials/index.vue","webpack:///./src/components/MyCredentials/index.vue?7672","webpack:///./src/components/MyCredentials/index.vue","webpack:///./src/components/Services/ApplicationList.vue?141c","webpack:///src/components/Services/ApplicationList.vue","webpack:///./src/components/Services/ApplicationList.vue?0be0","webpack:///./src/components/Services/ApplicationList.vue","webpack:///./src/components/Settings/ControllerSettings.vue?be46","webpack:///src/components/Settings/ControllerSettings.vue","webpack:///./src/components/Settings/ControllerSettings.vue?2e4b","webpack:///./src/components/Settings/ControllerSettings.vue","webpack:///./src/components/Consents/NewConsent/OcaSchemaSearch.vue?87ee","webpack:///src/components/Consents/NewConsent/OcaSchemaSearch.vue","webpack:///./src/components/Consents/NewConsent/OcaSchemaSearch.vue?68e9","webpack:///./src/components/Consents/NewConsent/OcaSchemaSearch.vue","webpack:///./src/components/Settings/TdaSettings.vue?47b2","webpack:///./src/components/Ledger/index.vue?4ee2","webpack:///src/components/Ledger/index.vue","webpack:///./src/components/Ledger/index.vue?95d8","webpack:///./src/components/Ledger/index.vue","webpack:///./src/components/AgentList.vue?9651","webpack:///./src/components/AgentList.vue?d358","webpack:///./src/components/AgentList.vue","webpack:///./src/message_bus.ts","webpack:///./src/components/Consents/NewConsent.vue?ea72","webpack:///src/components/Consents/NewConsent.vue","webpack:///./src/components/Consents/NewConsent.vue?7f4b","webpack:///./src/components/Consents/NewConsent.vue","webpack:///./src/components/Services/NewService.vue?44e6","webpack:///./src/components/TrustedIssuers/index.vue?3cb5","webpack:///src/components/TrustedIssuers/index.vue","webpack:///./src/components/TrustedIssuers/index.vue?2214","webpack:///./src/components/TrustedIssuers/index.vue","webpack:///./src/components/Settings/PdsSettings/CurrentPds.vue?88a2","webpack:///src/components/Settings/PdsSettings/CurrentPds.vue","webpack:///./src/components/Settings/PdsSettings/CurrentPds.vue?61b0","webpack:///./src/components/Settings/PdsSettings/CurrentPds.vue","webpack:///src/components/LandingPage/SystemInformation.vue","webpack:///./src/components/CredentialIssuance/CredDefList.vue?a033","webpack:///src/components/CredentialIssuance/CredDefList.vue","webpack:///./src/components/CredentialIssuance/CredDefList.vue?14bc","webpack:///./src/components/CredentialIssuance/CredDefList.vue","webpack:///./src/components/CredentialIssuance/IssuedCredList.vue?bcf9","webpack:///src/components/CredentialIssuance/IssuedCredList.vue","webpack:///./src/components/CredentialIssuance/IssuedCredList.vue?e1e4","webpack:///./src/components/CredentialIssuance/IssuedCredList.vue","webpack:///./src/App.vue?b9ef","webpack:///src/App.vue","webpack:///./src/App.vue?8b47","webpack:///./src/App.vue","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/components/Services/index.vue?ecaf","webpack:///src/components/Services/index.vue","webpack:///./src/components/Services/index.vue?740a","webpack:///./src/components/Services/index.vue","webpack:///./src/assets/logo.png","webpack:///src/components/AgentList.vue","webpack:///./src/components/Consents/index.vue?1f44","webpack:///src/components/Consents/index.vue","webpack:///./src/components/Consents/index.vue?9992","webpack:///./src/components/Consents/index.vue","webpack:///./src/components/Verifications/index.vue?87a2","webpack:///src/components/Verifications/index.vue","webpack:///./src/components/Verifications/index.vue?f338","webpack:///./src/components/Verifications/index.vue","webpack:///./src/components/CredentialIssuance/index.vue?04ad","webpack:///src/components/CredentialIssuance/index.vue","webpack:///./src/components/CredentialIssuance/index.vue?85e2","webpack:///./src/components/CredentialIssuance/index.vue","webpack:///./src/components/MyCredentials/MyCredentialsList.vue?ea1b","webpack:///src/components/MyCredentials/MyCredentialsList.vue","webpack:///./src/components/MyCredentials/MyCredentialsList.vue?90dd","webpack:///./src/components/MyCredentials/MyCredentialsList.vue","webpack:///./src/connection_detail.ts","webpack:///./src/components/HelloWorld.vue?8fa4","webpack:///./src/components/Services/NewService/ConsentSelect.vue?7613","webpack:///src/components/Services/NewService/ConsentSelect.vue","webpack:///./src/components/Services/NewService/ConsentSelect.vue?1408","webpack:///./src/components/Services/NewService/ConsentSelect.vue","webpack:///./src/components/WebSocket.vue?99bb","webpack:///src/components/WebSocket.vue","webpack:///./src/components/WebSocket.vue?e49c","webpack:///./src/components/WebSocket.vue","webpack:///./src/components/Settings/PdsSettings.vue?b3a6","webpack:///src/components/Settings/PdsSettings.vue","webpack:///./src/components/Settings/PdsSettings.vue?c882","webpack:///./src/components/Settings/PdsSettings.vue","webpack:///./src/components/AgentList.vue?5f9b","webpack:///./src/components/StaticConnections/index.vue?8543","webpack:///src/components/StaticConnections/index.vue","webpack:///./src/components/StaticConnections/index.vue?1231","webpack:///./src/components/StaticConnections/index.vue","webpack:///./src/components/Presentations/index.vue?d808","webpack:///src/components/Presentations/index.vue","webpack:///./src/components/Presentations/index.vue?a1c7","webpack:///./src/components/Presentations/index.vue","webpack:///./src/store/modules/index.ts","webpack:///./src/components/Connections/ConnectionList/ConnectionServiceList.vue?c415","webpack:///./src/components/HelloWorld.vue?6910","webpack:///./src/components/HelloWorld.vue?1d82","webpack:///./src/components/HelloWorld.vue?4852","webpack:///./src/components/HelloWorld.vue","webpack:///./src/components sync \\.vue$"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","ref","staticStyle","attrs","_l","group_modules","group","staticClass","slot","_v","_s","path","class","icon","label","connection","dids","model","callback","$$v","active_did","expression","did","staticRenderFns","module_list","entries","components","map","modulename","default","metadata","menu","priority","dev_only","required_protocols","sort","a","b","localeCompare","mixins","message_bus","events","vm","route","redirect","v","msg","return_route","send_connection_message","$notify","error","title","message","text","trim","onClick","duration","customClass","share","use","actions","props","Taa","computed","public_did","activate_did","matching_modules_grouped","pid_list","protocols","pid","view_filtered_list","is_dev_interface","filter","filtered_list","every","req_protocol","includes","module_groups","reduce","methods","connection_loaded","send_message","OLD","NEW","startsWith","replace","$message_bus","$emit","$router","$refs","updateActiveIndex","created","async","get_agent","agentid","processInbound","fetch_protocols","fetch_dids","fetch_active_did","fetch_connections","needs_return_route_poll","return_route_poll_timer","setInterval","return_route_poll","beforeDestroy","clearInterval","component","active_connections","on","update_connection","delete_connection","pending_connections","failed_connections","nativeOn","$event","preventDefault","invitation","recieve_invitation","isDialogVisible","onQrScan","_e","shared","connections","values","conn","their_label","state","id_to_connection","connection_id","forEach","console","log","listeners","results","send","ConnectionList","QrcodeStream","ready","form","query_msg","role","receive_invite_msg","setTimeout","decodedString","URL","roles","list","expanded_items","get_name","edit","publish","public","activate","editFormActive","editForm","formLabelWidth","$set","update","VueJsonPretty","verkey","permissions","resolve","collapse_expanded","item","watch","handler","newValue","deep","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","uuidv4","messages","mutations","assign","uuid","toString","element","index","arr","context","commit","find","topic","namespaced","ocaSchemaSearch","schemaName","getOcaSchema","scopedSlots","_u","fn","htmlText","namespace","domProps","ocaSchemaQuery","directives","rawName","ocaForm","preview","issueFormActive","deActivateForm","issueForm","fillOcaForm","ocaFormSaved","issueData","connection_label","comment","schema_name","formInput","sendingCred","issueCredential","ocaFormAlternatives","turstedDidFormActive","issuer","removeTrustedIssuer","trusted_issuers_form","storeTrustedIssuer","type","indexOf","_k","keyCode","content","basicmessages","reverse","direction","consent","created_at","proxy","ocaRepoUrl","$session","consentAnswers","consentSchemaNamespace","consentSchemaDri","payload","oca_schema","dri","JSON","parse","ocaSchemaNamespace","ocaSchemaDri","consentBranch","consentLangBranches","splitBranchPerLang","consentForm","consentFormAlternatives","langBranch","language","lang","branch","schema_base","overlays","$noty","timeout","formAlternatives","answers","service_schema","serviceBranch","oca_schema_namespace","oca_schema_dri","serviceLangBranches","serviceForm","serviceFormAlternatives","service_payload","langBranches","labelOverlays","languages","schemaBase","renderConsentForm","service","renderServiceForm","ocaRepoHost","serviceSchemaSelected","consentSelected","dataFilled","submit","OcaSchemaSearch","ConsentSelect","data_dri","localDataVaultUrl","acapyApiUrl","DRI","payload_dri","post","consent_schema","then","status","success","resetServiceData","catch","phase_one","phase","phase_two","version","cleaned","accepted","accept","protocol","needed","has_admin_taa_protocol","get_acceptance","sanitize","substring","schema","plugin","pluginName","configure","plugin_list","pluginBranch","pluginLangBranches","pluginForm","pluginFormAlternatives","renderPluginForm","types","entry","open","files","match","connection_selected","message_id","nice_time","sent_time","message_types","new","sent","delete","deleted","basic_messages","latest_message","$route","new_message_notify","fetch_messages","page","limit","offset","lhs","rhs","Date","selected","timestamp","toLocaleString","weekday","day","month","year","hour","minute","QRDialogVisible","QRDialogURL","width","fetch_invitations","their_role","invitation_mode","presentQR","invitation_url","copyURL","invite_label_form","invite_role_form","invite_accept_form","invite_public_form","invite_multi_use_form","fetchNewInvite","invitations","url","el","document","createElement","body","append","setAttribute","select","execCommand","remove","getSelection","removeAllRanges","services","serviceListMessages","servicesSorted","delete_message","connId","service_id","updateAgentDid","publish_did","did_form","createDid","alias","seed","DidList","active_ledger_selector","leger","permission","isDevUi","set","go","proposalFormActive","ver_pres_expanded_items","presentation","presentation_exchange_id","collapse_expanded_ver_pres","_m","rec_req_expanded_items","collapse_expanded_rec_req","sent_pres_expanded_items","collapse_expanded_sent_pres","sent_prop_expanded_items","collapse_expanded_sent_prop","proposalForm","attribute","attributes","cred_def","cred_def_id","remove_attribute","predicates","predicate","opt","remove_predicate","add_attribute","add_predicate","p_type_options","auto_present","threshold","update_attributes","comp","connection_map","acc","completed_verifications","presentations","pres_exch","exchange","agent_list","detail","PdsSettings","ControllerSettings","TdaSettings","retrieve_schema_id","retrieve","createFormActive","schema_id","schema_version","createForm","VueBootstrapTypeahead","PreviewComponent","split","explain","ltxt","fileserver","ocaRepo","host","ocaSchema","input","fetchOcaSchemas","selectedConnection","available_connections","fileserverUrl","$off","SAVE_PREVIEW","$on","savePreviewHandler","OcaFormComponent","openModal","generateDriForCredential","schemas","author","buffer","Buffer","from","stringify","urls","formInputDri","meta","experimental","branchDri","x","branchesBase","branchBase","branchResponse","dataStr","blob","Blob","formData","FormData","headers","closeModal","vue","node","platform","requestFormActive","presentation_title","requestForm","restrictions","presentation_predicates","connection_their_label","proof","presentation_request","creddef","undefined","trusted_issuer","p_type","clear_history","message_history","search","matching","all","VueTypeaheadBootstrap","query","VJsoneditor","refInFor","servicePreview","serviceApply","delete_conn","forms","f","_uniqueId","join","confirmProcessing","ConnectionServiceList","MultiPreviewComponent","readonly","currentApplicationService","fetchServices","saveApplicationHandler","event","options","alternatives","collectForms","PreviewServiceComponent","$parent","$children","child","$el","className","sendApplication","Share","subject","share_source","module_listeners_list","listener","mutated_methods","action","beforeCreate","$share","routeParams","params","subscribe","mutable","mutate","use_mut","properties","constructor","Array","prop","pus","derive","loaded","hl","generateDri","codecs","encode","credentials","proposal_cred_defs","fetch_credentials","send_proposal","holder_credentials","cred_defs","fetch_holder_credentials","CredDefList","MyCredentialsList","application","String","renderApplicationForm","issue_id","websocketUrl","expanded_ledger_items","ledger","removeLedger","collapse_expanded_ledger_item","ledger_form","addLedger","ledgers","fetchAgentInvitations","ledger_name","defaultConnectionEstablished","openConnection","deleteConnection","new_agent_invitation","new_agent_invitation_process","listen","consentSchemaSelected","consentFormRendered","openCreateConsentForm","consentData","sending","form_alternatives","ConsentPreviewComponent","errors","sendConsentData","trusted_issuers","remove_trusted_issuer","store_trusted_issuer","Issuers","pds_selected","active_pds","pds","pds_list","active","refreshPdsList","retrieve_cred_def_id","get_cred_def","can_create","deactivate","publish_cred_def","fetch_cred_defs","issued_credential","credential_exchange_id","credential_title","selected_cred_def","issue","cred","connection_name","agent_routes","routes","children","Store","strict","http","$http","config","productionTip","App","router","store","template","$mount","refreshServices","myServicesSorted","previewService","pending_applications","refreshPendingApplications","previewApplication","submitted_applications","refreshSubmittedApplications","previewLabel","readonlyPreview","rejectProcessing","NewService","ServiceList","ApplicationList","myServices","currentApplication","stateUpdateMessages","incomingApplicationMessages","confirmApplicationHandler","REJECT_PREVIEW","rejectApplicationHandler","PreviewApplicationComponent","decision","examineApplication","bs58","rp","DIDComm","agent","agentServiceEndpoint","temp","concat","tempURL","t0","pop","env","VUE_APP_DATA_VAULT","VUE_APP_OCA_REPO_URL","VUE_APP_PROTOCOL","VUE_APP_OCA_REPO","VUE_APP_HOST","origin","connectDefaultAgent","exists","location","searchParams","axiosInstance","retries","shouldResetTimeout","retryDelay","retryCount","invitationUrl","agentWsUrl","websocket_server_url","delete_agent","getUrlVars","vars","b64u","b64pad","base64_charIndex","base64_decode","dst","charAt","fromCharCode","decodeURIComponent","escape","invite_b64","invite_string","invite","didcomm","Ready","toolbox_did","generateKeyPair","publicKey","subarray","publicKey_b58","privateKey_b58","privateKey","packedMsg","packMessage","decode","recipientKeys","method","uri","serviceEndpoint","parsedBody","unpackedResponse","unpackMessage","response","buff","sig_data","connection_detail","DIDDoc","to_store","add_agent","err","refreshDefinedConsents","defined_consent_list","previewConsent","given_consent_list","refreshGivenConsents","NewConsent","ConsentList","givenCredentials","credential_offer_dict","credential_preview","some","attr","serviceConsentMatchId","dataDri","PreviewConsentComponent","issuer_presentations","fetch_issuer_presentations","Verification","proof_request","requested_attributes","transmuted_attr","issuer_did","requested_predicates","transmuted_pred","p_value","publish_schema","get_schema","fetch_schemas","issuer_cred_defs","issued_credentials","issue_credential","fetch_issued_credentials","OcaSchemaList","SchemaList","IssuedCredList","credential","credentialsLabel","credentialsSchema","schemaInput","credentialsSchemaAlt","offerReceivedStateCredentials","propose","sections","generatePreview","hashlink","credentialSubject","exp","ids","serviceSchema","credentialMessages","their_did","WebSocketAsPromised","ConnectionDetail","did_doc","my_key","inbound_processor","supported_types","endpoint","servicePrioritySort","service_list","service_transport_protocol","socket","blobToStr","onUnpackedMessage","addListener","process_inbound","set_return_route","sendPacked","packed_msg","my_key_b58","Promise","reject","reader","FileReader","addEventListener","readAsText","new_connection","from_store","obj","selectedConsent","consent_list","previewPluginConfig","pluginAlternatives","CurrentPds","PdsPlugins","previewPluginName","settings","CurrentPdsComponent","PluginConfigPreviewComponent","connectPlugin","fetch_static_connections","my_info","vk","their_info","static_agent_form","add","static_connections","static_did","static_key","static_endpoint","holder_presentations","fetch_holder_presentations","sendPresentationProposal","Presentation"],"mappings":"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","file":"js/app.7ac34a45.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tda/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-menu',{ref:\"menu\",staticStyle:{\"-webkit-user-select\":\"none\"},attrs:{\"mode\":\"vertical\",\"id\":\"side-menu\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\",\"router\":\"\"}},_vm._l((_vm.matching_modules_grouped),function(group_modules,group){return _c('el-menu-item-group',{key:group,attrs:{\"index\":group}},[_c('span',{staticClass:\"menu-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(group))]),_vm._l((group_modules),function(m){return _c('el-menu-item',{key:m.path,attrs:{\"index\":m.path,\"route\":{name: m.path}}},[_c('i',{class:m.icon}),_c('span',[_vm._v(_vm._s(m.label))])])})],2)}),1),_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\",attrs:{\"id\":\"top-bar\"}},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.connection.label))]),_c('el-form',{attrs:{\"disabled\":_vm.dids.length === 0}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Activate DID\"},model:{value:(_vm.active_did),callback:function ($$v) {_vm.active_did=$$v},expression:\"active_did\"}},_vm._l((_vm.dids),function(did){return _c('el-option',{key:did.did,attrs:{\"label\":did.did,\"value\":did}})}),1)],1)],1),_c('taa'),_c('el-main',{attrs:{\"id\":\"main-display\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container>\n    <el-menu\n      ref=\"menu\"\n      style=\"-webkit-user-select:none;\"\n      mode=\"vertical\"\n      id=\"side-menu\"\n      background-color=\"#545c64\"\n      text-color=\"#fff\"\n      active-text-color=\"#ffd04b\"\n      router>\n      <el-menu-item-group :index=\"group\" v-for=\"(group_modules, group) in matching_modules_grouped\" v-bind:key=\"group\">\n        <span class=\"menu-title\" slot=\"title\">{{group}}</span>\n        <el-menu-item :index=\"m.path\" v-for=\"m in group_modules\" v-bind:key=\"m.path\" :route=\"{name: m.path}\">\n          <i v-bind:class=\"m.icon\"></i>\n          <span>{{m.label}}</span>\n        </el-menu-item>\n      </el-menu-item-group>\n    </el-menu>\n    <nav id=\"top-bar\" class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{connection.label}}</a>\n      <el-form\n        :disabled=\"dids.length === 0\">\n        <el-select\n          v-model=\"active_did\"\n          filterable placeholder=\"Activate DID\">\n          <el-option\n            v-for=\"did in dids\"\n            :key=\"did.did\"\n            :label=\"did.did\"\n            :value=\"did\">\n          </el-option>\n        </el-select>\n        <!--\n          <el-select\n          v-if=\"$refs.ledgerTab\"\n          v-model=\"$refs.ledgerTab.active_ledger_selector.ledger\"\n          filterable placeholder=\"activate ledger\" >\n          <el-option\n          v-for=\"ledger in $refs.ledgerTab.ledgers\"\n          :key=\"ledger.name\"\n          :label=\"ledger.name\"\n          :value=\"ledger.name\">\n          </el-option>\n          </el-select>\n        -->\n      </el-form>\n    </nav>\n    <taa></taa>\n\n    <el-main id=\"main-display\">\n      <router-view></router-view>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nconst bs58 = require('bs58');\n\nimport Vue from 'vue';\nimport { mapState, mapActions } from \"vuex\";\nimport { from_store } from '../connection_detail.ts';\nimport message_bus from '@/message_bus.ts';\nimport share, {share_source} from '@/share.ts';\nimport components, {shared} from './components.ts';\nimport Taa from './TAA.vue';\n\n// The (. && .. && ...) || 'default' syntax provides defaults for modules that lack any level of the metadata\n//  definition. It would be useful if javascript had an Elvis Operator, but it does not.\n// The icons from https://element.eleme.io/#/en-US/component/icon\nlet module_list = Object.entries(components).map(([modulename, module]) => ({\n  path: module.default.name,\n  label: (module.metadata && module.metadata.menu && module.metadata.menu.label) || module.default.name,\n  icon: (module.metadata && module.metadata.menu && module.metadata.menu.icon) || 'el-icon-document',\n  group: (module.metadata && module.metadata.menu && module.metadata.menu.group) || 'Other',\n  priority: (module.metadata && module.metadata.menu && module.metadata.menu.priority) || 100,\n  dev_only: (module.metadata && module.metadata.menu && module.metadata.menu.dev_only) || false,\n  required_protocols: (module.metadata && module.metadata.menu && module.metadata.menu.required_protocols) || [],\n}));\n\n//sort modules by priority, then label\nmodule_list.sort((a,b)=> a.priority - b.priority ||\n                  a.label.localeCompare(b.label));\n\nexport default {\n  name: 'agent-base',\n  mixins: [\n    message_bus({ events: {\n      'redirect': (vm, route) => {\n        vm.redirect(route);\n      },\n      'send-message': (v, msg, return_route) => {\n        v.send_connection_message(msg, return_route);\n      },\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/notification/1.0/problem-report':\n      (vm, msg) => {\n        vm.$notify.error({\n          title: 'Small problem...',\n          message: (text => {\n            if (text.length > 30) {\n              return text.slice(0, 30).trim() + '...';\n            }\n            return text;\n          })(msg['explain-ltxt']),\n          onClick: () => vm.redirect('message-history'),\n          duration: 4000,\n          customClass: 'problem-report-notification'\n        })\n      }\n    }}),\n    share_source(shared),\n    share({\n      use: ['dids', 'public_did', 'protocols', 'is_dev_interface'],\n      actions: [\n        'fetch_dids',\n        'fetch_active_did',\n        'activate_did',\n        'fetch_protocols',\n        'fetch_connections'\n      ]\n    })\n  ],\n  props: ['agentid'],\n  components: {Taa},\n  data: function() {\n    return {\n      'connection': {'label':'loading...'},\n      'modules': module_list,\n      'return_route_poll_timer': '',\n    }\n  },\n  computed: {\n    active_did: {\n      get () {\n        return this.public_did || \"\";\n      },\n      set (did) {\n        return this.activate_did(did)\n      }\n    },\n    matching_modules_grouped: function(){\n      // This computed attribute updates when the supported protocol list is updated.\n      let pid_list = this.protocols.map(p => p.pid);\n\n      let view_filtered_list = module_list\n      if(!this.is_dev_interface) {\n        view_filtered_list = module_list.filter(m => !m.dev_only)\n      }\n      let filtered_list = view_filtered_list.filter(function(m){\n        return m.required_protocols.every(req_protocol => pid_list.includes(req_protocol));\n      });\n      //group modules\n      let module_groups = filtered_list.reduce(function (r, m) {\n          r[m.group] = r[m.group] || [];\n          r[m.group].push(m);\n          return r;\n      }, Object.create(null));\n      return module_groups;\n    }\n\n  },\n  methods: {\n    ...mapActions(\"Agents\", [\"get_agent\"]),\n    async send_connection_message(msg){\n      await this.connection_loaded;\n      this.connection.send_message(msg);\n    },\n    async processInbound(msg){\n      // RFC 0348 Step 1: modify prefix (if present) to old standard\n      let OLD = \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/\";\n      let NEW = \"https://didcomm.org/\";\n      if(msg['@type'].startsWith(NEW)){\n        msg['@type'] = msg['@type'].replace(NEW, OLD);\n      }\n      // END RFC 0348 Step 1\n      this.$message_bus.$emit('message-received', msg);\n      this.$message_bus.$emit(msg['@type'], msg);\n    },\n    return_route_poll(){\n      // This brute forces picking up return route messages\n      let msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/trust_ping/1.0/ping\",\n        \"response_requested\": true,\n        \"~transport\": {\n          \"return_route\": \"all\"\n        }\n      };\n      this.send_message(msg);\n    },\n    redirect: function(route) {\n      this.$router.push({name: route});\n      this.$refs.menu.updateActiveIndex(route);\n    }\n  },\n  created: async function() {\n    this.connection_loaded = (async () => {\n      this.connection = from_store(await this.get_agent(this.agentid), this.processInbound);\n    })();\n    await this.connection_loaded;\n    this.fetch_protocols();\n    this.fetch_dids();\n    this.fetch_active_did();\n    this.fetch_connections();\n    this.$message_bus.$emit('agent-created');\n    //start poll timer\n    if(this.connection.needs_return_route_poll()){\n      this.return_route_poll_timer = setInterval(this.return_route_poll, 10000);\n    }\n  },\n  beforeDestroy: function() {\n    if(this.connection.needs_return_route_poll()) {\n      clearInterval(this.return_route_poll_timer)\n    }\n  }\n}\n</script>\n\n<style>\n  #top-bar {\n    position:absolute;\n    right: 0px;\n    left:200px;\n    height: 60px;\n  }\n\n  #main-display {\n    position: absolute;\n    right:0px;\n    bottom: 0px;\n    top: 60px;\n    left: 200px;\n  }\n\n  #side-menu {\n    height: 100%;\n    width: 200px;\n    position: absolute;\n\n  }\n  #side-menu .menu-title {\n    color: #fff\n  }\n  #side-menu i {\n    color: #409EFF;\n  }\n\n  .el-menu-item-group__title {\n    font-size: 18px;\n  }\n\n  .el-menu-item {\n    height: 36px;\n    line-height: 36px;\n  }\n\n  .problem-report-notification {\n    cursor: pointer;\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentBase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentBase.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AgentBase.vue?vue&type=template&id=83d8b3d8&\"\nimport script from \"./AgentBase.vue?vue&type=script&lang=js&\"\nexport * from \"./AgentBase.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AgentBase.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('connection-list',{staticClass:\"activeConnections\",attrs:{\"title\":\"Active Connections:\",\"editable\":\"true\",\"list\":_vm.active_connections},on:{\"connection-editted\":_vm.update_connection,\"connection-deleted\":_vm.delete_connection,\"refresh\":_vm.fetch_connections}}),_c('connection-list',{attrs:{\"title\":\"Pending Connections:\",\"editable\":\"true\",\"list\":_vm.pending_connections},on:{\"connection-editted\":_vm.update_connection,\"connection-deleted\":_vm.delete_connection}}),_c('connection-list',{attrs:{\"title\":\"Failed Connections:\",\"editable\":\"false\",\"list\":_vm.failed_connections},on:{\"connection-editted\":_vm.update_connection,\"connection-deleted\":_vm.delete_connection}}),_c('p',[_vm._v(\"Add connection from invitation:\")]),_c('el-form',{nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"Invitation URL:\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.invitation),callback:function ($$v) {_vm.invitation=$$v},expression:\"invitation\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.recieve_invitation},slot:\"append\"},[_vm._v(\"Add\")])],1),_c('el-button',{staticClass:\"ml-2\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-camera\"},on:{\"click\":function($event){_vm.isDialogVisible = true}}},[_vm._v(\"Scan QR-Code\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"Scan QR-Code\",\"visible\":_vm.isDialogVisible},on:{\"update:visible\":function($event){_vm.isDialogVisible=$event}}},[(_vm.isDialogVisible)?_c('qrcode-stream',{on:{\"decode\":_vm.onQrScan}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <connection-list\n      title=\"Active Connections:\"\n      editable=\"true\"\n      class=\"activeConnections\"\n      :list=\"active_connections\"\n      @connection-editted=\"update_connection\"\n      @connection-deleted=\"delete_connection\"\n      @refresh=\"fetch_connections\"></connection-list>\n    <connection-list\n      title=\"Pending Connections:\"\n      editable=\"true\"\n      :list=\"pending_connections\"\n      @connection-editted=\"update_connection\"\n      @connection-deleted=\"delete_connection\"></connection-list>\n    <connection-list\n      title=\"Failed Connections:\"\n      editable=\"false\"\n      :list=\"failed_connections\"\n      @connection-editted=\"update_connection\"\n      @connection-deleted=\"delete_connection\"></connection-list>\n\n    <p>Add connection from invitation:</p>\n    <el-form @submit.native.prevent>\n      <el-form-item\n        label=\"Invitation URL:\">\n        <el-input\n          style=\"width: 300px;\"\n          v-model=\"invitation\">\n          <el-button\n            slot=\"append\"\n            type=\"primary\"\n            icon=\"el-icon-plus\"\n            @click=\"recieve_invitation\">Add</el-button>\n        </el-input>\n\n        <el-button\n          class=\"ml-2\"\n          type=\"primary\"\n          icon=\"el-icon-camera\"\n          @click=\"isDialogVisible = true\"\n        >Scan QR-Code</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-dialog\n      title=\"Scan QR-Code\"\n      :visible.sync=\"isDialogVisible\"\n    >\n      <qrcode-stream\n        v-if=\"isDialogVisible\"\n        @decode=\"onQrScan\"\n      ></qrcode-stream>\n    </el-dialog>\n  </el-row>\n</template>\n\n<script>\nimport { QrcodeStream } from 'vue-qrcode-reader'\nimport ConnectionList from './ConnectionList.vue';\nimport share from '@/share.ts';\nimport message_bus from '@/message_bus.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Connections',\n    icon: 'el-icon-user',\n    group: 'Agent to Agent',\n    priority: 30,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1'\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    connections: []\n  },\n  computed: {\n    active_connections: function() {\n        return Object.values(this.connections).filter(\n          conn => {\n            if (!(\"state\" in conn)) {\n              return false;\n            }\n            if (conn.their_label == 'ToolBox') {\n              return false;\n            }\n            return conn.state === \"active\" || conn.state === \"response\"\n          }\n        );\n    },\n    id_to_connection: function(connection_id) {\n      let map = {};\n      this.connections.forEach((connection) => {\n        map[connection.connection_id] = connection;\n      })\n      console.log(map);\n      return map;\n    }\n  },\n  listeners: {\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/connection-list\":\n    (share, msg) => share.connections = msg.results,\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/connection\":\n    (share, msg) => share.fetch_connections(),\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/ack\":\n    (share, msg) => share.fetch_connections(),\n  },\n  methods: {\n    fetch_connections: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/connection-get-list\",\n      });\n    }\n  }\n};\n\nexport default {\n  name: 'connections',\n  components: {\n    ConnectionList,\n    QrcodeStream,\n  },\n  mixins: [\n    message_bus(),\n    share({\n      use: ['connections', 'active_connections'],\n      actions: ['fetch_connections']\n    })\n  ],\n  data: function() {\n    return {\n      'invitation': '',\n      'isDialogVisible': false,\n    }\n  },\n  created: async function() {\n    await this.ready();\n    this.fetch_connections();\n  },\n  computed: {\n    pending_connections: function() {\n      return Object.values(this.connections).filter(\n        conn => \"state\" in conn &&\n        conn.state !== \"active\" &&\n        conn.state !== \"invitation\" &&\n        conn.state !== \"error\"\n      );\n    },\n    failed_connections: function() {\n      return Object.values(this.connections).filter(\n        conn => \"state\" in conn && conn.state === \"error\"\n      );\n    }\n  },\n  methods: {\n    update_connection: function(form) {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/update\",\n        \"connection_id\": form.connection_id,\n        \"label\": form.label,\n        \"role\": form.role,\n      };\n      this.send_message(query_msg);\n    },\n    delete_connection: function(connection) {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/delete\",\n        \"connection_id\": connection.connection_id,\n      };\n      this.send_message(query_msg);\n    },\n    recieve_invitation: function() {\n      let receive_invite_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/receive-invitation\",\n        \"invitation\": this.invitation,\n        \"auto_accept\": \"auto\"\n      };\n      this.send_message(receive_invite_msg);\n      this.invitation = \"\";\n      setTimeout(() => {\n        return this.fetch_connections();\n      }, 4000);\n    },\n    onQrScan: function (decodedString) {\n      try {\n        // only if string can be parsed as url, we wanna accept it\n        new URL(decodedString);\n      } catch {\n        return;\n      }\n\n      this.isDialogVisible = false;\n      this.invitation = decodedString;\n      this.recieve_invitation();\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=33246ba4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\"Discover Feature\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.fetch_protocols}})],1),_c('table',{staticClass:\"table table-sm\"},[_c('tr',[_c('th',[_vm._v(\"Protocol\")]),_c('th',[_vm._v(\"Roles\")])]),_vm._l((_vm.protocols),function(p){return _c('tr',{key:p.pid},[_c('td',[_vm._v(_vm._s(p.pid))]),_c('td',[_vm._v(_vm._s(p.roles))])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">Discover Feature</a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"fetch_protocols\"></el-button>\n    </nav>\n    <table class=\"table table-sm\">\n      <tr>\n        <th>Protocol</th>\n        <th>Roles</th>\n      </tr>\n      <tr v-for=\"p in protocols\" :key=\"p.pid\">\n        <td>{{p.pid}}</td>\n        <td>{{p.roles}}</td>\n      </tr>\n    </table>\n  </el-row>\n</template>\n\n<script>\nimport share from '@/share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Discover Features',\n    icon: 'el-icon-discover',\n    group: 'Toolbox to Agent',\n    priority: 5,\n    dev_only: true,\n    required_protocols: [\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    protocols: []\n  },\n  computed: {\n\n  },\n  listeners: {\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/discover-features/1.0/disclose\":\n    (share, msg) => share.protocols = msg.protocols,\n  },\n  methods: {\n    fetch_protocols: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/discover-features/1.0/query\",\n        \"query\": \"*\"\n      });\n    }\n  }\n};\n\nexport default {\n  name: 'feature-discovery',\n  mixins: [\n    share({\n      use: ['protocols'],\n      actions: ['fetch_protocols'],\n    })\n  ],\n  created: async function() {\n    await this.ready();\n    this.fetch_protocols();\n  },\n  methods: {\n\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bd63e65a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.list.length)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.title))]),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.list),function(did){return _c('el-collapse-item',{key:did.did,attrs:{\"title\":_vm.get_name(did),\"name\":_vm.get_name(did)}},[_c('el-row',{key:did.did},[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":2,\"data\":did}})],1),(_vm.editable)?[_c('el-button',{on:{\"click\":function($event){return _vm.edit(did)}}},[_vm._v(\"Edit\")])]:_vm._e(),_c('el-button',{on:{\"click\":function($event){return _vm.publish(did)}}},[_vm._v(\"Publish\")]),_c('el-button',{on:{\"click\":function($event){return _vm.edit(did)}}},[_vm._v(\"Edit\")]),(!('metadata' in did &&\n                            'public' in did.metadata &&\n                            did.metadata.public))?_c('el-button',{on:{\"click\":function($event){return _vm.activate(did)}}},[_vm._v(\"activate\")]):_vm._e()],2)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Edit did attributes\",\"visible\":_vm.editFormActive},on:{\"update:visible\":function($event){_vm.editFormActive=$event}}},[_c('el-form',{attrs:{\"model\":_vm.editForm}},[_c('el-form-item',{attrs:{\"label\":\"Label:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.editForm.label),callback:function ($$v) {_vm.$set(_vm.editForm, \"label\", $$v)},expression:\"editForm.label\"}})],1),_c('el-form-item',{attrs:{\"label\":\"permission:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.editForm.permission),callback:function ($$v) {_vm.$set(_vm.editForm, \"permission\", $$v)},expression:\"editForm.permission\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editFormActive = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"Confirm\")])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <div v-if=\"list.length\">\n    <p>{{ title }}</p>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"did in list\"\n          v-bind:title=\"get_name(did)\"\n          :name=\"get_name(did)\"\n          :key=\"did.did\">\n          <el-row :key=\"did.did\">\n            <div>\n              <vue-json-pretty\n                :deep=2\n                :data=\"did\">\n              </vue-json-pretty>\n            </div>\n            <template v-if=\"editable\">\n              <el-button @click=\"edit(did)\">Edit</el-button>\n            </template>\n            <!-- <el-button type=\"danger\" @click=\"delete_did(did)\">Delete</el-button> -->\n            <el-button @click=\"publish(did)\">Publish</el-button>\n            <el-button @click=\"edit(did)\">Edit</el-button>\n            <el-button v-if=\"!('metadata' in did &&\n                              'public' in did.metadata &&\n                              did.metadata.public)\" v-on:click=\"activate(did)\">activate</el-button>\n            <!-- <el-button v-on:click=\"resolve(did)\">read permissions</el-button> -->\n            <!-- <el-button v-on:click=\"collapse_expanded(did)\">^</el-button> -->\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <el-dialog title=\"Edit did attributes\" :visible.sync=\"editFormActive\">\n      <el-form :model=\"editForm\">\n        <el-form-item label=\"Label:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"editForm.label\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"permission:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"editForm.permission\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <!-- <el-form-item label=\"public:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"editForm.permission\" autocomplete=\"off\"></el-input>\n        </el-form-item> -->\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editFormActive = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"update\">Confirm</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\n\nexport default {\n  name: 'did-list',\n  props: ['title', 'list','editable'],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      expanded_items:[],\n      editFormActive: false,\n      editForm: {\n        did: '',\n        verkey: '',\n        metadata: {},\n        label:'',\n        //permission:'',\n      },\n      formLabelWidth: '100px'\n    }\n  },\n  methods: {\n    get_name: function(did) {\n      if('metadata'in did && 'label' in did.metadata) {\n        return 'did: ' + did.metadata.label;\n      };\n      return 'did: ' + did.did + ', vk: ' + did.verkey;\n    },\n    edit: function (did) {\n      this.editForm.did = did.did;\n      this.editForm.verkey = did.verkey\n      this.editForm.metadata = did.metadata\n      //this.editForm.public = did.public\n      this.editForm.permissions = did.permissions\n      this.editFormActive = true\n    },\n    update: function() {\n      this.editFormActive = false;\n      this.$emit('did-update', this.editForm);\n    },\n    activate: function(did) {\n      this.publish(did)\n      this.$emit('did-activate', did);\n    },\n    publish: function(did) {\n      this.$emit('did-publish', did);\n    },\n    resolve: function(did) {\n      this.$emit('did-resolve', did);\n    },\n    /* delete_did: function (connection) {\n      this.$emit('did-deleted', connection);\n    }, */\n    collapse_expanded: function(did){\n      this.expanded_items = this.expanded_items.filter(\n        item => item != did.did\n      );\n    },\n  },\n  watch: {\n    list: {\n      handler: function(newValue) {\n          //console.log(\"dids modified\")\n      },\n      deep: true\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DidList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DidList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DidList.vue?vue&type=template&id=635bb5d5&\"\nimport script from \"./DidList.vue?vue&type=script&lang=js&\"\nexport * from \"./DidList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./AgentBase\": \"0553\",\n\t\"./AgentBase.vue\": \"0553\",\n\t\"./AgentList\": \"a73e\",\n\t\"./AgentList.vue\": \"a73e\",\n\t\"./BasicMessage\": \"38e6\",\n\t\"./BasicMessage/\": \"38e6\",\n\t\"./BasicMessage/index\": \"38e6\",\n\t\"./BasicMessage/index.vue\": \"38e6\",\n\t\"./Compose\": \"904f\",\n\t\"./Compose/\": \"904f\",\n\t\"./Compose/index\": \"904f\",\n\t\"./Compose/index.vue\": \"904f\",\n\t\"./Connections\": \"06c7\",\n\t\"./Connections/\": \"06c7\",\n\t\"./Connections/ConnectionList\": \"9137\",\n\t\"./Connections/ConnectionList.vue\": \"9137\",\n\t\"./Connections/ConnectionList/ConnectionServiceList\": \"517b\",\n\t\"./Connections/ConnectionList/ConnectionServiceList.vue\": \"517b\",\n\t\"./Connections/index\": \"06c7\",\n\t\"./Connections/index.vue\": \"06c7\",\n\t\"./Consents\": \"d194\",\n\t\"./Consents/\": \"d194\",\n\t\"./Consents/ConsentList\": \"39f5\",\n\t\"./Consents/ConsentList.vue\": \"39f5\",\n\t\"./Consents/NewConsent\": \"aef5\",\n\t\"./Consents/NewConsent.vue\": \"aef5\",\n\t\"./Consents/NewConsent/OcaSchemaSearch\": \"9e57\",\n\t\"./Consents/NewConsent/OcaSchemaSearch.vue\": \"9e57\",\n\t\"./Consents/index\": \"d194\",\n\t\"./Consents/index.vue\": \"d194\",\n\t\"./CredentialIssuance\": \"d859\",\n\t\"./CredentialIssuance/\": \"d859\",\n\t\"./CredentialIssuance/CredDefList\": \"bba4\",\n\t\"./CredentialIssuance/CredDefList.vue\": \"bba4\",\n\t\"./CredentialIssuance/IssuedCredList\": \"c747\",\n\t\"./CredentialIssuance/IssuedCredList.vue\": \"c747\",\n\t\"./CredentialIssuance/OcaSchemaList\": \"20c5\",\n\t\"./CredentialIssuance/OcaSchemaList.vue\": \"20c5\",\n\t\"./CredentialIssuance/SchemaList\": \"80e8\",\n\t\"./CredentialIssuance/SchemaList.vue\": \"80e8\",\n\t\"./CredentialIssuance/index\": \"d859\",\n\t\"./CredentialIssuance/index.vue\": \"d859\",\n\t\"./Dids\": \"6b82\",\n\t\"./Dids/\": \"6b82\",\n\t\"./Dids/DidList\": \"1076\",\n\t\"./Dids/DidList.vue\": \"1076\",\n\t\"./Dids/index\": \"6b82\",\n\t\"./Dids/index.vue\": \"6b82\",\n\t\"./FeatureDiscovery\": \"0a19\",\n\t\"./FeatureDiscovery/\": \"0a19\",\n\t\"./FeatureDiscovery/index\": \"0a19\",\n\t\"./FeatureDiscovery/index.vue\": \"0a19\",\n\t\"./HelloWorld\": \"fdab\",\n\t\"./HelloWorld.vue\": \"fdab\",\n\t\"./Invitations\": \"50df\",\n\t\"./Invitations/\": \"50df\",\n\t\"./Invitations/index\": \"50df\",\n\t\"./Invitations/index.vue\": \"50df\",\n\t\"./LandingPage\": \"4925\",\n\t\"./LandingPage.vue\": \"4925\",\n\t\"./LandingPage/SystemInformation\": \"88c2\",\n\t\"./LandingPage/SystemInformation.vue\": \"88c2\",\n\t\"./Ledger\": \"a607\",\n\t\"./Ledger/\": \"a607\",\n\t\"./Ledger/index\": \"a607\",\n\t\"./Ledger/index.vue\": \"a607\",\n\t\"./MessageHistory\": \"8b1a\",\n\t\"./MessageHistory/\": \"8b1a\",\n\t\"./MessageHistory/index\": \"8b1a\",\n\t\"./MessageHistory/index.vue\": \"8b1a\",\n\t\"./Messages\": \"50c3\",\n\t\"./Messages/\": \"50c3\",\n\t\"./Messages/index\": \"50c3\",\n\t\"./Messages/index.vue\": \"50c3\",\n\t\"./MyCredentials\": \"94c1\",\n\t\"./MyCredentials/\": \"94c1\",\n\t\"./MyCredentials/MyCredentialsList\": \"da2f\",\n\t\"./MyCredentials/MyCredentialsList.vue\": \"da2f\",\n\t\"./MyCredentials/index\": \"94c1\",\n\t\"./MyCredentials/index.vue\": \"94c1\",\n\t\"./Presentations\": \"f32f\",\n\t\"./Presentations/\": \"f32f\",\n\t\"./Presentations/Presentation\": \"6f66\",\n\t\"./Presentations/Presentation.vue\": \"6f66\",\n\t\"./Presentations/index\": \"f32f\",\n\t\"./Presentations/index.vue\": \"f32f\",\n\t\"./Services\": \"ce6f\",\n\t\"./Services/\": \"ce6f\",\n\t\"./Services/ApplicationList\": \"94ef\",\n\t\"./Services/ApplicationList.vue\": \"94ef\",\n\t\"./Services/NewService\": \"3baa\",\n\t\"./Services/NewService.vue\": \"3baa\",\n\t\"./Services/NewService/ConsentSelect\": \"e2fb\",\n\t\"./Services/NewService/ConsentSelect.vue\": \"e2fb\",\n\t\"./Services/NewService/OcaSchemaSearch\": \"8d27\",\n\t\"./Services/NewService/OcaSchemaSearch.vue\": \"8d27\",\n\t\"./Services/ServiceList\": \"45bf\",\n\t\"./Services/ServiceList.vue\": \"45bf\",\n\t\"./Services/index\": \"ce6f\",\n\t\"./Services/index.vue\": \"ce6f\",\n\t\"./Settings\": \"8099\",\n\t\"./Settings/\": \"8099\",\n\t\"./Settings/ControllerSettings\": \"96c5\",\n\t\"./Settings/ControllerSettings.vue\": \"96c5\",\n\t\"./Settings/PdsSettings\": \"e870\",\n\t\"./Settings/PdsSettings.vue\": \"e870\",\n\t\"./Settings/PdsSettings/CurrentPds\": \"b16a\",\n\t\"./Settings/PdsSettings/CurrentPds.vue\": \"b16a\",\n\t\"./Settings/PdsSettings/PdsPlugins\": \"48a9\",\n\t\"./Settings/PdsSettings/PdsPlugins.vue\": \"48a9\",\n\t\"./Settings/TdaSettings\": \"6ee1\",\n\t\"./Settings/TdaSettings.vue\": \"6ee1\",\n\t\"./Settings/index\": \"8099\",\n\t\"./Settings/index.vue\": \"8099\",\n\t\"./StaticConnections\": \"ef07\",\n\t\"./StaticConnections/\": \"ef07\",\n\t\"./StaticConnections/index\": \"ef07\",\n\t\"./StaticConnections/index.vue\": \"ef07\",\n\t\"./TAA\": \"405c\",\n\t\"./TAA.vue\": \"405c\",\n\t\"./TrustedIssuers\": \"b06c\",\n\t\"./TrustedIssuers/\": \"b06c\",\n\t\"./TrustedIssuers/Issuers\": \"322e\",\n\t\"./TrustedIssuers/Issuers.vue\": \"322e\",\n\t\"./TrustedIssuers/index\": \"b06c\",\n\t\"./TrustedIssuers/index.vue\": \"b06c\",\n\t\"./Verifications\": \"d2a9\",\n\t\"./Verifications/\": \"d2a9\",\n\t\"./Verifications/Verification\": \"89bd\",\n\t\"./Verifications/Verification.vue\": \"89bd\",\n\t\"./Verifications/index\": \"d2a9\",\n\t\"./Verifications/index.vue\": \"d2a9\",\n\t\"./WebSocket\": \"e7fa\",\n\t\"./WebSocket.vue\": \"e7fa\",\n\t\"./components\": \"50b1\",\n\t\"./components.ts\": \"50b1\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"1b03\";","const uuidv4 = require('uuid/v4');\n\nconst state = {\n  messages: []\n}\n\nconst mutations = {\n  ADD_MESSAGE (state, message) {\n    state.messages.push(Object.assign(message, { uuid: uuidv4().toString() }));\n  },\n  DELETE_MESSAGE (state, uuid: string) {\n    state.messages = state.messages.filter(function(element, index, arr){\n      return element.uuid != uuid;\n    });\n  }\n};\n\nconst actions = {\n  add_message (context, message) {\n    context.commit('ADD_MESSAGE', message);\n  },\n  delete_message (context, uuid: string) {\n    context.commit('DELETE_MESSAGE', uuid);\n  },\n  get_message (context, uuid: string) {\n    let message = context.state.messages.find(function(element){\n      return element.uuid == uuid;\n    });\n    return message;\n  },\n  get_messages_by_topic (context, topic: string) {\n    let messages = context.state.messages.filter(function(element){\n      return element.topic == topic;\n    });\n    return messages;\n  }\n};\n\nexport default {\n  namespaced: true,   // ADD THIS LINE\n  state,\n  mutations,\n  actions,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),_c('vue-bootstrap-typeahead',{staticStyle:{\"width\":\"400px\"},attrs:{\"minMatchingChars\":0,\"data\":_vm.ocaSchemaSearch || [],\"serializer\":function (s) { return s.schemaName; }},on:{\"hit\":_vm.getOcaSchema},scopedSlots:_vm._u([{key:\"suggestion\",fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn [_c('small',[_vm._v(_vm._s(data.namespace)+\"/\")]),_c('span',{domProps:{\"innerHTML\":_vm._s(htmlText)}})]}}]),model:{value:(_vm.ocaSchemaQuery),callback:function ($$v) {_vm.ocaSchemaQuery=$$v},expression:\"ocaSchemaQuery\"}},[_c('template',{slot:\"append\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ocaForm && _vm.ocaSchemaQuery),expression:\"ocaForm && ocaSchemaQuery\"}],staticClass:\"btn-sm\",attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.preview()}},slot:\"append\"},[_vm._v(\"Preview\")])],1)],2),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ocaForm && _vm.ocaSchemaQuery),expression:\"ocaForm && ocaSchemaQuery\"}],attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.issueFormActive = true}}},[_vm._v(\"Issue\")])],1),_c('el-dialog',{attrs:{\"title\":\"Issue Credential\",\"visible\":_vm.issueFormActive},on:{\"update:visible\":function($event){_vm.issueFormActive=$event},\"close\":function($event){return _vm.deActivateForm()}}},[_c('el-form',{attrs:{\"model\":_vm.issueForm}},[_c('el-form-item',{attrs:{\"label\":\"Connection:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"value-key\":\"issueForm.connection_id\",\"placeholder\":\"Select\"},model:{value:(_vm.issueForm.connection_id),callback:function ($$v) {_vm.$set(_vm.issueForm, \"connection_id\", $$v)},expression:\"issueForm.connection_id\"}},_vm._l((_vm.available_connections),function(connection){return _c('el-option',{key:connection.connection_id,attrs:{\"label\":connection.their_label,\"value\":connection.connection_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Comment (optional)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.issueForm.comment),callback:function ($$v) {_vm.$set(_vm.issueForm, \"comment\", $$v)},expression:\"issueForm.comment\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.deActivateForm()}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"disabled\":!_vm.issueForm.connection_id,\"type\":\"primary\"},on:{\"click\":_vm.fillOcaForm}},[_vm._v(\"Next\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"Issue Credential\",\"modalAppendToBody\":false,\"visible\":_vm.ocaFormSaved},on:{\"update:visible\":function($event){_vm.ocaFormSaved=$event},\"close\":function($event){return _vm.deActivateForm()}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"For:\",\"label-width\":_vm.formLabelWidth}},[_vm._v(\" \"+_vm._s(_vm.issueData.connection_label)+\" \")]),(_vm.issueData.comment)?_c('el-form-item',{attrs:{\"label\":\"Comment (optional)\",\"label-width\":_vm.formLabelWidth}},[_vm._v(\" \"+_vm._s(_vm.issueData.comment)+\" \")]):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"OCA Schema:\",\"label-width\":_vm.formLabelWidth}},[_vm._v(\" \"+_vm._s(_vm.issueData.schema_name)+\" \"),_c('el-button',{staticClass:\"btn-sm\",on:{\"click\":function($event){return _vm.preview(_vm.issueData.formInput)}}},[_vm._v(\"Preview\")])],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.deActivateForm()}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"disabled\":!_vm.issueData.connection_id,\"loading\":_vm.sendingCred,\"type\":\"primary\"},on:{\"click\":_vm.issueCredential}},[_vm._v(\"Send\")])],1)],1),_c('preview-component',{ref:\"PreviewComponent\",staticStyle:{\"z-index\":\"9999\"},attrs:{\"readonly\":true,\"form\":_vm.ocaForm,\"alternatives\":_vm.ocaFormAlternatives}}),_c('preview-component',{ref:\"OcaFormComponent\",attrs:{\"form\":_vm.ocaForm,\"alternatives\":_vm.ocaFormAlternatives}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OcaSchemaList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OcaSchemaList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OcaSchemaList.vue?vue&type=template&id=58f9b654&\"\nimport script from \"./OcaSchemaList.vue?vue&type=script&lang=js&\"\nexport * from \"./OcaSchemaList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentBase.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentBase.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.turstedDidFormActive = true}}},[_vm._v(\"Add Trusted Issuer Did\")])],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.trusted_issuers),function(issuer){return _c('el-collapse-item',{key:issuer.did,attrs:{\"title\":issuer.label,\"name\":issuer.did}},[_c('el-row',{key:issuer.did},[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":2,\"data\":issuer}})],1),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.removeTrustedIssuer(issuer)}}},[_vm._v(\"Delete\")])],1)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Add Trusted Issuer\",\"visible\":_vm.turstedDidFormActive},on:{\"update:visible\":function($event){_vm.turstedDidFormActive=$event}}},[_c('el-form',{attrs:{\"model\":_vm.trusted_issuers_form}},[_c('el-form-item',{attrs:{\"label\":\"did:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.trusted_issuers_form.did),callback:function ($$v) {_vm.$set(_vm.trusted_issuers_form, \"did\", $$v)},expression:\"trusted_issuers_form.did\"}})],1),_c('el-form-item',{attrs:{\"label\":\"label:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.trusted_issuers_form.label),callback:function ($$v) {_vm.$set(_vm.trusted_issuers_form, \"label\", $$v)},expression:\"trusted_issuers_form.label\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.turstedDidFormActive = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.storeTrustedIssuer}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"turstedDidFormActive = true\">Add Trusted Issuer Did</el-button>\n    </nav>\n\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"issuer in trusted_issuers\"\n          v-bind:title=\"issuer.label\"\n          :name=\"issuer.did\"\n          :key=\"issuer.did\">\n          <el-row :key=\"issuer.did\">\n            <div>\n              <vue-json-pretty\n                :deep=2\n                :data=\"issuer\">\n              </vue-json-pretty>\n            </div>\n            <el-button type=\"danger\" @click=\"removeTrustedIssuer(issuer)\">Delete</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n\n    <el-dialog title=\"Add Trusted Issuer\" :visible.sync=\"turstedDidFormActive\">\n        <el-form :model=\"trusted_issuers_form\">\n            <el-form-item label=\"did:\" :label-width=\"formLabelWidth\">\n                <el-input v-model=\"trusted_issuers_form.did\" autocomplete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"label:\" :label-width=\"formLabelWidth\">\n                <el-input v-model=\"trusted_issuers_form.label\" autocomplete=\"off\"></el-input>\n            </el-form-item>\n        </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"turstedDidFormActive = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"storeTrustedIssuer\">Confirm</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\n\nexport default {\n  name: 'issuers',\n  props: [\n    'title',\n    'trusted_issuers',\n    ],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      expanded_items:[],\n      turstedDidFormActive: false,\n      trusted_issuers_form:{\n        'did':'',\n        'label':'',\n      },\n      formLabelWidth: '200px'\n    }\n  },\n  methods: {\n    collapse_expanded: function(issuer){\n      this.expanded_items = this.expanded_items.filter(\n        item => item != issuer.did\n      );\n    },\n    removeTrustedIssuer: function(issuer) {\n      this.$emit('remove-issuer', issuer);\n      this.turstedDidFormActive = false;\n    },\n    storeTrustedIssuer: function() {\n      this.$emit('store-issuer', {\n        did: this.trusted_issuers_form.did,\n        label: this.trusted_issuers_form.label\n      });\n      this.turstedDidFormActive = false;\n      this.trusted_issuers_form.did = \"\"\n      this.trusted_issuers_form.label = \"\"\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Issuers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Issuers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Issuers.vue?vue&type=template&id=8ec8ea50&\"\nimport script from \"./Issuers.vue?vue&type=script&lang=js&\"\nexport * from \"./Issuers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('div',{staticStyle:{\"margin-bottom\":\"1em\"}},[_c('el-input',{staticStyle:{\"width\":\"500px\"},attrs:{\"placeholder\":\"Message to send to the connected Agent\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.send($event)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":_vm.send},slot:\"append\"},[_vm._v(\"Send\")])],1)],1),_vm._l((_vm.basicmessages.slice().reverse()),function(m){return _c('div',{key:m.msg['@id']},[_c('div',{class:'basicmessage-'+m.direction},[_vm._v(_vm._s(m.msg.content))])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <div style=\"margin-bottom: 1em;\">\n      <el-input\n        placeholder=\"Message to send to the connected Agent\"\n        @keyup.enter.native=\"send\"\n        v-model=\"content\"\n        style=\"width:500px;\">\n        <el-button\n          slot=\"append\"\n          type=\"primary\"\n          icon=\"el-icon-check\"\n          @click=\"send\">Send</el-button>\n      </el-input>\n    </div>\n    <div v-for=\"m in basicmessages.slice().reverse()\" :key=\"m.msg['@id']\">\n      <div :class=\"'basicmessage-'+m.direction\">{{m.msg.content}}</div>\n    </div>\n  </el-row>\n</template>\n\n<style>\n.message-display {\n  margin-bottom: 1em;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 1em;\n}\n.basicmessage-Sent {\n  background-color: white;\n  margin-right: 4em;\n  margin-bottom: 1em;\n  padding: 1em;\n  border: 1px solid lightgrey;\n  border-radius: 4px;\n}\n.basicmessage-Received {\n  background-color: lightblue;\n  margin-left: 4em;\n  margin-bottom: 1em;\n  padding: 1em;\n  text-align: right;\n  border: 1px solid lightgrey;\n  border-radius: 4px;\n}\n</style>\n\n<script>\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Basic Message',\n    icon: 'el-icon-chat-line-square',\n    group: 'Toolbox to Agent',\n    priority: 20,\n    dev_only: true,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/basicmessage/1.0'\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    basicmessages: [],\n  },\n  listeners: {\n    'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/basicmessage/1.0/message': (share, msg) => {\n      share.basicmessages.push({\n        'msg': msg,\n        'direction': 'Received'\n      });\n    },\n    'send-message': (share, msg) => {\n      if (msg['@type'] === 'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/basicmessage/1.0/message') {\n        share.basicmessages.push({\n          'msg': msg,\n          'direction': 'Sent'\n        });\n      }\n    }\n  }\n};\n\nexport default {\n  name: 'basic-message',\n  mixins: [\n    message_bus(),\n    share({\n      use: ['basicmessages']\n    })\n  ],\n  data: function() {\n    return {\n      content: '',\n    }\n  },\n  methods: {\n    send: function() {\n      let msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/basicmessage/1.0/message\",\n        \"content\": this.content\n      };\n      this.send_message(msg);\n      this.content = '';\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=70bf0149&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('consents-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.consents),function(consent,index){return _c('el-collapse-item',{key:index,attrs:{\"name\":consent.label + index},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(consent.label)+\" \"+_vm._s(consent.created_at ? '| ' + consent.created_at : '')+\" \"+_vm._s(consent.connection ? '| ' + consent.connection.their_label : ''))]},proxy:true}],null,true)},[_c('el-row',[_c('vue-json-pretty',{attrs:{\"deep\":0,\"data\":consent}}),_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.preview(consent)}}},[_vm._v(\"Preview\")])],1)],1)}),1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n\n      <el-button type=\"primary\" icon=\"el-icon-refresh\"\n        @click=\"$emit('consents-refresh')\"></el-button>\n    </nav>\n\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"(consent, index) in consents\"\n          :name=\"consent.label + index\"\n          :key=\"index\">\n          <template v-slot:title>{{ consent.label }} {{ consent.created_at ? '| ' + consent.created_at : '' }} {{ consent.connection ? '| ' + consent.connection.their_label : '' }}</template>\n          <el-row>\n            <vue-json-pretty :deep=0 :data=\"consent\" />\n            <el-button size=\"medium\"\n              @click=\"preview(consent)\">Preview</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport VueJsonPretty from 'vue-json-pretty';\nimport { renderForm } from 'odca-form'\n\nexport default {\n  name: 'consent-list',\n  props: [\n    'title',\n    'consents'\n  ],\n  components: {\n    VueJsonPretty\n  },\n  data () {\n    return {\n      expanded_items:[],\n    }\n  },\n  computed: {\n    ocaRepoUrl: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n  },\n  methods: {\n    async renderConsentForm(consent) {\n      let consentAnswers, consentSchemaNamespace, consentSchemaDri\n      if (consent.payload) {\n        consentAnswers = consent.payload\n        consentSchemaNamespace = consent.oca_schema.namespace\n        consentSchemaDri = consent.oca_schema.dri\n      } else {\n        consentAnswers = JSON.parse(consent.data)\n        consentSchemaNamespace = consent.ocaSchemaNamespace\n        consentSchemaDri = consent.ocaSchemaDri\n      }\n      const consentBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${consentSchemaNamespace}/${consentSchemaDri}`\n      )).data\n\n      const consentLangBranches = this.splitBranchPerLang(consentBranch)\n      let consentForm\n      const consentFormAlternatives = []\n      try {\n        consentLangBranches.forEach(langBranch => {\n          consentFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        consentForm = consentFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Consent form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      return {\n        form: consentForm,\n        formAlternatives: consentFormAlternatives,\n        answers: consentAnswers\n      }\n    },\n    async renderServiceForm(consent) {\n      if (!consent.service_schema) { return {} }\n      const serviceBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${consent.service_schema.oca_schema_namespace}/${consent.service_schema.oca_schema_dri}`\n      )).data\n\n      const serviceLangBranches = this.splitBranchPerLang(serviceBranch)\n      let serviceForm\n      const serviceFormAlternatives = []\n      try {\n        serviceLangBranches.forEach(langBranch => {\n          serviceFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        serviceForm = serviceFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Service form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n      return {\n        form: serviceForm,\n        formAlternatives: serviceFormAlternatives,\n        answers: consent.service_payload\n      }\n    },\n    splitBranchPerLang(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    async preview(consent) {\n      this.$emit('consent-preview', {\n        consent: await this.renderConsentForm(consent),\n        service: await this.renderServiceForm(consent)\n      })\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConsentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConsentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConsentList.vue?vue&type=template&id=d24145a4&\"\nimport script from \"./ConsentList.vue?vue&type=script&lang=js&\"\nexport * from \"./ConsentList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),_c('div',{staticClass:\"content\"},[_c('oca-schema-search',{attrs:{\"label\":\"Service:\",\"ocaRepoHost\":_vm.ocaRepoHost},on:{\"serviceSchemaSelected\":_vm.serviceSchemaSelected}}),_c('consent-select',{attrs:{\"label\":\"Consent:\"},on:{\"consentSelected\":_vm.consentSelected}}),_c('div',[_c('el-button',{attrs:{\"disabled\":!_vm.dataFilled,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n    </nav>\n\n    <div class=\"content\">\n      <oca-schema-search label=\"Service:\" :ocaRepoHost=\"ocaRepoHost\"\n        @serviceSchemaSelected=\"serviceSchemaSelected\"/>\n\n      <consent-select label=\"Consent:\" @consentSelected=\"consentSelected\"/>\n\n      <div>\n        <el-button :disabled=\"!dataFilled\" type=\"primary\"\n          @click=\"submit\">Submit</el-button>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport OcaSchemaSearch from './NewService/OcaSchemaSearch'\nimport ConsentSelect from './NewService/ConsentSelect'\n\nexport default {\n  name: 'new-service',\n  props: ['title'],\n  components: {\n    OcaSchemaSearch,\n    ConsentSelect\n  },\n  data () {\n    return {\n      label: null,\n      service: {\n        oca_schema_dri: null,\n        oca_schema_namespace: null\n      },\n      consent: {\n        oca_schema_dri: null,\n        oca_schema_namespace: null,\n        data_dri: null\n      }\n    }\n  },\n  computed: {\n    ocaRepoHost: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n    localDataVaultUrl: function() {\n      return this.$session.get('localDataVaultUrl')\n    },\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    dataFilled: function() {\n      return this.label != null &&\n        this.service.oca_schema_dri != null &&\n        this.consent.data_dri != null\n    }\n  },\n  methods: {\n    serviceSchemaSelected({ namespace, DRI, schemaName }) {\n      this.label = schemaName\n      this.service.oca_schema_dri = DRI\n      this.service.oca_schema_namespace = namespace\n    },\n    consentSelected(consent) {\n      this.consent.oca_schema_namespace = consent.oca_schema.namespace\n      this.consent.oca_schema_dri = consent.oca_schema.dri\n      this.consent.data_dri = consent.payload_dri\n    },\n    resetServiceData() {\n      this.label = null\n      this.service = {\n        oca_schema_dri: null,\n        oca_schema_namespace: null\n      }\n      this.consent = {\n        oca_schema_dri: null,\n        oca_schema_namespace: null,\n        data_dri: null\n      }\n    },\n    submit() {\n      axios.post(`${this.acapyApiUrl}/verifiable-services/add`, {\n        label: this.label,\n        service_schema: this.service,\n        consent_schema: this.consent\n      }).then(r => {\n        if (r.status === 200) {\n          this.$noty.success(\"Service created!\", { timeout: 1000 })\n          this.$emit('services-refresh')\n          this.resetServiceData()\n        }\n      }).catch(e => {\n        console.log(e)\n        this.$noty.error(\"Error occuerrd\", { timeout: 1000 })\n      })\n    }\n  },\n}\n</script>\n\n\n<style scoped>\n.content {\n  display: flex;\n  justify-content: space-around;\n  padding: 20px 0px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewService.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewService.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewService.vue?vue&type=template&id=7d503203&scoped=true&\"\nimport script from \"./NewService.vue?vue&type=script&lang=js&\"\nexport * from \"./NewService.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewService.vue?vue&type=style&index=0&id=7d503203&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d503203\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdsSettings.vue?vue&type=style&index=0&id=70b0a136&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdsSettings.vue?vue&type=style&index=0&id=70b0a136&scoped=true&lang=css&\"","var map = {\n\t\"./Agents.ts\": \"7d85\",\n\t\"./WsMessages.ts\": \"2014\",\n\t\"./index.ts\": \"f33f\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"3f9b\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{staticClass:\"taa-dialog\",attrs:{\"title\":\"Transaction Author Agreement\",\"visible\":_vm.phase_one},on:{\"update:visible\":function($event){_vm.phase_one=$event}}},[_c('p',[_vm._v(\"Using this module requires signing the Transaction Author Agreement.\")]),_c('el-form',{staticClass:\"taa-form\"},[_c('el-button',{on:{\"click\":_vm.redirect}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.phase = 2}}},[_vm._v(\"Continue\")])],1)],1),_c('el-dialog',{staticClass:\"taa-dialog\",attrs:{\"title\":\"Transaction Author Agreement\",\"width\":\"75%\",\"visible\":_vm.phase_two},on:{\"update:visible\":function($event){_vm.phase_two=$event}}},[_c('p',[_vm._v(\"In order to write to the currently connected ledger, please review the Transaction Author Agreement V\"+_vm._s(_vm.version)+\" and mark your acceptance below.\")]),_c('div',{staticClass:\"taa-text\",domProps:{\"innerHTML\":_vm._s(_vm.cleaned)}}),_c('el-form',{staticClass:\"taa-form\"},[_c('el-checkbox',{model:{value:(_vm.accepted),callback:function ($$v) {_vm.accepted=$$v},expression:\"accepted\"}},[_vm._v(\" I accept the terms of the Transaction Author Agreement V\"+_vm._s(_vm.version)+\" \")]),_c('el-button',{on:{\"click\":_vm.redirect}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.accepted},on:{\"click\":function($event){_vm.accept(); _vm.phase = 0}}},[_vm._v(\"Submit\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n  <el-dialog\n    title=\"Transaction Author Agreement\"\n    class=\"taa-dialog\"\n    :visible.sync=\"phase_one\">\n    <p>Using this module requires signing the Transaction Author Agreement.</p>\n    <el-form class=\"taa-form\">\n      <el-button\n        @click=\"redirect\">Cancel</el-button>\n      <el-button\n        type=\"primary\"\n        @click=\"phase = 2\">Continue</el-button>\n    </el-form>\n  </el-dialog>\n  <el-dialog\n    title=\"Transaction Author Agreement\"\n    width=\"75%\"\n    class=\"taa-dialog\"\n    :visible.sync=\"phase_two\">\n    <p>In order to write to the currently connected ledger, please review the\n    Transaction Author Agreement V{{version}} and mark your acceptance\n    below.</p>\n    <div class=\"taa-text\" v-html=\"cleaned\"></div>\n    <el-form class=\"taa-form\">\n      <el-checkbox v-model=\"accepted\">\n        I accept the terms of the Transaction Author Agreement V{{version}}\n      </el-checkbox>\n      <el-button\n        @click=\"redirect\">Cancel</el-button>\n      <el-button\n        type=\"primary\"\n        :disabled=\"!accepted\"\n        @click=\"accept(); phase = 0\">Submit</el-button>\n    </el-form>\n  </el-dialog>\n  </div>\n</template>\n\n<script>\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\nimport marked from 'marked';\nimport dompurify from 'dompurify';\n\nexport const protocol = \"https://github.com/hyperledger/aries-toolbox/tree/master/docs/admin-taa/0.1\";\nexport default {\n  name: 'taa',\n  mixins: [\n    message_bus({\n      events: {\n        [protocol + '/taa']: (vm, msg) => {\n          vm.text = msg.text;\n          vm.version = msg.version;\n          if (msg.needed) {\n            vm.phase = 1;\n          }\n        },\n        [protocol + '/acceptance']: (vm, msg) => {\n          if (msg.needed) {\n            vm.get();\n          }\n        },\n        'entered_taa_required_module': (vm, msg) => {\n          if (vm.has_admin_taa_protocol) {\n            vm.get_acceptance();\n          }\n        }\n      }\n    }),\n    share({\n      use: ['protocols']\n    })\n  ],\n  data: function() {\n    return {\n      phase: 0,\n      accepted: false,\n      text: '',\n      version: '',\n    }\n  },\n  computed: {\n    cleaned: function() {\n      return dompurify.sanitize(marked(this.text.substring(this.text.indexOf('\\n'))));\n    },\n    has_admin_taa_protocol: function() {\n      return this.protocols && this.protocols.find(item => item.pid === protocol)\n    },\n    phase_one: function() {\n      return this.phase === 1\n    },\n    phase_two: function() {\n      return this.phase === 2\n    }\n  },\n  methods: {\n    get_acceptance: function() {\n      this.send_message({\n        '@type': protocol + '/get-acceptance',\n      });\n    },\n    get: function() {\n      this.send_message({\n        '@type': protocol + '/get',\n      });\n    },\n    accept: function() {\n      this.send_message({\n        '@type': protocol + '/accept',\n        text: this.text,\n        version: this.version\n      });\n    },\n    redirect: function() {\n      this.phase = 0;\n      this.$message_bus.$emit('redirect', 'feature-discovery');\n    }\n  }\n}\n\n</script>\n\n<style>\n.taa-dialog {\n  word-break: break-word;\n}\n.taa-text {\n  word-break: break-word;\n  height: 500px;\n  overflow-y: scroll;\n}\n.taa-text h2 {\n font-size: 1.25rem;\n}\n.taa-form {\n  margin-top: 1em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAA.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAA.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TAA.vue?vue&type=template&id=6f8cfe8e&\"\nimport script from \"./TAA.vue?vue&type=script&lang=js&\"\nexport * from \"./TAA.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TAA.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('services-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.services),function(service,index){return _c('el-collapse-item',{key:index,attrs:{\"title\":service.label,\"name\":service.label + index}},[_c('el-row',[_c('vue-json-pretty',{attrs:{\"deep\":0,\"data\":service}}),_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.preview(service)}}},[_vm._v(\"Preview\")])],1)],1)}),1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n\n      <el-button type=\"primary\" icon=\"el-icon-refresh\"\n        @click=\"$emit('services-refresh')\"></el-button>\n    </nav>\n\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"(service, index) in services\"\n          :title=\"service.label\"\n          :name=\"service.label + index\"\n          :key=\"index\">\n          <el-row>\n            <vue-json-pretty :deep=0 :data=\"service\" />\n            <el-button size=\"medium\"\n              @click=\"preview(service)\">Preview</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport VueJsonPretty from 'vue-json-pretty';\nimport { renderForm } from 'odca-form'\n\nexport default {\n  name: 'service-list',\n  props: [\n    'title',\n    'services'\n  ],\n  components: {\n    VueJsonPretty\n  },\n  data () {\n    return {\n      expanded_items:[],\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    ocaRepoUrl: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n  },\n  methods: {\n    async renderServiceForm(service) {\n      const consentAnswers = JSON.parse((await axios.get(`${this.acapyApiUrl}/pds/${service.consent_schema.data_dri}`)).data.payload)\n      const consentBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${service.consent_schema.oca_schema_namespace}/${service.consent_schema.oca_schema_dri}`\n      )).data\n\n      const consentLangBranches = this.splitBranchPerLang(consentBranch)\n      let consentForm\n      const consentFormAlternatives = []\n      try {\n        consentLangBranches.forEach(langBranch => {\n          consentFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        consentForm = consentFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Consent form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      const serviceBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${service.service_schema.oca_schema_namespace}/${service.service_schema.oca_schema_dri}`\n      )).data\n\n      const serviceLangBranches = this.splitBranchPerLang(serviceBranch)\n      let serviceForm\n      const serviceFormAlternatives = []\n      try {\n        serviceLangBranches.forEach(langBranch => {\n          serviceFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        serviceForm = serviceFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Service form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      return {\n        consent: {\n          form: consentForm,\n          formAlternatives: consentFormAlternatives,\n          answers: consentAnswers\n        },\n        schema: {\n          form: serviceForm,\n          formAlternatives: serviceFormAlternatives\n        }\n      }\n    },\n    splitBranchPerLang(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    async preview(service) {\n      this.$emit('service-preview', await this.renderServiceForm(service))\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServiceList.vue?vue&type=template&id=0acb5bcb&\"\nimport script from \"./ServiceList.vue?vue&type=script&lang=js&\"\nexport * from \"./ServiceList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"73332\",\n\t\"./en-il.js\": \"73332\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Plugins:\"),_c('br'),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.plugin_list),function(plugin,index){return _c('el-collapse-item',{key:index,attrs:{\"title\":plugin.pluginName,\"name\":plugin.pluginName + index}},[_c('el-row',[_c('vue-json-pretty',{attrs:{\"deep\":0,\"data\":plugin}}),_c('el-button',{attrs:{\"size\":\"medium\",\"disabled\":!plugin.oca_schema_namespace || !plugin.oca_schema_dri},on:{\"click\":function($event){return _vm.configure(plugin)}}},[_vm._v(\"Configure\")])],1)],1)}),1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    Plugins:<br>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"(plugin, index) in plugin_list\"\n          :title=\"plugin.pluginName\"\n          :name=\"plugin.pluginName + index\"\n          :key=\"index\">\n          <el-row>\n            <vue-json-pretty :deep=0 :data=\"plugin\" />\n            <el-button size=\"medium\" :disabled=\"!plugin.oca_schema_namespace || !plugin.oca_schema_dri\"\n              @click=\"configure(plugin)\">Configure</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { renderForm } from 'odca-form'\nimport VueJsonPretty from 'vue-json-pretty';\n\nexport default {\n  name: 'pds-plugins',\n  components: {\n    VueJsonPretty\n  },\n  data() {\n    return {\n      expanded_items: [],\n      plugin_list: []\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    ocaRepoUrl: function() {\n      return this.$session.get('ocaRepoUrl')\n    }\n  },\n  methods: {\n    async renderPluginForm(plugin) {\n      const pluginBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${plugin.oca_schema_namespace}/${plugin.oca_schema_dri}`\n      )).data\n\n      const pluginLangBranches = this.splitBranchPerLang(pluginBranch)\n      let pluginForm\n      const pluginFormAlternatives = []\n      try {\n        pluginLangBranches.forEach(langBranch => {\n          pluginFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        pluginForm = pluginFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Consent form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      return {\n        form: pluginForm,\n        formAlternatives: pluginFormAlternatives\n      }\n    },\n    splitBranchPerLang(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    async configure(plugin) {\n      this.$emit('configure-plugin', {\n        pluginName: plugin.pluginName,\n        plugin: await this.renderPluginForm(plugin)\n      })\n    }\n  },\n  mounted() {\n    axios.get(`${this.acapyApiUrl}/pds`)\n      .then(r => {\n        if (r.status === 200) {\n          const entries = Object.entries(r.data.types)\n          this.plugin_list = entries.map(entry => {\n            return {\n              pluginName: entry[0],\n              oca_schema_namespace: entry[1].oca_schema_namespace,\n              oca_schema_dri: entry[1].oca_schema_dri\n            }\n          })\n        }\n      }).catch(e => {\n        console.log(e)\n        this.$noty.error(\"Error occurred\", { timeout: 1000 })\n      })\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdsPlugins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdsPlugins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PdsPlugins.vue?vue&type=template&id=6526ceb1&\"\nimport script from \"./PdsPlugins.vue?vue&type=script&lang=js&\"\nexport * from \"./PdsPlugins.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('img',{attrs:{\"id\":\"logo\",\"src\":require(\"@/assets/logo.png\"),\"alt\":\"electron-vue\"}}),_c('main',[_c('div',{staticClass:\"left-side\"},[_c('span',{staticClass:\"title\"},[_vm._v(\" Agent Toolbox \")]),_c('system-information')],1),_c('div',{staticClass:\"right-side\"},[_c('div',{staticClass:\"doc\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Getting Started\")]),_c('p',[_vm._v(\" electron-vue comes packed with detailed documentation that covers everything from internal configurations, using the project structure, building your application, and so much more. \")]),_c('button',{on:{\"click\":function($event){return _vm.open('https://simulatedgreg.gitbooks.io/electron-vue/content/')}}},[_vm._v(\"Read the Docs\")]),_c('br'),_c('br')]),_c('div',{staticClass:\"doc\"},[_c('div',{staticClass:\"title alt\"},[_vm._v(\"Other Documentation\")]),_c('button',{staticClass:\"alt\",on:{\"click\":function($event){return _vm.open('https://electron.atom.io/docs/')}}},[_vm._v(\"Electron\")]),_c('button',{staticClass:\"alt\",on:{\"click\":function($event){return _vm.open('https://vuejs.org/v2/guide/')}}},[_vm._v(\"Vue.js\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"wrapper\">\n    <img id=\"logo\" src=\"~@/assets/logo.png\" alt=\"electron-vue\">\n    <main>\n      <div class=\"left-side\">\n        <span class=\"title\">\n          Agent Toolbox\n        </span>\n        <system-information></system-information>\n      </div>\n\n      <div class=\"right-side\">\n        <div class=\"doc\">\n          <div class=\"title\">Getting Started</div>\n          <p>\n            electron-vue comes packed with detailed documentation that covers everything from\n            internal configurations, using the project structure, building your application,\n            and so much more.\n          </p>\n          <button @click=\"open('https://simulatedgreg.gitbooks.io/electron-vue/content/')\">Read the Docs</button><br><br>\n        </div>\n        <div class=\"doc\">\n          <div class=\"title alt\">Other Documentation</div>\n          <button class=\"alt\" @click=\"open('https://electron.atom.io/docs/')\">Electron</button>\n          <button class=\"alt\" @click=\"open('https://vuejs.org/v2/guide/')\">Vue.js</button>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\n  import SystemInformation from './LandingPage/SystemInformation'\n\n  export default {\n    name: 'landing-page',\n    components: { SystemInformation },\n    methods: {\n      open (link) {\n        this.$electron.shell.openExternal(link)\n      }\n    }\n  }\n</script>\n\n<style>\n  @import url('https://fonts.googleapis.com/css?family=Source+Sans+Pro');\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  body { font-family: 'Source Sans Pro', sans-serif; }\n\n  #wrapper {\n    background:\n      radial-gradient(\n        ellipse at top left,\n        rgba(255, 255, 255, 1) 40%,\n        rgba(229, 229, 229, .9) 100%\n      );\n    height: 100vh;\n    padding: 60px 80px;\n    width: 100vw;\n  }\n\n  #logo {\n    height: auto;\n    margin-bottom: 20px;\n    width: 420px;\n  }\n\n  main {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  main > div { flex-basis: 50%; }\n\n  .left-side {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .welcome {\n    color: #555;\n    font-size: 23px;\n    margin-bottom: 10px;\n  }\n\n  .title {\n    color: #2c3e50;\n    font-size: 20px;\n    font-weight: bold;\n    margin-bottom: 6px;\n  }\n\n  .title.alt {\n    font-size: 18px;\n    margin-bottom: 10px;\n  }\n\n  .doc p {\n    color: black;\n    margin-bottom: 10px;\n  }\n\n  .doc button {\n    font-size: .8em;\n    cursor: pointer;\n    outline: none;\n    padding: 0.75em 2em;\n    border-radius: 2em;\n    display: inline-block;\n    color: #fff;\n    background-color: #4fc08d;\n    transition: all 0.15s ease;\n    box-sizing: border-box;\n    border: 1px solid #4fc08d;\n  }\n\n  .doc button.alt {\n    color: #42b983;\n    background-color: transparent;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LandingPage.vue?vue&type=template&id=06963aa5&\"\nimport script from \"./LandingPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LandingPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LandingPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * Load in each component and make available as a list.\n */\n\nconst files = require.context('.', true, /\\.vue$/);\nconst components = {};\nfiles.keys().forEach(key => {\n    if (key.match(/.\\/index.vue/)) {\n        //console.log(key.replace(/\\.\\/|\\/index\\.vue/g, ''))\n        components[key.replace(/\\.\\/|\\/index\\.vue/g, '')] = files(key)\n    }\n});\n\nexport const shared = Object.values(components)\n    .filter(module => module.shared)\n    .map(module => module.shared);\n\nexport default components;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-form',{attrs:{\"inline\":true},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"To:\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Select Conversation\"},on:{\"change\":_vm.connection_selected},model:{value:(_vm.connection_id),callback:function ($$v) {_vm.connection_id=$$v},expression:\"connection_id\"}},_vm._l((_vm.active_connections),function(connection){return _c('el-option',{key:connection.connection_id,attrs:{\"label\":connection.their_label,\"value\":connection.connection_id}})}),1)],1)],1),_c('el-form',{staticStyle:{\"margin-bottom\":\"1em\"},attrs:{\"inline\":true},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-input',{staticStyle:{\"width\":\"500px\"},attrs:{\"placeholder\":\"Message\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.send($event)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-s-promotion\"},on:{\"click\":_vm.send}},[_vm._v(\"Send\")])],1),_c('div',{attrs:{\"id\":\"message-container\"}},_vm._l((_vm.messages),function(m){return _c('div',{key:m.message_id,class:'basic_message basic_message-'+m.state},[_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(m.content))]),_c('div',{staticClass:\"timestamp\"},[_vm._v(_vm._s(_vm.nice_time(m.sent_time)))])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <el-form @submit.native.prevent :inline=\"true\">\n      <el-form-item label=\"To:\">\n        <el-select\n          v-model=\"connection_id\"\n          filterable\n          placeholder=\"Select Conversation\"\n          @change=\"connection_selected\">\n          <el-option\n            v-for=\"connection in active_connections\"\n            :key=\"connection.connection_id\"\n            :label=\"connection.their_label\"\n            :value=\"connection.connection_id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <el-form @submit.native.prevent :inline=\"true\" style=\"margin-bottom: 1em;\">\n      <el-input\n        placeholder=\"Message\"\n        @keyup.enter.native=\"send\"\n        v-model=\"content\"\n        style=\"width:500px;\">\n      </el-input>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-s-promotion\"\n          @click=\"send\">Send</el-button>\n    </el-form>\n    <div id=\"message-container\">\n        <div\n          v-for=\"m in messages\"\n          :key=\"m.message_id\"\n          :class=\"'basic_message basic_message-'+m.state\">\n          <div class=\"content\">{{m.content}}</div>\n          <div class=\"timestamp\">{{nice_time(m.sent_time)}}</div>\n        </div>\n    </div>\n  </el-row>\n</template>\n\n<style>\n#message-container {\n  display: flex;\n  flex-direction: column;\n}\n.message-display {\n  margin-bottom: 1em;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 1em;\n}\n.basic_message:hover .timestamp {\n  display: block;\n}\n.basic_message-recv {\n  background-color: white;\n  margin-right: auto;\n  margin-bottom: 1em;\n  padding: 1em;\n  border: 1px solid lightgrey;\n  border-radius: 4px;\n  justify-content: flex-start;\n}\n.basic_message-sent {\n  background-color: #ecf5ff;\n  margin-left: auto;\n  margin-bottom: 1em;\n  padding: 1em;\n  justify-content: flex-end;\n  border: 1px solid #d9ecff;\n  border-radius: 4px;\n}\n.basic_message-sent .timestamp {\n  text-align: right;\n}\n.basic_message-recv .timestamp {\n  text-align: left;\n}\n\n.timestamp {\n  display: none;\n  font-style: italic;\n  font-size: small;\n  color: grey;\n}\n</style>\n\n<script>\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\n\nexport const protocol = 'https://github.com/hyperledger/aries-toolbox/tree/master/docs/admin-basicmessage/0.1';\nexport const metadata = {\n  menu: {\n    label: 'Messages',\n    icon: 'el-icon-chat-line-square',\n    group: 'Agent to Agent',\n    priority: 45,\n    required_protocols: [\n      protocol\n    ]\n  },\n  message_types: {\n    new: protocol + '/new',\n    send: protocol + '/send',\n    sent: protocol + '/sent',\n    get: protocol + '/get',\n    messages: protocol + '/messages',\n    delete: protocol + '/delete',\n    deleted: protocol + '/deleted'\n  }\n};\n\nexport const shared = {\n  data: {\n    basic_messages: {},\n    latest_message: null\n  },\n  listeners: {\n    [metadata.message_types.sent]: (share, msg) => {\n      if (!(msg.connection_id in share.basic_messages)) {\n        share.$set(share.basic_messages, msg.connection_id, []);\n      }\n      share.basic_messages[msg.connection_id].push(msg.message);\n    },\n    [metadata.message_types.new]: (share, msg) => {\n      if (!(msg.connection_id in share.basic_messages)) {\n        share.$set(share.basic_messages, msg.connection_id, []);\n      }\n      share.basic_messages[msg.connection_id].push(msg.message);\n      if (share.vm.$route.name !== 'a2a-message') {\n        share.new_message_notify(msg.connection_id, msg.message);\n      }\n      share.latest_message = msg;\n    },\n    [metadata.message_types.messages]: (share, msg) => {\n      share.$set(share.basic_messages, msg.connection_id, msg.messages);\n    }\n  },\n  methods: {\n    fetch_messages: function({send}, connection_id, page=0) {\n      let limit = 30;\n      let offset = 0;\n      if (page !== 0) {\n        offset = limit * page;\n      }\n      send({\n        '@type': metadata.message_types.get,\n        'connection_id': connection_id,\n        'limit': limit,\n        'offset': offset\n      });\n    },\n    new_message_notify: function({share}, connection_id, msg) {\n      let label = '[Unknown]';\n      if (connection_id in share.id_to_connection) {\n        label = share.id_to_connection[connection_id].their_label;\n      }\n\n      share.$notify({\n        title: 'New message from ' + label,\n        message: (text => {\n          if (text.length > 30) {\n            return text.slice(0, 30).trim() + '...';\n          }\n          return text;\n        })(msg.content),\n        duration: 4000\n      });\n    }\n  }\n};\n\nexport default {\n  name: 'a2a-message',\n  mixins: [\n    message_bus(),\n    share({\n      use: ['basic_messages', 'active_connections', 'latest_message'],\n      actions: ['fetch_connections', 'fetch_messages', 'new_message_notify']\n    })\n  ],\n  data: function() {\n    return {\n      content: '',\n      connection_id: '',\n    }\n  },\n  watch: {\n    latest_message: function(msg) {\n      if (msg.connection_id != this.connection_id) {\n        this.new_message_notify(msg.connection_id, msg.message);\n      }\n    }\n  },\n  computed: {\n    messages: function() {\n      if (!(this.connection_id in this.basic_messages)) {\n        return [];\n      }\n      return this.basic_messages[this.connection_id].sort((lhs, rhs) => {\n        return new Date(rhs.sent_time) - new Date(lhs.sent_time);\n      });\n    },\n  },\n  created: async function() {\n    await this.ready()\n    this.fetch_connections();\n  },\n  methods: {\n    send: function() {\n      if (!this.content) {\n        this.content = '';\n        return;\n      }\n\n      let msg = {\n        \"@type\": metadata.message_types.send,\n        \"connection_id\": this.connection_id,\n        \"content\": this.content\n      };\n      this.send_message(msg);\n      this.content = '';\n    },\n    connection_selected: function(selected) {\n      this.fetch_messages(selected);\n    },\n    nice_time: function(timestamp) {\n      return new Date(timestamp).toLocaleString(\n        'en-US',\n        {\n          weekday: 'long',\n          day: 'numeric',\n          month: 'numeric',\n          year: 'numeric',\n          hour: 'numeric',\n          minute: 'numeric'\n        }\n      );\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=934f5afe&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-dialog',{attrs:{\"title\":\"Scan Invitation\",\"visible\":_vm.QRDialogVisible,\"width\":\"500\"},on:{\"update:visible\":function($event){_vm.QRDialogVisible=$event}}},[_c('div',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"auto\"}},[_c('qrcode',{attrs:{\"value\":_vm.QRDialogURL,\"options\":{ width: 400 }}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.QRDialogVisible = false}}},[_vm._v(\"Close\")])],1)]),_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\"Invitations\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.fetch_invitations}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.invitations),function(i){return _c('el-collapse-item',{key:i.connection.connection_id,attrs:{\"title\":_vm.get_name(i),\"name\":_vm.get_name(i)}},[_c('el-row',{key:i.connection.connection_id},[_c('p',[_vm._v(\"Accept: \"+_vm._s(i.connection.accept))]),_c('p',[_vm._v(\"Their Role: \"+_vm._s(i.connection.their_role))]),_c('p',[_vm._v(\"Mode: \"+_vm._s(i.connection.invitation_mode))]),_c('p',[_vm._v(\"Created: \"+_vm._s(i.connection.created_at))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.presentQR(i.invitation.invitation_url)}}},[_vm._v(\"Scan QR\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.copyURL(i.invitation.invitation_url)}}},[_vm._v(\"Copy\")]),_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":i}})],1)],1)],1)}),1)]),_c('p',[_vm._v(\"Create Invitations:\")]),_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"Label:\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.invite_label_form),callback:function ($$v) {_vm.invite_label_form=$$v},expression:\"invite_label_form\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Role:\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.invite_role_form),callback:function ($$v) {_vm.invite_role_form=$$v},expression:\"invite_role_form\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Acceptance:\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.invite_accept_form),callback:function ($$v) {_vm.invite_accept_form=$$v},expression:\"invite_accept_form\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Public:\"}},[_c('el-switch',{model:{value:(_vm.invite_public_form),callback:function ($$v) {_vm.invite_public_form=$$v},expression:\"invite_public_form\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Multi Use:\"}},[_c('el-switch',{model:{value:(_vm.invite_multi_use_form),callback:function ($$v) {_vm.invite_multi_use_form=$$v},expression:\"invite_multi_use_form\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.fetchNewInvite()}}},[_vm._v(\"Create New Invite\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n\n<el-row>\n    <el-dialog\n      title=\"Scan Invitation\"\n      :visible.sync=\"QRDialogVisible\"\n      width=\"500\">\n      <div style=\"margin-left:auto;margin-right:auto;\">\n        <qrcode v-bind:value=\"QRDialogURL\" :options=\"{ width: 400 }\"></qrcode>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"QRDialogVisible = false\">Close</el-button>\n      </span>\n    </el-dialog>\n\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">Invitations</a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"fetch_invitations\"></el-button>\n  </nav>\n  <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"i in invitations\"\n          v-bind:title=\"get_name(i)\"\n          :name=\"get_name(i)\"\n          :key=\"i.connection.connection_id\">\n          <el-row :key=\"i.connection.connection_id\">\n            <p>Accept: {{i.connection.accept}}</p>\n            <p>Their Role: {{i.connection.their_role}}</p>\n            <p>Mode: {{i.connection.invitation_mode}}</p>\n            <p>Created: {{i.connection.created_at}}</p>\n            <el-button type=\"primary\" @click=\"presentQR(i.invitation.invitation_url)\">Scan QR</el-button>\n            <el-button type=\"primary\" @click=\"copyURL(i.invitation.invitation_url)\">Copy</el-button>\n\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"i\">\n              </vue-json-pretty>\n            </div>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n\n\n  <p>Create Invitations:</p>\n  <el-form :inline=\"true\">\n    <el-form-item label=\"Label:\">\n      <el-input v-model=\"invite_label_form\" style=\"width:200px;\"> </el-input>\n    </el-form-item>\n    <el-form-item label=\"Role:\">\n      <el-input v-model=\"invite_role_form\" style=\"width:200px;\"> </el-input>\n    </el-form-item>\n    <el-form-item label=\"Acceptance:\">\n      <el-input v-model=\"invite_accept_form\" style=\"width:200px;\"> </el-input>\n    </el-form-item>\n    <el-form-item label=\"Public:\">\n      <el-switch v-model=\"invite_public_form\"></el-switch>\n    </el-form-item>\n    <el-form-item label=\"Multi Use:\">\n      <el-switch v-model=\"invite_multi_use_form\"></el-switch>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"fetchNewInvite()\">Create New Invite</el-button>\n    </el-form-item>\n  </el-form>\n\n</el-row>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport VueQrcode from '@chenfengyuan/vue-qrcode';\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Invitations',\n    icon: 'el-icon-plus',\n    group: 'Agent to Agent',\n    priority: 10,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1'\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    invitations: [],\n  },\n  listeners: {\n    'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/invitation-list': (share, msg) => {\n      share.invitations = msg.results;\n    } \n  },\n  methods: {\n    fetch_invitations: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/invitation-get-list\",\n      });\n    }\n  }\n}\n\nexport default {\n  name: 'invitations',\n  mixins: [\n    message_bus({events: {\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/invitation': (v, msg) => {\n        v.fetch_invitations()\n      }\n    }}),\n    share({\n      use: ['invitations'],\n      actions: ['fetch_invitations']\n    })\n  ],\n  components: {\n    VueJsonPretty,\n    'qrcode': VueQrcode\n  },\n  data () {\n    return {\n      expanded_items: [],\n      QRDialogVisible: false,\n      QRDialogURL: '',\n      invite_label_form:\"\",\n      invite_role_form:\"\",\n      invite_accept_form:\"auto\",\n      invite_public_form:false,\n      invite_multi_use_form:false,\n    }\n  },\n  created: async function() {\n    await this.ready();\n    this.fetch_invitations();\n  },\n  methods: {\n    async fetchNewInvite(){\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/create-invitation\",\n        \"label\": this.invite_label_form,\n        \"role\": this.invite_role_form,\n        \"auto_accept\": this.invite_accept_form,\n        \"public\": this.invite_public_form,\n        \"multi_use\": this.invite_multi_use_form,\n      };\n      this.invite_label_form = \"\";\n      this.invite_role_form = \"\";\n      this.invite_accept_form = \"auto\";\n      this.invite_public_form = false;\n      this.invite_multi_use_form = false;\n      this.send_message(query_msg);\n    },\n    get_name: function(i) {\n      return i.connection.invitation_mode +\" / \"+ i.connection.their_role +\" / \"+ i.connection.created_at ;\n    },\n    presentQR: function(url){\n      this.QRDialogURL = url;\n      this.QRDialogVisible = true;\n    },\n    copyURL: function(url) {\n      const el = document.createElement('input')\n      document.body.append(el)\n      el.setAttribute('type', 'text')\n      el.setAttribute('value', url)\n      el.select()\n\n      const success = document.execCommand('copy')\n      if (success) {\n        this.$noty.success(\"Copied to the clipboard!\", {\n          timeout: 1000\n        })\n      }\n\n      el.remove()\n      window.getSelection().removeAllRanges()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f466d2ce&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControllerSettings.vue?vue&type=style&index=0&id=48cf7d33&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControllerSettings.vue?vue&type=style&index=0&id=48cf7d33&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.services.length > 0),expression:\"services.length > 0\"}]},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('ul',{staticClass:\"list\"},_vm._l((_vm.services),function(service){return _c('li',{staticClass:\"list-el\"},[_vm._v(\" \"+_vm._s(service.label)+\" \"),_c('div',[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){return _vm.preview(service)}}},[_vm._v(\"Preview\")]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.apply(service)}}},[_vm._v(\"Apply\")])],1)])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-show=\"services.length > 0\">\n    {{ title }}\n    <ul class=\"list\">\n      <li class=\"list-el\" v-for=\"service in services\">\n        {{ service.label }}\n        <div>\n          <el-button size=\"medium\"\n            @click=\"preview(service)\">Preview</el-button>\n          <el-button size=\"medium\" type=\"primary\"\n            @click=\"apply(service)\">Apply</el-button>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport { mapState, mapActions } from 'vuex'\nimport { renderForm } from 'odca-form'\n\nexport default {\n  name: 'connection-service-list',\n  props: ['title', 'connection'],\n  components: {},\n  data () {\n    return {\n      services: []\n    }\n  },\n  computed: {\n    ...mapState('WsMessages', ['messages']),\n    serviceListMessages: function() {\n      return this.messages.filter(message => {\n        return message.topic == '/topic/verifiable-services/request-service-list/'\n      })\n    },\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    ocaRepoUrl: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n    servicesSorted: function() {\n      return this.services.sort((a, b) => {\n        return new Date(b.created_at) - new Date(a.created_at)\n      })\n    }\n  },\n  watch: {\n    serviceListMessages: {\n      handler: function() {\n        this.serviceListMessages.forEach(message => {\n          this.services = JSON.parse(message.content.services)\n          this.delete_message(message.uuid)\n        })\n      },\n      deep: true\n    }\n  },\n  methods: {\n    ...mapActions('WsMessages', ['delete_message']),\n    fetchServices() {\n      const connId = this.connection.connection_id\n      axios.get(`${this.acapyApiUrl}/verifiable-services/request-service-list/${connId}`)\n    },\n    async renderServiceForm(service) {\n      const consentAnswers = JSON.parse(service.consent_schema.data)\n      const consentBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${service.consent_schema.oca_schema_namespace}/${service.consent_schema.oca_schema_dri}`\n      )).data\n\n      const consentLangBranches = this.splitBranchPerLang(consentBranch)\n      let consentForm\n      const consentFormAlternatives = []\n      try {\n        consentLangBranches.forEach(langBranch => {\n          consentFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        consentForm = consentFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Consent form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      const serviceBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${service.service_schema.oca_schema_namespace}/${service.service_schema.oca_schema_dri}`\n      )).data\n\n      const serviceLangBranches = this.splitBranchPerLang(serviceBranch)\n      let serviceForm\n      const serviceFormAlternatives = []\n      try {\n        serviceLangBranches.forEach(langBranch => {\n          serviceFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        serviceForm = serviceFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Service form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      return {\n        id: service.service_id,\n        consent: {\n          form: consentForm,\n          formAlternatives: consentFormAlternatives,\n          answers: consentAnswers\n        },\n        schema: {\n          form: serviceForm,\n          formAlternatives: serviceFormAlternatives\n        }\n      }\n    },\n    splitBranchPerLang(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    async preview(service) {\n      this.$emit('service-preview', {\n        connection_id: this.connection.connection_id,\n        service: service,\n        serviceForm: await this.renderServiceForm(service)\n      })\n    },\n    async apply(service) {\n      this.$emit('service-apply', {\n        connection_id: this.connection.connection_id,\n        service: service,\n        serviceForm: await this.renderServiceForm(service)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.list {\n  padding: 5px 10px;\n}\n.list-el {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  list-style-type: none;\n  padding: 5px 10px;\n  border-top: 1px solid #ececec;\n}\n.list-el:last-child {\n  border-bottom: 1px solid #ececec;\n}\n.list-el:hover {\n  background-color: #fafafa;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionServiceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionServiceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectionServiceList.vue?vue&type=template&id=0cf32878&scoped=true&\"\nimport script from \"./ConnectionServiceList.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectionServiceList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConnectionServiceList.vue?vue&type=style&index=0&id=0cf32878&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cf32878\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAA.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TAA.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemInformation.vue?vue&type=style&index=0&id=63f76e43&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemInformation.vue?vue&type=style&index=0&id=63f76e43&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('did-list',{attrs:{\"name\":\"did_list\",\"title\":\"DIDs:\",\"activeDid\":\"public_did\",\"list\":_vm.dids},on:{\"did-update\":_vm.updateAgentDid,\"did-publish\":_vm.publish_did,\"did-activate\":_vm.activate_did}}),_c('p',[_vm._v(\"Create a Did:\")]),_c('el-form',{attrs:{\"model\":_vm.did_form}},[_c('div',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"Did:\")]),_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.did_form.did),callback:function ($$v) {_vm.$set(_vm.did_form, \"did\", $$v)},expression:\"did_form.did\"}}),_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"Seed:\")]),_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.did_form.seed),callback:function ($$v) {_vm.$set(_vm.did_form, \"seed\", $$v)},expression:\"did_form.seed\"}}),_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"Alias:\")]),_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.did_form.label),callback:function ($$v) {_vm.$set(_vm.did_form, \"label\", $$v)},expression:\"did_form.label\"}})],1),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.createDid()}}},[_vm._v(\"Create DID\")])],1),_c('link',{attrs:{\"rel\":\"shortcut icon\",\"href\":\"/static\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <el-row>\n    <did-list\n      name=\"did_list\"\n      title=\"DIDs:\"\n      activeDid=\"public_did\"\n      :list=\"dids\"\n      @did-update=\"updateAgentDid\"\n      @did-publish=\"publish_did\"\n      @did-activate=\"activate_did\">\n    </did-list>\n  <p>Create a Did:</p>\n  <el-form :model=did_form>\n    <div>\n      <span slot=\"label\">Did:</span>\n      <el-input v-model=\"did_form.did\" style=\"width:100px;\"> </el-input>\n      <span slot=\"label\">Seed:</span>\n      <el-input v-model=\"did_form.seed\" style=\"width:100px;\"> </el-input>\n      <span slot=\"label\">Alias:</span>\n      <el-input v-model=\"did_form.label\" style=\"width:100px;\"> </el-input>\n    </div>\n    <div>\n      <el-button type=\"primary\" @click=\"createDid()\">Create DID</el-button>\n    </div>\n    <link rel=\"shortcut icon\" href=\"/static\"/>\n  </el-form>\n  </el-row>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport DidList from './DidList.vue';\nimport message_bus from '../../message_bus.ts';\nimport share from '../../share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'DIDs',\n    icon: 'el-icon-link',\n    group: 'Agent to Agent',\n    priority: 10,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1'\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    dids: [],\n    public_did: ''\n  },\n  listeners: {\n    'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/list-dids':\n    (share, msg) => {\n      share.dids = msg.result;\n      let public_did = share.dids.find(\n        item => 'metadata' in item && 'public' in item.metadata && item.metadata.public\n      );\n      if (public_did) {\n        share.public_did = public_did;\n      }\n    },\n    'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/did': (share, msg) => {\n      if(msg.result && 'metadata' in msg.result && 'public' in msg.result.metadata && msg.result.metadata.public === true) {\n        share.public_did = msg.result.did;\n      }\n      share.fetch_dids();\n    }\n  },\n  methods: {\n    fetch_dids: ({send}) => {\n      send({\"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/get-list-dids\"});\n    },\n    activate_did: ({send}, did) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/set-public-did\",\n        \"did\": did.did,\n      });\n    },\n    publish_did: ({send}, did) => {\n      let alias\n      if(did.metadata && did.metadata.label) {\n        alias = did.metadata.label\n      }\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/register-did\",\n        \"did\": did.did,\n        \"verkey\": did.verkey,\n        \"alias\": alias\n      });\n    },\n    fetch_active_did: ({send}) => {\n      send({\"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/get-public-did\"});\n    },\n  }\n};\n\nexport default {\n  name: 'dids',\n  mixins: [\n    message_bus({\n      events: {\n        'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/did':\n        (v, msg) => {\n          if ('result' in msg &&\n            'did' in msg.result) {\n            v.did_form.did = \"\"\n            v.did_form.seed = \"\"\n            v.did_form.label = \"\"\n          }\n        }\n      }\n    }),\n    share({\n      use: ['dids', 'public_did'],\n      actions: ['fetch_dids', 'activate_did', 'publish_did', 'fetch_active_did']\n    })\n  ],\n  components: {\n    VueJsonPretty,\n    DidList,\n  },\n  data () {\n    return {\n      did_form:{\n        did:'',\n        seed:'',\n        label:'',\n        metadata:'',\n      },\n      active_ledger_selector:{\n        leger:'',\n      },\n    }\n  },\n  created: async function(){\n    await this.ready();\n    this.fetch_dids();\n    this.fetch_active_did();\n    this.$message_bus.$emit('entered_taa_required_module');\n  },\n  methods: {\n    async createDid(){\n      let msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/create-did\",\n      };\n      if (this.did_form.did) {\n        msg.did = this.did_form.did;\n      }\n      if (this.did_form.seed) {\n        msg.seed = this.did_form.seed;\n      }\n      if (this.did_form.label) {\n        msg.metadata = { \"label\": this.did_form.label };\n      }\n      this.send_message(msg);\n    },\n    async updateAgentDid(editForm){\n      this.send_message({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-dids/0.1/set-did-metadata\",\n        \"did\": editForm.did,\n        \"metadata\": {\n          ...editForm.metadata,\n          'label':editForm.label,\n          'permission': editForm.permission,\n        },\n      });\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=33e96425&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),_c('div',{staticClass:\"content\"},[_c('el-form',{attrs:{\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"Developer mode:\"}},[_c('el-checkbox',{model:{value:(_vm.isDevUi),callback:function ($$v) {_vm.isDevUi=$$v},expression:\"isDevUi\"}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n    </nav>\n\n    <div class=\"content\">\n      <el-form label-width=\"auto\">\n        <el-form-item label=\"Developer mode:\">\n          <el-checkbox v-model=\"isDevUi\">\n          </el-checkbox>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'tda-settings',\n  props: ['title'],\n  data() {\n    return {\n      isDevUi: this.$session.get('isDevUi')\n    }\n  },\n  watch: {\n    isDevUi: function() {\n      this.$session.set('isDevUi', this.isDevUi)\n      this.$router.go()\n    },\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  padding: 10px 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdaSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdaSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TdaSettings.vue?vue&type=template&id=5b26ebf3&scoped=true&\"\nimport script from \"./TdaSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./TdaSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TdaSettings.vue?vue&type=style&index=0&id=5b26ebf3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b26ebf3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.proposalFormActive = true}}},[_vm._v(\"Presentation Proposal\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('presentation-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.ver_pres_expanded_items),callback:function ($$v) {_vm.ver_pres_expanded_items=$$v},expression:\"ver_pres_expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.VerifiedPresentations),function(presentation){return _c('el-collapse-item',{key:presentation.presentation_exchange_id,attrs:{\"title\":presentation.presentation_exchange_id,\"name\":presentation.presentation_exchange_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":presentation}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded_ver_pres(presentation)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_vm._m(0),_c('el-collapse',{model:{value:(_vm.rec_req_expanded_items),callback:function ($$v) {_vm.rec_req_expanded_items=$$v},expression:\"rec_req_expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.ReceivedRequests),function(presentation){return _c('el-collapse-item',{key:presentation.presentation_exchange_id,attrs:{\"title\":presentation.presentation_exchange_id,\"name\":presentation.presentation_exchange_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":presentation}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded_rec_req(presentation)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_vm._m(1),_c('el-collapse',{model:{value:(_vm.sent_pres_expanded_items),callback:function ($$v) {_vm.sent_pres_expanded_items=$$v},expression:\"sent_pres_expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.SentPresentations),function(presentation){return _c('el-collapse-item',{key:presentation.presentation_exchange_id,attrs:{\"title\":presentation.presentation_exchange_id,\"name\":presentation.presentation_exchange_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":presentation}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded_sent_pres(presentation)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_vm._m(2),_c('el-collapse',{model:{value:(_vm.sent_prop_expanded_items),callback:function ($$v) {_vm.sent_prop_expanded_items=$$v},expression:\"sent_prop_expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.SentProposals),function(presentation){return _c('el-collapse-item',{key:presentation.presentation_exchange_id,attrs:{\"title\":presentation.presentation_exchange_id,\"name\":presentation.presentation_exchange_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":presentation}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded_sent_prop(presentation)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Make a Presentation Proposal\",\"visible\":_vm.proposalFormActive},on:{\"update:visible\":function($event){_vm.proposalFormActive=$event}}},[_c('el-form',{attrs:{\"model\":_vm.proposalForm}},[_c('el-form-item',{attrs:{\"label\":\"Connection:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Connection\"},model:{value:(_vm.proposalForm.connection_id),callback:function ($$v) {_vm.$set(_vm.proposalForm, \"connection_id\", $$v)},expression:\"proposalForm.connection_id\"}},_vm._l((_vm.connections),function(connection){return _c('el-option',{key:connection.connection_id,attrs:{\"label\":connection.their_label,\"value\":connection.connection_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Comment (optional)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.proposalForm.comment),callback:function ($$v) {_vm.$set(_vm.proposalForm, \"comment\", $$v)},expression:\"proposalForm.comment\"}})],1),_vm._l((_vm.proposalForm.attributes),function(attribute,index){return _c('el-form-item',{key:'attribute_' + index,staticClass:\"additions\",attrs:{\"label\":'Attribute ' + index,\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"no-data-text\":\"No credential definitions\",\"placeholder\":\"Credential Definition\"},model:{value:(_vm.proposalForm.attributes[index].cred_def),callback:function ($$v) {_vm.$set(_vm.proposalForm.attributes[index], \"cred_def\", $$v)},expression:\"proposalForm.attributes[index].cred_def\"}},_vm._l((_vm.cred_defs),function(cred_def){return _c('el-option',{key:cred_def.cred_def_id,attrs:{\"label\":cred_def.cred_def_id,\"value\":cred_def}})}),1),_c('el-input',{attrs:{\"placeholder\":\"Attribute Value\"},model:{value:(_vm.proposalForm.attributes[index].value),callback:function ($$v) {_vm.$set(_vm.proposalForm.attributes[index], \"value\", $$v)},expression:\"proposalForm.attributes[index].value\"}},[(_vm.proposalForm.attributes[index].cred_def != null)?_c('el-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"Attribute Name\"},slot:\"prepend\",model:{value:(_vm.proposalForm.attributes[index].name),callback:function ($$v) {_vm.$set(_vm.proposalForm.attributes[index], \"name\", $$v)},expression:\"proposalForm.attributes[index].name\"}},_vm._l((_vm.proposalForm.attributes[index].cred_def.attributes),function(attribute,index){return _c('el-option',{key:'attribute_name_' + index,attrs:{\"label\":attribute,\"value\":attribute}})}),1):_vm._e(),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){return _vm.remove_attribute(index)}},slot:\"append\"})],1)],1)}),(_vm.proposalForm.predicates.length > 0 && _vm.proposalForm.attributes.length > 0)?_c('el-divider'):_vm._e(),_vm._l((_vm.proposalForm.predicates),function(predicate,index){return _c('el-form-item',{key:'predicate_' + index,staticClass:\"additions\",attrs:{\"label\":'Predicate ' + index,\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"no-data-text\":\"No credential definitions\",\"placeholder\":\"Credential Definition\"},model:{value:(_vm.proposalForm.predicates[index].cred_def),callback:function ($$v) {_vm.$set(_vm.proposalForm.predicates[index], \"cred_def\", $$v)},expression:\"proposalForm.predicates[index].cred_def\"}},_vm._l((_vm.cred_defs),function(cred_def){return _c('el-option',{key:cred_def.cred_def_id,attrs:{\"label\":cred_def.cred_def_id,\"value\":cred_def}})}),1),_c('el-input',{attrs:{\"placeholder\":\"Threshold\"},model:{value:(_vm.proposalForm.predicates[index].threshold),callback:function ($$v) {_vm.$set(_vm.proposalForm.predicates[index], \"threshold\", $$v)},expression:\"proposalForm.predicates[index].threshold\"}},[(_vm.proposalForm.predicates[index].cred_def != null)?_c('el-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"Attribute Name\"},slot:\"prepend\",model:{value:(_vm.proposalForm.predicates[index].name),callback:function ($$v) {_vm.$set(_vm.proposalForm.predicates[index], \"name\", $$v)},expression:\"proposalForm.predicates[index].name\"}},_vm._l((_vm.proposalForm.predicates[index].cred_def.attributes),function(attribute,index){return _c('el-option',{key:'predicate_name_' + index,attrs:{\"label\":attribute,\"value\":attribute}})}),1):_vm._e(),_c('el-select',{staticClass:\"ptype\",staticStyle:{\"width\":\"100px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"Type\"},slot:\"prepend\",model:{value:(_vm.proposalForm.predicates[index].predicate),callback:function ($$v) {_vm.$set(_vm.proposalForm.predicates[index], \"predicate\", $$v)},expression:\"proposalForm.predicates[index].predicate\"}},_vm._l((_vm.p_type_options),function(opt){return _c('el-option',{key:opt,attrs:{\"label\":opt,\"value\":opt}})}),1),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){return _vm.remove_predicate(index)}},slot:\"append\"})],1)],1)}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add_attribute}},[_vm._v(\"Add attribute\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add_predicate}},[_vm._v(\"Add predicate\")])],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.proposalFormActive = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.send}},[_vm._v(\"Send\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" Received Requests \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" Sent Presentation \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" Sent Proposals \")])])}]\n\nexport { render, staticRenderFns }","<template >\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"proposalFormActive = true\">Presentation Proposal</el-button>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"$emit('presentation-refresh',)\"></el-button>\n    </nav>\n    <el-collapse v-model=\"ver_pres_expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"presentation in VerifiedPresentations\"\n          v-bind:title=\"presentation.presentation_exchange_id\"\n          :name=\"presentation.presentation_exchange_id\"\n          :key=\"presentation.presentation_exchange_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"presentation\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded_ver_pres(presentation)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> Received Requests </a>\n    </nav>\n    <el-collapse v-model=\"rec_req_expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"presentation in ReceivedRequests\"\n          v-bind:title=\"presentation.presentation_exchange_id\"\n          :name=\"presentation.presentation_exchange_id\"\n          :key=\"presentation.presentation_exchange_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"presentation\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded_rec_req(presentation)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> Sent Presentation </a>\n    </nav>\n    <el-collapse v-model=\"sent_pres_expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"presentation in SentPresentations\"\n          v-bind:title=\"presentation.presentation_exchange_id\"\n          :name=\"presentation.presentation_exchange_id\"\n          :key=\"presentation.presentation_exchange_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"presentation\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded_sent_pres(presentation)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> Sent Proposals </a>\n    </nav>\n    <el-collapse v-model=\"sent_prop_expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"presentation in SentProposals\"\n          v-bind:title=\"presentation.presentation_exchange_id\"\n          :name=\"presentation.presentation_exchange_id\"\n          :key=\"presentation.presentation_exchange_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"presentation\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded_sent_prop(presentation)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n\n    <el-dialog title=\"Make a Presentation Proposal\" :visible.sync=\"proposalFormActive\">\n      <el-form :model=\"proposalForm\">\n        <el-form-item label=\"Connection:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"proposalForm.connection_id\"\n            filterable\n            placeholder=\"Connection\">\n            <el-option\n              v-for=\"connection in connections\"\n              :key=\"connection.connection_id\"\n              :label=\"connection.their_label\"\n              :value=\"connection.connection_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item\n          label=\"Comment (optional)\"\n          :label-width=\"formLabelWidth\">\n          <el-input\n            v-model=\"proposalForm.comment\"\n            type=\"textarea\"></el-input>\n        </el-form-item>\n\n        <el-form-item\n          v-for=\"(attribute, index) in proposalForm.attributes\"\n          :label=\"'Attribute ' + index\"\n          :label-width=\"formLabelWidth\"\n          :key=\"'attribute_' + index\"\n          class=\"additions\">\n          <el-select\n            v-model=\"proposalForm.attributes[index].cred_def\"\n            filterable\n            no-data-text=\"No credential definitions\"\n            placeholder=\"Credential Definition\">\n            <el-option\n              v-for=\"cred_def in cred_defs\"\n              :key=\"cred_def.cred_def_id\"\n              :label=\"cred_def.cred_def_id\"\n              :value=\"cred_def\">\n            </el-option>\n          </el-select>\n          <el-input\n            v-model=\"proposalForm.attributes[index].value\"\n            placeholder=\"Attribute Value\">\n            <el-select\n              slot=\"prepend\"\n              v-if=\"proposalForm.attributes[index].cred_def != null\"\n              v-model=\"proposalForm.attributes[index].name\"\n              placeholder=\"Attribute Name\"\n              style=\"width: 100px;\">\n              <el-option\n                v-for=\"(attribute, index) in proposalForm.attributes[index].cred_def.attributes\"\n                :key=\"'attribute_name_' + index\"\n                :label=\"attribute\"\n                :value=\"attribute\"></el-option>\n            </el-select>\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-close\"\n              @click=\"remove_attribute(index)\"></el-button>\n          </el-input>\n        </el-form-item>\n\n        <el-divider v-if=\"proposalForm.predicates.length > 0 && proposalForm.attributes.length > 0\"></el-divider>\n\n        <!-- Dynamic Predicates -->\n        <el-form-item\n          v-for=\"(predicate, index) in proposalForm.predicates\"\n          :label=\"'Predicate ' + index\"\n          :label-width=\"formLabelWidth\"\n          :key=\"'predicate_' + index\"\n          class=\"additions\">\n          <el-select\n            v-model=\"proposalForm.predicates[index].cred_def\"\n            filterable\n            no-data-text=\"No credential definitions\"\n            placeholder=\"Credential Definition\">\n            <el-option\n              v-for=\"cred_def in cred_defs\"\n              :key=\"cred_def.cred_def_id\"\n              :label=\"cred_def.cred_def_id\"\n              :value=\"cred_def\">\n            </el-option>\n          </el-select>\n          <el-input\n            v-model=\"proposalForm.predicates[index].threshold\"\n            placeholder=\"Threshold\">\n            <el-select\n              slot=\"prepend\"\n              v-if=\"proposalForm.predicates[index].cred_def != null\"\n              v-model=\"proposalForm.predicates[index].name\"\n              placeholder=\"Attribute Name\"\n              style=\"width: 100px;\">\n              <el-option\n                v-for=\"(attribute, index) in proposalForm.predicates[index].cred_def.attributes\"\n                :key=\"'predicate_name_' + index\"\n                :label=\"attribute\"\n                :value=\"attribute\"></el-option>\n            </el-select>\n            <el-select\n              v-model=\"proposalForm.predicates[index].predicate\"\n              slot=\"prepend\"\n              placeholder=\"Type\"\n              class=\"ptype\"\n              style=\"width: 100px;\">\n              <el-option\n                v-for=\"opt in p_type_options\"\n                :key=\"opt\"\n                :label=\"opt\"\n                :value=\"opt\"></el-option>\n            </el-select>\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-close\"\n              @click=\"remove_predicate(index)\"></el-button>\n          </el-input>\n        </el-form-item>\n\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"add_attribute\">Add attribute</el-button>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"add_predicate\">Add predicate</el-button>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"proposalFormActive = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"send\">Send</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\n\nexport default {\n  name: 'presentation',\n  props: [\n    'title',\n    'presentations',\n    'connections',\n    'cred_defs',\n  ],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      ver_pres_expanded_items:[],\n      sent_prop_expanded_items:[],\n      rec_req_expanded_items:[],\n      sent_pres_expanded_items:[],\n      expanded_items:[],\n      proposalFormActive: false,\n      proposalForm: {\n        connection_id: '', // Who\n        comment: '', // Optional comment\n        attributes: [ ],\n        predicates: [ ]\n      },\n      formLabelWidth: '100px',\n      p_type_options: ['>', '<', '>=', '<=']\n    }\n  },\n  methods: {\n    send: function() {\n      let values = {\n        connection_id: this.proposalForm.connection_id,\n        comment: this.proposalForm.comment,\n        attributes: this.proposalForm.attributes,\n        predicates: this.proposalForm.predicates,\n        auto_present: true\n      }\n      this.proposalFormActive = false;\n\n      this.proposalForm.connection_id = '';\n      this.proposalForm.comment = '';\n      this.proposalForm.attributes = [];\n      this.proposalForm.predicates = [];\n\n      this.$emit('send-presentation-proposal', values);\n    },\n    add_attribute: function() {\n      this.proposalForm.attributes.push({\n        name: '',\n        cred_def: null,\n        value: '',\n      });\n    },\n    remove_attribute: function(index) {\n      this.proposalForm.attributes.splice(index, 1);\n    },\n    add_predicate: function() {\n      this.proposalForm.predicates.push({\n        name: '',\n        cred_def: null,\n        predicate: '',\n        threshold: '',\n      });\n    },\n    remove_predicate: function(index) {\n      this.proposalForm.predicates.splice(index, 1);\n    },\n    collapse_expanded_ver_pres: function(presentation){\n      this.ver_pres_expanded_items = this.ver_pres_expanded_items.filter(\n        item => item != presentation.presentation_exchange_id\n      );\n    },\n    collapse_expanded_sent_prop: function(presentation){\n      this.sent_prop_expanded_items = this.sent_prop_expanded_items.filter(\n        item => item != presentation.presentation_exchange_id\n      );\n    },\n    collapse_expanded_rec_req: function(presentation){\n      this.rec_req_expanded_items = this.rec_req_expanded_items.filter(\n        item => item != presentation.presentation_exchange_id\n      );\n    },\n    collapse_expanded_sent_pres: function(presentation){\n      this.sent_pres_expanded_items = this.sent_pres_expanded_items.filter(\n        item => item != presentation.presentation_exchange_id\n      );\n    },\n    update_attributes: function(cred_def) {\n      var comp = this;\n      cred_def.attributes.forEach(name => {\n        comp.proposalForm.attributes.push({\n          name: name,\n          value: ''\n        });\n      });\n    },\n  },\n  computed: {\n    connection_map: function() {\n      let map =  this.connections.reduce((acc, item) => {\n        acc[item.connection_id] = item;\n        return acc;\n      }, {});\n      console.log(map);\n      return map;\n    },\n    completed_verifications: function() {\n      return this.presentations.filter(pres_exch => pres_exch.state === 'verified');\n    },\n    VerifiedPresentations() {\n      console.log('PRESENTATIONS', this.presentations);\n      return this.presentations.filter(\n        exchange =>\n        (\n          \"state\" in exchange &&\n          (\n            exchange.state === \"verified\" ||\n            exchange.state === \"presentation_acked\"\n          )\n        ) &&\n        //==========================================\n        \"role\" in exchange &&\n        \"prover\" === exchange.role )\n    },\n    ReceivedRequests(){\n      return this.presentations.filter(\n        exchange =>\n        \"state\" in exchange &&\n        exchange.state === \"request_received\" &&\n        //==========================================\n        \"role\" in exchange &&\n        \"prover\" === exchange.role)\n    },\n    SentPresentations(){\n      return this.presentations.filter(\n        exchange =>\n        \"state\" in exchange &&\n        exchange.state === \"presentation_sent\" &&\n        //==========================================\n        \"role\" in exchange &&\n        \"prover\" === exchange.role )\n    },\n    SentProposals(){\n      return this.presentations.filter(\n        exchange =>\n        \"state\" in exchange &&\n        exchange.state === \"proposal_sent\"  &&\n        //==========================================\n        \"role\" in exchange &&\n        \"prover\" === exchange.role\n      )\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Presentation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Presentation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Presentation.vue?vue&type=template&id=79a09082&\"\nimport script from \"./Presentation.vue?vue&type=script&lang=js&\"\nexport * from \"./Presentation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const state = {\n  agent_list: []\n}\n\nconst mutations = {\n  ADD_AGENT (state, detail) {\n    state.agent_list.push(detail);\n  },\n  DELETE_AGENT (state, id) {\n    state.agent_list = state.agent_list.filter(function(element, index, arr){\n      return element.id != id;\n    });\n  }\n};\n\nconst actions = {\n  add_agent (context, detail) {\n    // do something async\n    context.commit('ADD_AGENT', detail);\n  },\n  delete_agent (context, detail) {\n    // do something async\n    context.commit('DELETE_AGENT', detail.id);\n  },\n  get_agent (context, id) {\n    // do something async\n    let detail = context.state.agent_list.find(function(element){\n      return element.id == id;\n    });\n    return detail;\n  }\n};\n\nexport default {\n  namespaced: true,   // ADD THIS LINE\n  state,\n  mutations,\n  actions,\n};\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsent.vue?vue&type=style&index=0&id=d80973b4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsent.vue?vue&type=style&index=0&id=d80973b4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('pds-settings',{attrs:{\"title\":\"Personal Data Storage\"}}),_c('controller-settings',{attrs:{\"title\":\"Controller Configuration\"}}),_c('tda-settings',{attrs:{\"title\":\"TDA Configuration\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <pds-settings title=\"Personal Data Storage\" />\n    <controller-settings title=\"Controller Configuration\" />\n    <tda-settings title=\"TDA Configuration\" />\n  </el-row>\n</template>\n\n<script>\nimport PdsSettings from './PdsSettings.vue'\nimport ControllerSettings from './ControllerSettings.vue'\nimport TdaSettings from './TdaSettings.vue'\n\nexport const metadata = {\n  menu: {\n    label: 'Settings',\n    icon: 'el-icon-setting',\n    group: 'Other',\n    priority: 200,\n    required_protocols: []\n  }\n};\n\nexport const shared = {\n  data: {},\n  listeners: {}\n}\n\nexport default {\n  name: 'settings',\n  components: {\n    PdsSettings,\n    ControllerSettings,\n    TdaSettings\n  },\n  data() {\n    return {\n    }\n  },\n  methods: {\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=80954bbe&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.retrieve_schema_id),callback:function ($$v) {_vm.retrieve_schema_id=$$v},expression:\"retrieve_schema_id\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.retrieve},slot:\"append\"},[_vm._v(\"Retrieve\")])],1),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.createFormActive = true}}},[_vm._v(\"Create\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('schema-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.list),function(schema){return _c('el-collapse-item',{key:schema.schema_id,attrs:{\"title\":schema.schema_name+' '+schema.schema_version,\"name\":schema.schema_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":schema}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded(schema)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Create New Schema\",\"visible\":_vm.createFormActive},on:{\"update:visible\":function($event){_vm.createFormActive=$event}}},[_c('el-form',{attrs:{\"model\":_vm.createForm}},[_c('el-form-item',{attrs:{\"label\":\"Name:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.createForm.name),callback:function ($$v) {_vm.$set(_vm.createForm, \"name\", $$v)},expression:\"createForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Version:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.createForm.version),callback:function ($$v) {_vm.$set(_vm.createForm, \"version\", $$v)},expression:\"createForm.version\"}})],1),_vm._l((_vm.createForm.attributes),function(attribute,index){return _c('el-form-item',{key:index,attrs:{\"label\":'Attribute ' + index,\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"label\":\"'Attribute ' + index\"},model:{value:(_vm.createForm.attributes[index]),callback:function ($$v) {_vm.$set(_vm.createForm.attributes, index, $$v)},expression:\"createForm.attributes[index]\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){return _vm.remove_attribute(index)}},slot:\"append\"})],1)],1)}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add_attribute}},[_vm._v(\"Add attribute\")])],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.createFormActive = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.create}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <el-input\n        v-model=\"retrieve_schema_id\"\n        style=\"width: 300px;\">\n        <el-button\n          slot=\"append\"\n          icon=\"el-icon-search\"\n          @click=\"retrieve\">Retrieve</el-button>\n      </el-input>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"createFormActive = true\">Create</el-button>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"$emit('schema-refresh',)\"></el-button>\n    </nav>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"schema in list\"\n          v-bind:title=\"schema.schema_name+' '+schema.schema_version\"\n          :name=\"schema.schema_id\"\n          :key=\"schema.schema_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"schema\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded(schema)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <el-dialog title=\"Create New Schema\" :visible.sync=\"createFormActive\">\n      <el-form :model=\"createForm\">\n        <el-form-item label=\"Name:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"createForm.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Version:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"createForm.version\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n          v-for=\"(attribute, index) in createForm.attributes\"\n          :label=\"'Attribute ' + index\"\n          :label-width=\"formLabelWidth\"\n          :key=\"index\">\n          <el-input\n            v-model=\"createForm.attributes[index]\"\n            label=\"'Attribute ' + index\">\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-close\"\n              @click=\"remove_attribute(index)\"></el-button>\n          </el-input>\n        </el-form-item>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"add_attribute\">Add attribute</el-button>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"createFormActive = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"create\">Confirm</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\n\nexport default {\n  name: 'schema-list',\n  props: ['title', 'list','editable'],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      expanded_items:[],\n      createFormActive: false,\n      createForm: {\n        name: '',\n        version: '',\n        attributes: [],\n      },\n      retrieve_schema_id: '',\n      formLabelWidth: '100px'\n    }\n  },\n  methods: {\n    collapse_expanded: function(schema){\n      this.expanded_items = this.expanded_items.filter(\n        item => item != schema.schema_id\n      );\n    },\n    add_attribute: function() {\n      this.createForm.attributes.push('');\n    },\n    remove_attribute: function(index) {\n      this.createForm.attributes.splice(index, 1);\n    },\n    create: function() {\n      let values = {\n        name: this.createForm.name,\n        version: this.createForm.version,\n        attributes: this.createForm.attributes\n      }\n      this.createForm.name = '';\n      this.createForm.version = '';\n      this.createForm.attributes = [];\n      this.$emit('schema-send', values);\n      this.createFormActive = false;\n    },\n    retrieve: function() {\n      this.$emit('schema-get', this.retrieve_schema_id);\n      this.retrieve_schema_id = '';\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchemaList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchemaList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SchemaList.vue?vue&type=template&id=fadcfb22&\"\nimport script from \"./SchemaList.vue?vue&type=script&lang=js&\"\nexport * from \"./SchemaList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template >\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <vue-bootstrap-typeahead\n        v-model=\"ocaSchemaQuery\"\n        :minMatchingChars=\"0\"\n        :data=\"ocaSchemaSearch || []\"\n        :serializer=\"s => s.schemaName\"\n        @hit=\"getOcaSchema\"\n        style=\"width: 400px;\">\n        <template slot=\"append\">\n          <el-button\n          slot=\"append\"\n          class=\"btn-sm\"\n          icon=\"el-icon-search\"\n          v-show=\"ocaForm && ocaSchemaQuery\"\n          @click=\"preview()\">Preview</el-button>\n        </template>\n\n        <template slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n          <small>{{ data.namespace }}/</small><span v-html=\"htmlText\"></span>\n        </template>\n      </vue-bootstrap-typeahead>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        v-show=\"ocaForm && ocaSchemaQuery\"\n        @click=\"issueFormActive = true\">Issue</el-button>\n    </nav>\n\n    <el-dialog title=\"Issue Credential\" :visible.sync=\"issueFormActive\" @close=\"deActivateForm()\">\n      <el-form :model=\"issueForm\">\n        <el-form-item label=\"Connection:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"issueForm.connection_id\"\n            filterable\n            value-key=\"issueForm.connection_id\"\n            placeholder=\"Select\">\n            <el-option\n              v-for=\"connection in available_connections\"\n              :key=\"connection.connection_id\"\n              :label=\"connection.their_label\"\n              :value=\"connection.connection_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          label=\"Comment (optional)\"\n          :label-width=\"formLabelWidth\">\n          <el-input\n            v-model=\"issueForm.comment\"\n            type=\"textarea\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"deActivateForm()\">Cancel</el-button>\n        <el-button :disabled=\"!issueForm.connection_id\" type=\"primary\" @click=\"fillOcaForm\">Next</el-button>\n      </span>\n    </el-dialog>\n\n    <el-dialog title=\"Issue Credential\" :modalAppendToBody=\"false\" :visible.sync=\"ocaFormSaved\" @close=\"deActivateForm()\">\n      <el-form>\n        <el-form-item label=\"For:\" :label-width=\"formLabelWidth\">\n          {{ issueData.connection_label }}\n        </el-form-item>\n        <el-form-item\n          label=\"Comment (optional)\"\n          v-if=\"issueData.comment\"\n          :label-width=\"formLabelWidth\">\n          {{ issueData.comment }}\n        </el-form-item>\n        <el-form-item\n          label=\"OCA Schema:\"\n          :label-width=\"formLabelWidth\">\n          {{ issueData.schema_name }}\n          <el-button class='btn-sm' @click=\"preview(issueData.formInput)\">Preview</el-button>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"deActivateForm()\">Cancel</el-button>\n        <el-button :disabled=\"!issueData.connection_id\" :loading=\"sendingCred\" type=\"primary\" @click=\"issueCredential\">Send</el-button>\n      </span>\n    </el-dialog>\n\n    <preview-component style=\"z-index: 9999;\" ref=\"PreviewComponent\" :readonly=\"true\" :form=\"ocaForm\" :alternatives=\"ocaFormAlternatives\"></preview-component>\n    <preview-component ref=\"OcaFormComponent\" :form=\"ocaForm\" :alternatives=\"ocaFormAlternatives\"></preview-component>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport VueBootstrapTypeahead from 'vue-bootstrap-typeahead'\nimport axios from 'axios'\n\nimport { generateDri } from '@/dri_generator'\nimport message_bus from '../../message_bus.ts';\nimport share from '../../share.ts';\n\nimport { eventBus as ocaEventBus, EventHandlerConstant,\n  renderForm, PreviewComponent } from 'odca-form'\n\nexport default {\n  name: 'oca-schema-list',\n  props: ['title', 'connections'],\n  components: {\n    VueJsonPretty,\n    VueBootstrapTypeahead,\n    PreviewComponent\n  },\n  mixins: [\n    message_bus({\n      events: {\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/credential-definition-id\":\n        (v, msg) => {\n          v.$emit('issue-cred', {\n            connection_id: v.issueData.connection_id,\n            cred_def_id: msg.cred_def_id,\n            comment: v.issueData.comment,\n            attributes: [{\n              name: 'hashlink',\n              value: v.issueData.dri\n            }]\n          })\n        },\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1/schema-id\":\n        (v, msg) => {\n          v.send_message({\n            \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/send-credential-definition\",\n            \"schema_id\": msg.schema_id.split(\",\")[0].slice(2, -1)\n          });\n        },\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/credential-exchange\":\n        (v, msg) => {\n          v.$noty.success(\"Credential issued successfully!\", { timeout: 1000 })\n          v.sendingCred = false\n          v.deActivateForm()\n        },\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/notification/1.0/problem-report\":\n        (v, msg) => {\n          v.$noty.error(msg.explain-ltxt, { timeout: 1000 })\n          v.sendingCred = false\n          v.deActivateForm()\n        },\n      },\n    }),\n    share({\n      use: [\n        'schemas',\n      ]\n    })\n  ],\n  data () {\n    return {\n      issueFormActive: false,\n      issueForm: {\n        connection_id: '',\n        connection_label: '',\n        comment: ''\n      },\n      issueData: {\n        fileserver: '',\n        ocaRepo: {\n          host: ''\n        }\n      },\n      formLabelWidth: '200px',\n      ocaSchemaQuery: '',\n      ocaSchemaSearch: [],\n      ocaSchema: null,\n      ocaForm: null,\n      ocaFormAlternatives: [],\n      ocaFormSaved: false,\n      sendingCred: false\n    }\n  },\n  watch: {\n    ocaSchemaQuery: function(input) {\n      if(input.length == 0) {\n        this.ocaSchema = null\n      }\n      this.fetchOcaSchemas(input)\n    },\n    'issueForm.connection_id': function(connection_id) {\n      const selectedConnection = this.available_connections.find(c => {\n        return c.connection_id == connection_id\n      })\n      if(selectedConnection) {\n        this.issueForm.connection_label = selectedConnection.their_label\n      }\n    },\n  },\n  computed: {\n    available_connections: function() {\n      return this.connections.filter(c => c.their_label != 'ToolBox')\n    },\n    ocaRepoUrl: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n    fileserverUrl: function() {\n      return this.$session.get('localDataVaultUrl')\n    }\n  },\n  mounted() {\n    this.issueData.fileserver = this.fileserverUrl\n    this.issueData.ocaRepo.host = this.ocaRepoUrl\n    this.ocaSchemaSearch = this.fetchOcaSchemas('')\n\n    ocaEventBus.$off(EventHandlerConstant.SAVE_PREVIEW)\n    ocaEventBus.$on(EventHandlerConstant.SAVE_PREVIEW, this.savePreviewHandler)\n  },\n  methods: {\n    deActivateForm: function() {\n      this.issueFormActive = false\n      this.ocaFormSaved = false\n      this.issueForm = {\n        connection_id: '',\n        connection_label: '',\n        comment: ''\n      };\n    },\n    fillOcaForm: function() {\n      this.issueData = { ...this.issueData, ...this.issueForm }\n      this.issueData.schema_name = this.ocaForm.label\n      this.issueFormActive = false\n\n      try {\n          this.$refs.OcaFormComponent.openModal({\n            ...this.ocaForm,\n            label: `${this.ocaForm.label} for ${this.issueData.connection_label}`\n          });\n      } catch {\n          this.$noty.error(\"ERROR! Form data are corrupted.\", {\n            timeout: 1000\n          })\n      }\n    },\n    issueCredential: function() {\n      this.sendingCred = true\n      this.generateDriForCredential()\n\n      const schema = this.schemas.find(s => {\n        return s.attributes.length == 1 && s.attributes[0] == 'hashlink' && s.author == 'self'\n      })\n      if(schema){\n        this.send_message({\n          \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/send-credential-definition\",\n          \"schema_id\": schema.schema_id,\n        });\n      } else {\n        this.$emit('publish-schema', {\n          name: 'ocaSchema', version: '1.0', attributes: ['hashlink']\n        })\n      }\n    },\n    generateDriForCredential: async function() {\n      const buffer = Buffer.from(\n        JSON.stringify(this.issueData.formInput, null, 2)\n      )\n\n      const urls = [`${this.issueData.fileserver}/api/v1/files/${this.issueData.formInputDri}`]\n      const meta = {\n        experimental: {\n          host: `${this.issueData.ocaRepo.host}/api/v2/schemas/${this.issueData.ocaRepo.namespace}/`,\n          dri: this.issueData.ocaRepo.branchDri\n        }\n      }\n\n      this.issueData.dri = await generateDri(buffer, urls, meta)\n    },\n    fetchOcaSchemas: function(input) {\n        axios.get(`${this.issueData.ocaRepo.host}/api/v2/schemas?suggest=${input}`)\n        .then(r => {\n          this.ocaSchemaSearch = r.data.map(x => {\n            return {\n              namespace: x.namespace,\n              DRI: x.DRI,\n              schemaName: x.schema.name\n            }\n          })\n        })\n    },\n    getOcaSchema: async function(schema) {\n      this.ocaFormAlternatives = []\n      const result = await axios.get(`${this.issueData.ocaRepo.host}/api/v2/schemas?_index=branch&schema_base=${schema.DRI}`)\n      const branchesBase = result.data.filter(e => e.namespace == schema.namespace)\n      const branchBase = branchesBase[0]\n      const branchResponse = await axios.get(`${this.issueData.ocaRepo.host}/api/v2/schemas/${branchBase.namespace}/${branchBase.DRI}`)\n      const branch = branchResponse.data\n      const langBranches = this.splitBranchPerLang(branch)\n\n      try {\n          langBranches.forEach(langBranch => {\n            this.ocaFormAlternatives.push({\n              language: langBranch.lang,\n              form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n            })\n          })\n\n          this.ocaForm = this.ocaFormAlternatives[0].form\n          this.issueData.ocaRepo.namespace = schema.namespace\n          this.issueData.ocaRepo.branchDri = branchesBase[0].DRI\n      } catch {\n          this.$noty.error(\"ERROR! Form data are corrupted.\", {\n            timeout: 1000\n          })\n      }\n    },\n    splitBranchPerLang: function(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    preview(formInput = null) {\n      try {\n          this.$refs.PreviewComponent.openModal(this.ocaForm, formInput);\n      } catch(e) {\n          this.$noty.error(\"ERROR! Form data are corrupted.\", {\n            timeout: 1000\n          })\n      }\n    },\n    async savePreviewHandler(data) {\n      this.issueData.formInput = data\n      const dataStr = JSON.stringify(data, null, 2)\n      const buffer = Buffer.from(dataStr)\n      const dri = await generateDri(buffer)\n      const blob = new Blob([dataStr], {type: 'application/json'})\n\n      const formData = new FormData()\n      formData.append(\"file\", blob, `${dri.split(':')[1]}.json`)\n      axios.post(`${this.issueData.fileserver}/api/v1/files`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(r => {\n        this.issueData.formInputDri = r.data\n      })\n\n      this.$refs.OcaFormComponent.closeModal();\n      this.ocaFormSaved = true\n    }\n  }\n}\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Information\")]),_c('div',{staticClass:\"items\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"Path:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.path))])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"Route Name:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.name))])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"Vue.js:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.vue))])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"Node:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.node))])]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"Platform:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.platform))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SystemInformation.vue?vue&type=template&id=63f76e43&scoped=true&\"\nimport script from \"./SystemInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./SystemInformation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SystemInformation.vue?vue&type=style&index=0&id=63f76e43&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63f76e43\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.requestFormActive = true}}},[_vm._v(\"Request Presentation\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('verification-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.presentations),function(presentation){return (_vm.presentations.length)?_c('el-collapse-item',{key:presentation.presentation_exchange_id,attrs:{\"title\":_vm.presentation_title(presentation),\"name\":presentation.presentation_exchange_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":presentation}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded(presentation)}}},[_vm._v(\"^\")])],1)],1):_vm._e()}),1)]),_c('el-dialog',{attrs:{\"title\":\"Request Presentation\",\"visible\":_vm.requestFormActive},on:{\"update:visible\":function($event){_vm.requestFormActive=$event}}},[_c('el-form',{attrs:{\"model\":_vm.requestForm}},[_c('el-form-item',{attrs:{\"label\":\"Connection:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"no-data-text\":\"No active connections\",\"filterable\":\"\",\"placeholder\":\"Connection\"},model:{value:(_vm.requestForm.connection_id),callback:function ($$v) {_vm.$set(_vm.requestForm, \"connection_id\", $$v)},expression:\"requestForm.connection_id\"}},_vm._l((_vm.connections),function(connection){return _c('el-option',{key:connection.connection_id,attrs:{\"label\":connection.their_label,\"value\":connection.connection_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Name:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"Proof Request Name\"},model:{value:(_vm.requestForm.name),callback:function ($$v) {_vm.$set(_vm.requestForm, \"name\", $$v)},expression:\"requestForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Comment:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"Optional Comment\",\"type\":\"textarea\"},model:{value:(_vm.requestForm.comment),callback:function ($$v) {_vm.$set(_vm.requestForm, \"comment\", $$v)},expression:\"requestForm.comment\"}})],1),_vm._l((_vm.requestForm.attributes),function(attribute,index){return _c('el-form-item',{key:'attribute_' + index,staticClass:\"additions\",attrs:{\"label\":'Attribute ' + index,\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"Attribute name\"},model:{value:(_vm.requestForm.attributes[index].name),callback:function ($$v) {_vm.$set(_vm.requestForm.attributes[index], \"name\", $$v)},expression:\"requestForm.attributes[index].name\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){return _vm.remove_attribute(index)}},slot:\"append\"})],1),_c('el-form-item',{staticClass:\"restrictions\",attrs:{\"label\":\"Restrictions:\"}},[_c('el-select',{attrs:{\"disabled\":true,\"filterable\":\"\",\"no-data-text\":\"No credential definitions\",\"placeholder\":\"Credential Definition\"},model:{value:(_vm.requestForm.attributes[index].restrictions.cred_def),callback:function ($$v) {_vm.$set(_vm.requestForm.attributes[index].restrictions, \"cred_def\", $$v)},expression:\"requestForm.attributes[index].restrictions.cred_def\"}},_vm._l((_vm.cred_defs),function(cred_def){return _c('el-option',{key:cred_def.cred_def_id,attrs:{\"label\":cred_def.cred_def_id,\"value\":cred_def}})}),1),_c('el-select',{attrs:{\"disabled\":true,\"filterable\":\"\",\"no-data-text\":\"No registered trusted issuers\",\"placeholder\":\"Trusted Issuers\"},model:{value:(_vm.requestForm.attributes[index].restrictions.trusted_issuer),callback:function ($$v) {_vm.$set(_vm.requestForm.attributes[index].restrictions, \"trusted_issuer\", $$v)},expression:\"requestForm.attributes[index].restrictions.trusted_issuer\"}},_vm._l((_vm.trusted_issuers),function(issuer){return _c('el-option',{key:issuer.did,attrs:{\"label\":issuer.label,\"value\":issuer.did}})}),1)],1)],1)}),(_vm.requestForm.predicates.length > 0 && _vm.requestForm.attributes.length > 0)?_c('el-divider'):_vm._e(),_vm._l((_vm.requestForm.predicates),function(predicate,index){return _c('el-form-item',{key:'predicate_' + index,staticClass:\"additions\",attrs:{\"label\":'Predicate ' + index,\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"Attribute Name\"},model:{value:(_vm.requestForm.predicates[index].name),callback:function ($$v) {_vm.$set(_vm.requestForm.predicates[index], \"name\", $$v)},expression:\"requestForm.predicates[index].name\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){return _vm.remove_predicate(index)}},slot:\"append\"})],1),_c('el-input',{attrs:{\"placeholder\":\"Threshold\"},model:{value:(_vm.requestForm.predicates[index].threshold),callback:function ($$v) {_vm.$set(_vm.requestForm.predicates[index], \"threshold\", $$v)},expression:\"requestForm.predicates[index].threshold\"}},[_c('el-select',{staticClass:\"ptype\",attrs:{\"slot\":\"prepend\",\"placeholder\":\"type\"},slot:\"prepend\",model:{value:(_vm.requestForm.predicates[index].p_type),callback:function ($$v) {_vm.$set(_vm.requestForm.predicates[index], \"p_type\", $$v)},expression:\"requestForm.predicates[index].p_type\"}},_vm._l((_vm.p_type_options),function(opt){return _c('el-option',{key:opt,attrs:{\"label\":opt,\"value\":opt}})}),1)],1),_c('el-form-item',{staticClass:\"restrictions\",attrs:{\"label\":\"Restrictions:\"}},[_c('el-select',{attrs:{\"disabled\":true,\"filterable\":\"\",\"no-data-text\":\"No credential definitions\",\"placeholder\":\"Credential Definition\"},model:{value:(_vm.requestForm.predicates[index].restrictions.cred_def),callback:function ($$v) {_vm.$set(_vm.requestForm.predicates[index].restrictions, \"cred_def\", $$v)},expression:\"requestForm.predicates[index].restrictions.cred_def\"}},_vm._l((_vm.cred_defs),function(cred_def){return _c('el-option',{key:cred_def.cred_def_id,attrs:{\"label\":cred_def.cred_def_id,\"value\":cred_def}})}),1),_c('el-select',{attrs:{\"disabled\":true,\"filterable\":\"\",\"no-data-text\":\"No registered trusted issuers\",\"placeholder\":\"Trusted Issuers\"},model:{value:(_vm.requestForm.predicates[index].restrictions.trusted_issuer),callback:function ($$v) {_vm.$set(_vm.requestForm.predicates[index].restrictions, \"trusted_issuer\", $$v)},expression:\"requestForm.predicates[index].restrictions.trusted_issuer\"}},_vm._l((_vm.trusted_issuers),function(issuer){return _c('el-option',{key:issuer.did,attrs:{\"label\":issuer.label,\"value\":issuer.did}})}),1)],1)],1)}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add_attribute}},[_vm._v(\"Add attribute\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add_predicate}},[_vm._v(\"Add predicate\")])],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.requestFormActive = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.send}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <!-- TODO: Split this into more files? -->\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"requestFormActive = true\">Request Presentation</el-button>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"$emit('verification-refresh',)\"></el-button>\n    </nav>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-if=\"presentations.length\"\n          v-for=\"presentation in presentations\"\n          v-bind:title=\"presentation_title(presentation)\"\n          :name=\"presentation.presentation_exchange_id\"\n          :key=\"presentation.presentation_exchange_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"presentation\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded(presentation)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <el-dialog title=\"Request Presentation\" :visible.sync=\"requestFormActive\">\n      <el-form :model=\"requestForm\">\n        <!-- Connection -->\n        <el-form-item label=\"Connection:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"requestForm.connection_id\"\n            no-data-text=\"No active connections\"\n            filterable\n            placeholder=\"Connection\">\n            <el-option\n              v-for=\"connection in connections\"\n              :key=\"connection.connection_id\"\n              :label=\"connection.their_label\"\n              :value=\"connection.connection_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"Name:\" :label-width=\"formLabelWidth\">\n          <el-input\n            v-model=\"requestForm.name\"\n            placeholder=\"Proof Request Name\"></el-input>\n        </el-form-item>\n\n        <!-- Comment -->\n        <el-form-item\n          label=\"Comment:\"\n          :label-width=\"formLabelWidth\">\n          <el-input\n            v-model=\"requestForm.comment\"\n            placeholder=\"Optional Comment\"\n            type=\"textarea\"></el-input>\n        </el-form-item>\n\n        <!-- Dynamic Attributes -->\n        <el-form-item\n          v-for=\"(attribute, index) in requestForm.attributes\"\n          :label=\"'Attribute ' + index\"\n          :label-width=\"formLabelWidth\"\n          :key=\"'attribute_' + index\"\n          class=\"additions\">\n          <el-input\n            v-model=\"requestForm.attributes[index].name\"\n            placeholder=\"Attribute name\">\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-close\"\n              @click=\"remove_attribute(index)\"></el-button>\n          </el-input>\n          <el-form-item  label=\"Restrictions:\" class=\"restrictions\">\n            <el-select\n              :disabled=\"true\"\n              v-model=\"requestForm.attributes[index].restrictions.cred_def\"\n              filterable\n              no-data-text=\"No credential definitions\"\n              placeholder=\"Credential Definition\">\n              <el-option\n                v-for=\"cred_def in cred_defs\"\n                :key=\"cred_def.cred_def_id\"\n                :label=\"cred_def.cred_def_id\"\n                :value=\"cred_def\">\n              </el-option>\n            </el-select>\n            <el-select\n              :disabled=\"true\"\n              v-model=\"requestForm.attributes[index].restrictions.trusted_issuer\"\n              filterable\n              no-data-text=\"No registered trusted issuers\"\n              placeholder=\"Trusted Issuers\">\n              <el-option\n                v-for=\"issuer in trusted_issuers\"\n                :key=\"issuer.did\"\n                :label=\"issuer.label\"\n                :value=\"issuer.did\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-form-item>\n\n        <el-divider v-if=\"requestForm.predicates.length > 0 && requestForm.attributes.length > 0\"></el-divider>\n\n        <!-- Dynamic Predicates -->\n        <el-form-item\n          v-for=\"(predicate, index) in requestForm.predicates\"\n          :label=\"'Predicate ' + index\"\n          :label-width=\"formLabelWidth\"\n          :key=\"'predicate_' + index\"\n          class=\"additions\">\n          <el-input\n            v-model=\"requestForm.predicates[index].name\"\n            placeholder=\"Attribute Name\">\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-close\"\n              @click=\"remove_predicate(index)\"></el-button>\n          </el-input>\n          <el-input\n            v-model=\"requestForm.predicates[index].threshold\"\n            placeholder=\"Threshold\">\n            <el-select\n              v-model=\"requestForm.predicates[index].p_type\"\n              slot=\"prepend\"\n              placeholder=\"type\"\n              class=\"ptype\">\n              <el-option\n                v-for=\"opt in p_type_options\"\n                :key=\"opt\"\n                :label=\"opt\"\n                :value=\"opt\"></el-option>\n            </el-select>\n          </el-input>\n          <el-form-item label=\"Restrictions:\" class=\"restrictions\">\n            <el-select\n              :disabled=\"true\"\n              v-model=\"requestForm.predicates[index].restrictions.cred_def\"\n              filterable\n              no-data-text=\"No credential definitions\"\n              placeholder=\"Credential Definition\">\n              <el-option\n                v-for=\"cred_def in cred_defs\"\n                :key=\"cred_def.cred_def_id\"\n                :label=\"cred_def.cred_def_id\"\n                :value=\"cred_def\">\n              </el-option>\n            </el-select>\n            <el-select\n              :disabled=\"true\"\n              v-model=\"requestForm.predicates[index].restrictions.trusted_issuer\"\n              filterable\n              no-data-text=\"No registered trusted issuers\"\n              placeholder=\"Trusted Issuers\">\n              <el-option\n                v-for=\"issuer in trusted_issuers\"\n                :key=\"issuer.did\"\n                :label=\"issuer.label\"\n                :value=\"issuer.did\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-form-item>\n\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"add_attribute\">Add attribute</el-button>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"add_predicate\">Add predicate</el-button>\n\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"requestFormActive = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"send\">Confirm</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<style>\n.ptype {\n  width: 75px;\n}\n.additions .el-input {\n  margin-bottom: .5em;\n}\n.restrictions {\n  margin-top: .5em;\n}\n.restrictions .el-select {\n  margin-bottom: .5em;\n}\n</style>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport share from '@/share.ts';\n\nexport default {\n  name: 'verification',\n  props: [\n    'title',\n    'list',\n    'editable',\n    'connections',\n    'cred_defs',\n    'trusted_issuers'\n  ],\n  mixins: [share({use: ['id_to_connection']})],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      expanded_items:[],\n      requestFormActive: false,\n      requestForm: {\n        // This differs subtly from presentation proposal\n        connection_id: '', // Who\n        comment: '', // Optional comment\n        name: '',\n        attributes: [\n          // Key: (can be whatever) property name,\n          // {\n          //   \"name\": \"attribute_name\"\n          //   \"restrictions\": {\n          //     \"cred_def_id\": \"asdf\", etc.\n          //   }\n          // }\n\n          /*\n          {\n            \"name\": \"attribute_name\",\n            \"cred_def_id\":\"\",\n            \"mime_type\":\"\",\n            \"value\": \"\"\n          }\n          */\n        ],\n        predicates: [\n          // Key: (can be whatever) property name,\n          // {\n          //   \"name\": \"attribute_name\",\n          //   \"p_type\": \">=\",\n          //   \"p_value\": 18,\n          //   \"restrictions\": {\n          //     \"cred_def_id\": \"asdf\", etc.\n          //   }\n          // }\n        ],\n        presentation_predicates:[\n          /**\n           *{\n           *  \"name\": \"\",\n           *  \"cred_def_id\": \"\",\n           *  \"predicate\": \"\",\n           *  \"threshold\": \"\",\n           *}\n           */\n        ]\n      },\n      formLabelWidth: '100px',\n      p_type_options: ['>', '<', '>=', '<=']\n    }\n  },\n  computed: {\n    connection_map: function() {\n      let map =  this.connections.reduce((acc, item) => {\n        acc[item.connection_id] = item;\n        return acc;\n      }, {});\n      console.log(map);\n      return map;\n    },\n    presentations: function() {\n        return this.list.map((item) => {\n          if (item.connection_id in this.id_to_connection) {\n            item.connection_their_label = this.id_to_connection[item.connection_id].their_label;\n          } else {\n            item.connection_their_label = \"deleted connetion\"\n          }\n          if ('presentation' in item && 'proof' in item.presentation) {\n            delete item.presentation.proof;\n          }\n          return item;\n        });\n      },\n    completed_verifications: function() {\n      return this.list.filter(pres_exch => pres_exch.state === 'verified');\n    }\n  },\n  methods: {\n    presentation_title: function(presentation) {\n      return presentation.presentation_request.name + ' requested from ' + presentation.connection_their_label;\n    },\n    collapse_expanded: function(creddef) {\n      this.expanded_items = this.expanded_items.filter(\n        item => item != creddef.presentation_exchange_id\n      );\n    },\n    send: function() {\n      let values = {\n        connection_id: this.requestForm.connection_id,\n        name: this.requestForm.name,\n        comment: this.requestForm.comment,\n        attributes: this.requestForm.attributes,\n        predicates: this.requestForm.predicates\n      }\n      this.requestFormActive = false;\n\n      this.requestForm.connection_id = '';\n      this.requestForm.name = '';\n      this.requestForm.comment = '';\n      this.requestForm.attributes = [];\n      this.requestForm.predicates = [];\n\n      this.$emit('presentation-request', values);\n    },\n    add_attribute: function() {\n      this.requestForm.attributes.push({\n        name: '',\n        restrictions: {\n          cred_def: undefined,\n          trusted_issuer: undefined\n        },\n      });\n    },\n    remove_attribute: function(index) {\n      this.requestForm.attributes.splice(index, 1);\n    },\n    add_predicate: function() {\n      this.requestForm.predicates.push({\n        name: '',\n        p_type: '',\n        restrictions: {\n          cred_def: undefined,\n          trusted_issuer: undefined,\n        },\n      });\n    },\n    remove_predicate: function(index) {\n      this.requestForm.predicates.splice(index, 1);\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Verification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Verification.vue?vue&type=template&id=365a5192&\"\nimport script from \"./Verification.vue?vue&type=script&lang=js&\"\nexport * from \"./Verification.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Verification.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-button',{attrs:{\"type\":\"secondary\"},on:{\"click\":_vm.clear_history}},[_vm._v(\"Clear\")]),_vm._l((_vm.message_history.slice().reverse()),function(m){return _c('div',{key:m.msg['@id'],staticClass:\"message-display\"},[_c('i',[_vm._v(_vm._s(m.direction))]),_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":m.msg}})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <el-button type=\"secondary\" @click=\"clear_history\">Clear</el-button>\n    <div class=\"message-display\" v-for=\"m in message_history.slice().reverse()\" :key=\"m.msg['@id']\">\n      <i>{{m.direction}}</i>\n      <vue-json-pretty\n        :deep=1\n        :data=\"m.msg\">\n      </vue-json-pretty>\n    </div>\n  </el-row>\n</template>\n\n<script>\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\nimport VueJsonPretty from 'vue-json-pretty';\n\nexport const metadata = {\n  menu: {\n    label: 'Message History',\n    icon: 'el-icon-receiving',\n    group: 'Toolbox to Agent',\n    priority: 50,\n    dev_only: true,\n    required_protocols: [\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    message_history: []\n  },\n  listeners: {\n    'message-received': (share, msg) => {\n      share.message_history.push({msg: msg, direction: 'Received'});\n    },\n    'send-message': (share, msg) => {\n      share.message_history.push({msg: msg, direction: 'Sent'});\n    }\n  }\n};\n\nexport default {\n  name: 'message-history',\n  mixins: [\n    message_bus(),\n    share({\n      use: ['message_history']\n    })\n  ],\n  methods: {\n    clear_history: function(){\n      this.message_history.length = 0;\n    }\n  },\n  components: {\n    VueJsonPretty\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ba751ad2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('label',{staticClass:\"el-form-item__label\"},[_vm._v(_vm._s(_vm.label))]),_c('vue-typeahead-bootstrap',{staticStyle:{\"width\":\"500px\"},attrs:{\"minMatchingChars\":0,\"showOnFocus\":true,\"data\":_vm.search.matching.length == 0 ? _vm.search.all : _vm.search.matching,\"serializer\":function (s) { return ((s.namespace) + \" / \" + (s.schemaName)); }},on:{\"hit\":_vm.getOcaSchema},scopedSlots:_vm._u([{key:\"suggestion\",fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn [_c('span',{domProps:{\"innerHTML\":_vm._s(htmlText)}})]}}]),model:{value:(_vm.search.query),callback:function ($$v) {_vm.$set(_vm.search, \"query\", $$v)},expression:\"search.query\"}},[_c('template',{slot:\"append\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.search.query),expression:\"search.query\"}],staticClass:\"btn-sm\",attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.preview()}},slot:\"append\"},[_vm._v(\"Preview\")])],1)],2),_c('preview-component',{ref:\"PreviewComponent\",staticStyle:{\"z-index\":\"9999\"},attrs:{\"readonly\":true,\"form\":_vm.ocaForm,\"alternatives\":_vm.ocaFormAlternatives}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"display: flex;\">\n    <label class=\"el-form-item__label\">{{ label }}</label>\n    <vue-typeahead-bootstrap\n      v-model=\"search.query\"\n      :minMatchingChars=\"0\"\n      :showOnFocus=\"true\"\n      :data=\"search.matching.length == 0 ? search.all : search.matching\"\n      :serializer=\"s => `${s.namespace} / ${s.schemaName}`\"\n      @hit=\"getOcaSchema\"\n      style=\"width: 500px;\">\n\n      <template slot=\"append\">\n        <el-button\n        slot=\"append\"\n        class=\"btn-sm\"\n        icon=\"el-icon-search\"\n        v-show=\"search.query\"\n        @click=\"preview()\">Preview</el-button>\n      </template>\n\n      <template slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <span v-html=\"htmlText\"></span>\n      </template>\n    </vue-typeahead-bootstrap>\n\n    <preview-component style=\"z-index: 9999;\" ref=\"PreviewComponent\" :readonly=\"true\" :form=\"ocaForm\" :alternatives=\"ocaFormAlternatives\"></preview-component>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap'\nimport { renderForm, PreviewComponent } from 'odca-form'\n\nexport default {\n  name: 'oca-schema-search',\n  props: ['ocaRepoHost', 'label'],\n  components: {\n    VueTypeaheadBootstrap,\n    PreviewComponent\n  },\n  data() {\n    return {\n      search: {\n        query: '',\n        all: [],\n        matching: [],\n        selected: null\n      },\n      ocaForm: null,\n      ocaFormAlternatives: [],\n    }\n  },\n  watch: {\n    'search.query': function(input) {\n      if(input.length == 0) {}\n      this.fetchOcaSchemas(input)\n    },\n  },\n  created() {\n    axios.get(`${this.ocaRepoHost}/api/v2/schemas?_index=schema_base&limit=7`)\n      .then(r => {\n        this.search.all = r.data.map(x => {\n          return {\n            namespace: x.namespace,\n            DRI: x.DRI,\n            schemaName: x.schema.name\n          }\n        })\n      })\n  },\n  methods: {\n    fetchOcaSchemas: function(input) {\n      axios.get(`${this.ocaRepoHost}/api/v2/schemas?suggest=${input}`)\n        .then(r => {\n          this.search.matching = r.data.map(x => {\n            return {\n              namespace: x.namespace,\n              DRI: x.DRI,\n              schemaName: x.schema.name\n            }\n          })\n        })\n    },\n    getOcaSchema: async function(schema) {\n      this.ocaFormAlternatives = []\n      const result = await axios.get(`${this.ocaRepoHost}/api/v2/schemas?_index=branch&schema_base=${schema.DRI}`)\n      const branchesBase = result.data.filter(e => e.namespace == schema.namespace)\n      const branchBase = branchesBase[0]\n      this.$emit('serviceSchemaSelected', {\n        namespace: branchBase.namespace,\n        DRI: branchBase.DRI,\n        schemaName: schema.schemaName\n      })\n\n      const branchResponse = await axios.get(`${this.ocaRepoHost}/api/v2/schemas/${branchBase.namespace}/${branchBase.DRI}`)\n      const branch = branchResponse.data\n      const langBranches = this.splitBranchPerLang(branch)\n\n      try {\n        langBranches.forEach(langBranch => {\n          this.ocaFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n\n        this.ocaForm = this.ocaFormAlternatives[0].form\n      } catch(e) {\n        this.$noty.error(\"ERROR! Form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n    },\n    splitBranchPerLang: function(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    preview(formInput = null) {\n      try {\n        this.$refs.PreviewComponent.openModal(this.ocaForm, formInput);\n      } catch(e) {\n        this.$noty.error(\"ERROR! Form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OcaSchemaSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OcaSchemaSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OcaSchemaSearch.vue?vue&type=template&id=73550dbe&\"\nimport script from \"./OcaSchemaSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./OcaSchemaSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('v-jsoneditor',{model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('el-button',{attrs:{\"type\":\"secondary\"},on:{\"click\":_vm.send}},[_vm._v(\"Send\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <v-jsoneditor v-model=\"content\"></v-jsoneditor>\n    <el-button type=\"secondary\" @click=\"send\">Send</el-button>\n  </el-row>\n</template>\n\n<script>\nimport VJsoneditor from 'v-jsoneditor';\nimport message_bus from '@/message_bus.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Compose',\n    icon: 'el-icon-message',\n    group: 'Toolbox to Agent',\n    priority: 40,\n    dev_only: true,\n    required_protocols: [\n    ]\n  }\n};\n\nexport default {\n  name: 'compose',\n  mixins: [message_bus()],\n  components: {\n    VJsoneditor,\n  },\n  data: function() {\n    return {\n      content: {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/trust_ping/1.0/ping\",\n        \"response_requested\": true\n      },\n    };\n  },\n  methods: {\n    send: function() {\n      this.send_message(this.content);\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=137461c4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.list.length)?_c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.list),function(connection){return _c('el-collapse-item',{key:_vm.title+connection.connection_id,attrs:{\"title\":_vm.get_name(connection),\"name\":connection.connection_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":0,\"data\":connection}}),_c('connection-service-list',{ref:connection.connection_id,refInFor:true,attrs:{\"title\":\"Services:\",\"connection\":connection},on:{\"service-preview\":_vm.servicePreview,\"service-apply\":_vm.serviceApply}})],1),(_vm.editable)?[_c('el-button',{on:{\"click\":function($event){return _vm.edit(connection)}}},[_vm._v(\"Edit\")])]:_vm._e(),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delete_conn(connection)}}},[_vm._v(\"Delete\")]),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded(connection)}}},[_vm._v(\"^\")])],2)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Edit Connection\",\"visible\":_vm.editFormActive},on:{\"update:visible\":function($event){_vm.editFormActive=$event}}},[_c('el-form',{attrs:{\"model\":_vm.editForm}},[_c('el-form-item',{attrs:{\"label\":\"Role:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.editForm.role),callback:function ($$v) {_vm.$set(_vm.editForm, \"role\", $$v)},expression:\"editForm.role\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Label:\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.editForm.label),callback:function ($$v) {_vm.$set(_vm.editForm, \"label\", $$v)},expression:\"editForm.label\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editFormActive = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"Confirm\")])],1)],1),_c('multi-preview-component',{key:_vm.forms.map(function (f) { return f.formData._uniqueId; }).join('-'),ref:\"PreviewServiceComponent\",attrs:{\"confirmLabel\":\"Apply\",\"confirmProcessing\":_vm.confirmProcessing,\"forms\":_vm.forms}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <div v-if=\"list.length\">\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"$emit('refresh',)\"></el-button>\n    </nav>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"(connection) in list\"\n          v-bind:title=\"get_name(connection)\"\n          :name=\"connection.connection_id\"\n          :key=\"title+connection.connection_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty :deep=0 :data=\"connection\" />\n              <connection-service-list title=\"Services:\"\n                :ref=\"connection.connection_id\"\n                :connection=\"connection\"\n                @service-preview=\"servicePreview\"\n                @service-apply=\"serviceApply\" />\n            </div>\n            <template v-if=\"editable\">\n              <el-button @click=\"edit(connection)\">Edit</el-button>\n            </template>\n            <el-button type=\"danger\" @click=\"delete_conn(connection)\">Delete</el-button>\n            <el-button v-on:click=\"collapse_expanded(connection)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <el-dialog title=\"Edit Connection\" :visible.sync=\"editFormActive\">\n      <el-form :model=\"editForm\">\n        <el-form-item label=\"Role:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"editForm.role\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Label:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"editForm.label\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editFormActive = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"update\">Confirm</el-button>\n      </span>\n    </el-dialog>\n\n    <multi-preview-component confirmLabel=\"Apply\" :confirmProcessing=\"confirmProcessing\"\n      :forms=\"forms\" :key=\"forms.map(f => f.formData._uniqueId).join('-')\"\n      ref=\"PreviewServiceComponent\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport VueJsonPretty from 'vue-json-pretty';\n\nimport { eventBus as ocaEventBus, EventHandlerConstant,\n  MultiPreviewComponent } from 'odca-form'\nimport ConnectionServiceList from './ConnectionList/ConnectionServiceList';\n\nexport default {\n  name: 'connection-list',\n  props: ['title', 'list','editable'],\n  components: {\n    VueJsonPretty,\n    ConnectionServiceList,\n    MultiPreviewComponent\n  },\n  data () {\n    return {\n      expanded_items:[],\n      editFormActive: false,\n      editForm: {\n        connection_id: '',\n        role: '',\n        label: '',\n      },\n      forms: [{ class: 'col-md-7', readonly: true, formData: {} },\n        { class: 'col-md-5', readonly: true, formData: {} }],\n      currentApplicationService: {},\n      confirmProcessing: false,\n      formLabelWidth: '100px'\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n  },\n  watch: {\n    'expanded_items': function(a, b) {\n      const connection_id = a.filter(x => !b.includes(x))[0]\n      if (connection_id) {\n        this.$refs[connection_id][0].fetchServices()\n      }\n    }\n  },\n  mounted() {\n    ocaEventBus.$off(EventHandlerConstant.SAVE_PREVIEW)\n    ocaEventBus.$on(EventHandlerConstant.SAVE_PREVIEW, this.saveApplicationHandler)\n  },\n  methods: {\n    get_name: function(connection) {\n      if('their_label' in connection) {\n        return connection.their_label;\n      };\n      return connection.connection_id;\n    },\n    edit: function (connection) {\n      this.editForm.connection_id = connection.connection_id;\n      this.editForm.role = connection.their_role;\n      this.editForm.label = connection.their_label;\n      this.editFormActive = true;\n    },\n    update: function() {\n      this.editFormActive = false;\n      this.$emit('connection-editted', this.editForm);\n    },\n    delete_conn: function (connection) {\n      this.$emit('connection-deleted', connection);\n    },\n    collapse_expanded: function(connection){\n      this.expanded_items = this.expanded_items.filter(\n        item => item != connection.connection_id\n      );\n    },\n    collectForms(event, options) {\n      Object.assign(this.forms[0],\n        {\n          label: event.serviceForm.schema.form.label,\n          formData: event.serviceForm.schema.form,\n          alternatives: event.serviceForm.schema.formAlternatives\n        }, options[0])\n      Object.assign(this.forms[1],\n        {\n          label: event.serviceForm.consent.form.label,\n          formData: event.serviceForm.consent.form,\n          alternatives: event.serviceForm.consent.formAlternatives,\n          input: event.serviceForm.consent.answers\n        }, options[1])\n    },\n    servicePreview(event) {\n      this.collectForms(event, [{ readonly: true }])\n\n      try {\n        this.$refs.PreviewServiceComponent.openModal();\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n    },\n    serviceApply(event) {\n      this.currentApplicationService = event\n      this.collectForms(event, [{ readonly: false }])\n\n      try {\n        this.$refs.PreviewServiceComponent.openModal();\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n    },\n    saveApplicationHandler(data) {\n      const ref = this.$parent.$children.find(child => (\n        child.$el.className == 'activeConnections'\n      ))\n      if(ref) { ref.sendApplication(data) }\n    },\n    sendApplication(data) {\n      if(!this.$refs.PreviewServiceComponent) { return }\n      this.confirmProcessing = true\n\n      axios.post(`${this.acapyApiUrl}/verifiable-services/apply`, {\n        connection_id: this.currentApplicationService.connection_id,\n        service: this.currentApplicationService.service,\n        payload: JSON.stringify(data)\n      }).then(r => {\n        console.log(r.data)\n        if (r.status === 200) {\n          if(typeof r.data === 'string' && r.data.startsWith('-1:')) {\n            this.$noty.error(`Error occurred. ${r.data.split(':')[1]}`, { timeout: 2000 })\n          } else {\n            this.$noty.success(\"Application send!\", { timeout: 1000 })\n          }\n        }\n\n        this.confirmProcessing = false\n        this.$refs.PreviewServiceComponent.closeModal();\n      }).catch(e => {\n        console.log(e)\n        this.$noty.error(\"Error occurred\", { timeout: 1000 })\n\n        this.confirmProcessing = false\n        this.$refs.PreviewServiceComponent.closeModal();\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectionList.vue?vue&type=template&id=4d94fdae&\"\nimport script from \"./ConnectionList.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectionList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport message_bus from '@/message_bus.ts';\n\nexport function Share(vm, data = {}, computed = {}, methods = {}) {\n    return new Vue({\n        data: function() {\n            return {\n                is_dev_interface: vm.$session.get('isDevUi'),\n                vm: vm,\n                ...data\n            };\n        },\n        computed: computed,\n        methods: {\n            ...methods,\n            mutate(subject, data) {\n                this[subject] = data;\n            },\n        },\n    });\n}\n\nexport function share_source(modules) {\n    let data = {};\n    let computed = {};\n    // Share can have multiple listeners for the same event name\n    // Store a list of key value pairs instead of map\n    let listeners = [];\n    let methods = {};\n    modules.forEach((module) => {\n        data = {\n            ...data,\n            ...module.data\n        };\n        computed = {\n            ...computed,\n            ...module.computed\n        };\n        methods = {\n            ...methods,\n            ...module.methods\n        };\n\n        if (module.listeners) {\n            let module_listeners_list = Object.keys(module.listeners).map(\n                key => ({ event: key, listener: module.listeners[key] })\n            );\n            listeners.push(...module_listeners_list);\n        }\n    });\n    let mutated_methods = Object.keys(methods).reduce((acc, action) => {\n        acc[action] = function(...data) {\n            methods[action]({\n                share: this,\n                message_bus: this.message_bus,\n                send: (msg) => this.message_bus.$emit('send-message', msg)\n            }, ...data);\n        };\n        return acc;\n    }, {});\n    return {\n        beforeCreate: function() {\n            this.$share = Share(this, data, computed, mutated_methods);\n            this.$share.message_bus = this.$message_bus;\n        },\n        created: function() {\n            listeners.forEach(({event, listener}) => {\n                this.$message_bus.$on(event,\n                    (...data) => {\n                        listener(this.$share, ...data);\n                    });\n            });\n            this.$share.routeParams = this.$route.params\n        },\n    }\n}\n\nexport default function(options = {use: [], use_mut: [], actions: []}) {\n    let properties = [];\n    let actions = [];\n    // Flat list (backwards compatibility)\n    if (options.constructor === Array) {\n        options.forEach((prop) => {\n            properties.push({name: prop, mutable: true});\n        });\n    } else {\n        if (options && options.use) {\n            options.use.forEach((prop) => {\n                properties.push({name: prop, mutable: false});\n            });\n        }\n        if (options && options.use_mut) {\n            options.use_mut.forEach((prop) => {\n                properties.pus({name: prop, mutable: true});\n            });\n        }\n        if (options && options.actions) {\n            actions = options.actions;\n        }\n    }\n    return {\n        beforeCreate: function() {\n            function derive(component) {\n                if (component.$share) {\n                    let share = component.$share;\n                    // Assume conection is on share source\n                    // TODO better handling here\n                    share.loaded = component.connection_loaded;\n                    return component.$share;\n                }\n                if (component.$parent) {\n                    return derive(component.$parent);\n                }\n                return undefined;\n            }\n            this.$share = derive(this);\n        },\n        computed: properties.reduce(\n            (acc, prop) => {\n                acc[prop.name] = subscribe(prop.name, prop.mutable);\n                return acc;\n            },\n            {}\n        ),\n        methods: {\n            ...actions.reduce((acc, action) => {\n                acc[action] = function(...data) {\n                    return this.$share[action](...data);\n                }\n                return acc;\n            }, {}),\n            ready: async function() {\n                await this.$share.loaded;\n            }\n        },\n    };\n}\n\nexport function subscribe(subject, mutable = true) {\n    return {\n        get: function() {\n            return this.$share[subject];\n        },\n        set: function(data) {\n            if (mutable) {\n                this.$share.mutate(subject, data);\n            } else {\n                throw subject + ' is not mutable in this context.'\n            }\n        }\n    }\n}\n","const hl = require('hashlink')\n\nexport const generateDri = async (data, urls = undefined, meta = undefined) => {\n    const codecs = ['mh-sha2-256', 'mb-base58-btc'];\n    return await hl.encode({data, urls, codecs, meta});\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('my-credentials-list',{attrs:{\"title\":\"Documents\",\"editable\":\"false\",\"list\":_vm.credentials,\"cred_defs\":_vm.proposal_cred_defs,\"connections\":_vm.active_connections},on:{\"cred-refresh\":_vm.fetch_credentials,\"propose\":_vm.send_proposal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <!-- <cred-def-list -->\n    <!--   title=\"Retrieved Credential Definitions\" -->\n    <!--   v-bind:retrievable=\"true\" -->\n    <!--   v-bind:can_create=\"false\" -->\n    <!--   v-bind:list=\"proposal_cred_defs\"></cred-def-list> -->\n    <my-credentials-list\n      title=\"Documents\"\n      editable=\"false\"\n      v-bind:list=\"credentials\"\n      v-bind:cred_defs=\"proposal_cred_defs\"\n      v-bind:connections=\"active_connections\"\n      @cred-refresh=\"fetch_credentials\"\n      @propose=\"send_proposal\"></my-credentials-list>\n  </el-row>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport CredDefList from '../CredentialIssuance/CredDefList.vue';\nimport MyCredentialsList from './MyCredentialsList.vue';\nimport message_bus from '../../message_bus.ts';\nimport share from '../../share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'My Documents',\n    icon: 'el-icon-bank-card',\n    group: 'Agent to Agent',\n    priority: 60,\n    required_protocols: [\n      \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1\"\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    holder_credentials: [],\n  },\n  computed: {\n    proposal_cred_defs: function() {\n      return this.cred_defs.filter(\n        cred_def => {\n          return cred_def.author !== 'self' ||\n            cred_def.cred_def_id.split(':', 2)[0] !== this.public_did\n        }\n      );\n    },\n  },\n  listeners: {\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1/credentials-list\":\n    (share, msg) => {\n      share.holder_credentials = msg.results\n    }\n  },\n  methods: {\n    fetch_holder_credentials: function({send}) {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1/credentials-get-list\",\n      })\n    }\n  }\n}\n\nexport default {\n  name: 'my-credentials',\n  components: {\n    CredDefList,\n    MyCredentialsList\n  },\n  mixins: [\n    message_bus({\n      events: {\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1/credential-exchange\":\n        (v, msg) => setTimeout(v.fetch_holder_credentials, 4500),\n        'my-credentials': (v) => v.fetch_holder_credentials()\n      }\n    }),\n    share({\n      use: [\n        'holder_credentials',\n        'proposal_cred_defs',\n        'active_connections'\n      ],\n      actions: ['fetch_holder_credentials']\n    })\n  ],\n  data: () => {\n    return {\n      credentials: []\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n  },\n  mounted() {\n    this.fetch_credentials()\n  },\n  methods: {\n    send_proposal: function(form) {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1/send-credential-proposal\",\n        \"connection_id\": form.connection_id,\n        \"credential_definition_id\": form.cred_def_id,\n        \"comment\": form.comment, //optional\n        \"credential_proposal\": {\n          \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/issue-credential/1.0/credential-preview\",\n          \"attributes\": form.attributes\n        }\n      };\n      this.send_message(query_msg);\n    },\n    fetch_credentials: function() {\n      axios.get(`${this.acapyApiUrl}/credentials`).then(r => {\n        this.credentials = r.data.results\n      })\n    }\n  },\n  created: function() {\n    this.fetch_credentials();\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=36796e6a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.list.length)?_c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('applications-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.list),function(application,index){return _c('el-collapse-item',{key:index,attrs:{\"name\":application.label + index},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(application.label)+\" | \"+_vm._s(_vm.label)+\" \"+_vm._s(application.connection ? application.connection.their_label : ''))]},proxy:true}],null,true)},[_c('el-row',[_c('vue-json-pretty',{attrs:{\"deep\":0,\"data\":application}}),_c('el-button',{attrs:{\"size\":\"medium\",\"disabled\":!application.payload},on:{\"click\":function($event){return _vm.preview(application)}}},[_vm._v(\"Preview\")])],1)],1)}),1)])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"list.length\">\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n\n      <el-button type=\"primary\" icon=\"el-icon-refresh\"\n        @click=\"$emit('applications-refresh')\"></el-button>\n    </nav>\n\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"(application, index) in list\"\n          :name=\"application.label + index\"\n          :key=\"index\">\n          <template v-slot:title>{{ application.label }} | {{ label }} {{ application.connection ? application.connection.their_label : '' }}</template>\n          <el-row>\n            <vue-json-pretty :deep=0 :data=\"application\" />\n            <el-button size=\"medium\" :disabled=\"!application.payload\"\n              @click=\"preview(application)\">Preview</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport VueJsonPretty from 'vue-json-pretty';\nimport { renderForm } from 'odca-form'\n\nexport default {\n  name: 'application-list',\n  props: { title: String, list: Array, label: String },\n  components: {\n    VueJsonPretty\n  },\n  data () {\n    return {\n      expanded_items:[],\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    ocaRepoUrl: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n  },\n  methods: {\n    async renderApplicationForm(application) {\n      let consentAnswers\n      if(application.consent_schema.data) {\n        consentAnswers = JSON.parse(application.consent_schema.data)\n      } else {\n        consentAnswers = JSON.parse((await axios.get(`${this.acapyApiUrl}/pds/${application.consent_schema.data_dri}`)).data.payload)\n      }\n      const consentBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${application.consent_schema.oca_schema_namespace}/${application.consent_schema.oca_schema_dri}`\n      )).data\n\n      const consentLangBranches = this.splitBranchPerLang(consentBranch)\n      let consentForm\n      const consentFormAlternatives = []\n      try {\n        consentLangBranches.forEach(langBranch => {\n          consentFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        consentForm = consentFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Consent form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      const serviceBranch = (await axios.get(\n        `${this.ocaRepoUrl}/api/v2/schemas/${application.service_schema.oca_schema_namespace}/${application.service_schema.oca_schema_dri}`\n      )).data\n\n      const serviceLangBranches = this.splitBranchPerLang(serviceBranch)\n      let serviceForm\n      const serviceFormAlternatives = []\n      try {\n        serviceLangBranches.forEach(langBranch => {\n          serviceFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n        serviceForm = serviceFormAlternatives[0].form\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Service form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n\n      return {\n        service_id: application.service_id,\n        consent: {\n          form: consentForm,\n          formAlternatives: consentFormAlternatives,\n          answers: consentAnswers\n        },\n        schema: {\n          form: serviceForm,\n          formAlternatives: serviceFormAlternatives,\n          answers: application.payload\n        }\n      }\n    },\n    splitBranchPerLang(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    async preview(application) {\n      this.$emit('application-preview',\n        Object.assign(\n          await this.renderApplicationForm(application),\n          { connection_id: application.connection_id,\n            issue_id: application.issue_id }\n        )\n      )\n    }\n  },\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplicationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplicationList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ApplicationList.vue?vue&type=template&id=a4bd4a04&\"\nimport script from \"./ApplicationList.vue?vue&type=script&lang=js&\"\nexport * from \"./ApplicationList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),_c('div',{staticClass:\"content\"},[_c('el-form',{attrs:{\"label-width\":\"auto\"}},[_c('el-form-item',{attrs:{\"label\":\"Acapy admin API URL:\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.acapyApiUrl),callback:function ($$v) {_vm.acapyApiUrl=$$v},expression:\"acapyApiUrl\"}})],1),_c('el-form-item',{attrs:{\"label\":\"WebSocket server URL:\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.websocketUrl),callback:function ($$v) {_vm.websocketUrl=$$v},expression:\"websocketUrl\"}})],1),_c('el-form-item',{attrs:{\"label\":\"OCA Repo URL:\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.ocaRepoUrl),callback:function ($$v) {_vm.ocaRepoUrl=$$v},expression:\"ocaRepoUrl\"}})],1),_c('el-form-item',{attrs:{\"label\":\"DataVault URL:\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.localDataVaultUrl),callback:function ($$v) {_vm.localDataVaultUrl=$$v},expression:\"localDataVaultUrl\"}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n    </nav>\n\n    <div class=\"content\">\n      <el-form label-width=\"auto\">\n        <el-form-item label=\"Acapy admin API URL:\">\n          <el-input\n            style=\"width: 300px;\"\n            v-model=\"acapyApiUrl\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"WebSocket server URL:\">\n          <el-input\n            style=\"width: 300px;\"\n            v-model=\"websocketUrl\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"OCA Repo URL:\">\n          <el-input\n            style=\"width: 300px;\"\n            v-model=\"ocaRepoUrl\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"DataVault URL:\">\n          <el-input\n            style=\"width: 300px;\"\n            v-model=\"localDataVaultUrl\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'controller-settings',\n  props: ['title'],\n  data() {\n    return {\n      acapyApiUrl: this.$session.get('acapyApiUrl'),\n      websocketUrl: this.$session.get('websocketUrl'),\n      localDataVaultUrl: this.$session.get('localDataVaultUrl'),\n      ocaRepoUrl: this.$session.get('ocaRepoUrl')\n    }\n  },\n  watch: {\n    acapyApiUrl: function() {\n      this.$session.set('acapyApiUrl', this.acapyApiUrl)\n    },\n    websocketUrl: function() {\n      this.$session.set('websocketUrl', this.websocketUrl)\n    },\n    localDataVaultUrl: function() {\n      this.$session.set('localDataVaultUrl', this.localDataVaultUrl)\n    },\n    ocaRepoUrl: function() {\n      this.$session.set('ocaRepoUrl', this.ocaRepoUrl)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  padding: 10px 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControllerSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControllerSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ControllerSettings.vue?vue&type=template&id=48cf7d33&scoped=true&\"\nimport script from \"./ControllerSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./ControllerSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ControllerSettings.vue?vue&type=style&index=0&id=48cf7d33&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48cf7d33\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('label',{staticClass:\"el-form-item__label\"},[_vm._v(_vm._s(_vm.label))]),_c('vue-typeahead-bootstrap',{staticStyle:{\"width\":\"500px\"},attrs:{\"minMatchingChars\":0,\"showOnFocus\":true,\"data\":_vm.search.matching.length == 0 ? _vm.search.all : _vm.search.matching,\"serializer\":function (s) { return ((s.namespace) + \" / \" + (s.schemaName)); }},on:{\"hit\":_vm.getOcaSchema},scopedSlots:_vm._u([{key:\"suggestion\",fn:function(ref){\nvar data = ref.data;\nvar htmlText = ref.htmlText;\nreturn [_c('span',{domProps:{\"innerHTML\":_vm._s(htmlText)}})]}}]),model:{value:(_vm.search.query),callback:function ($$v) {_vm.$set(_vm.search, \"query\", $$v)},expression:\"search.query\"}},[_c('template',{slot:\"append\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.search.query),expression:\"search.query\"}],staticClass:\"btn-sm\",attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.preview()}},slot:\"append\"},[_vm._v(\"Preview\")])],1)],2),_c('preview-component',{ref:\"PreviewComponent\",staticStyle:{\"z-index\":\"9999\"},attrs:{\"readonly\":true,\"form\":_vm.ocaForm,\"alternatives\":_vm.ocaFormAlternatives}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"display: flex;\">\n    <label class=\"el-form-item__label\">{{ label }}</label>\n    <vue-typeahead-bootstrap\n      v-model=\"search.query\"\n      :minMatchingChars=\"0\"\n      :showOnFocus=\"true\"\n      :data=\"search.matching.length == 0 ? search.all : search.matching\"\n      :serializer=\"s => `${s.namespace} / ${s.schemaName}`\"\n      @hit=\"getOcaSchema\"\n      style=\"width: 500px;\">\n\n      <template slot=\"append\">\n        <el-button\n        slot=\"append\"\n        class=\"btn-sm\"\n        icon=\"el-icon-search\"\n        v-show=\"search.query\"\n        @click=\"preview()\">Preview</el-button>\n      </template>\n\n      <template slot=\"suggestion\" slot-scope=\"{ data, htmlText }\">\n        <span v-html=\"htmlText\"></span>\n      </template>\n    </vue-typeahead-bootstrap>\n\n    <preview-component style=\"z-index: 9999;\" ref=\"PreviewComponent\" :readonly=\"true\" :form=\"ocaForm\" :alternatives=\"ocaFormAlternatives\"></preview-component>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport VueTypeaheadBootstrap from 'vue-typeahead-bootstrap'\nimport { renderForm, PreviewComponent } from 'odca-form'\n\nexport default {\n  name: 'oca-schema-search',\n  props: ['ocaRepoHost', 'label'],\n  components: {\n    VueTypeaheadBootstrap,\n    PreviewComponent\n  },\n  data() {\n    return {\n      search: {\n        query: '',\n        all: [],\n        matching: [],\n        selected: null\n      },\n      ocaForm: null,\n      ocaFormAlternatives: [],\n    }\n  },\n  watch: {\n    'search.query': function(input) {\n      if(input.length == 0) {}\n      this.fetchOcaSchemas(input)\n    },\n    'search.selected': function() {\n      this.getOcaSchema(this.search.selected)\n    }\n  },\n  created() {\n    axios.get(`${this.ocaRepoHost}/api/v2/schemas/consent?_index=schema_base&limit=7`)\n      .then(r => {\n        this.search.all = r.data.map(x => {\n          return {\n            namespace: x.namespace,\n            DRI: x.DRI,\n            schemaName: x.schema.name\n          }\n        })\n        this.search.matching = this.search.all\n        this.search.selected = this.search.all[0]\n      })\n  },\n  methods: {\n    fetchOcaSchemas: function(input) {\n      axios.get(`${this.ocaRepoHost}/api/v2/schemas?suggest=${input}`)\n        .then(r => {\n          this.search.matching = r.data.map(x => {\n            return {\n              namespace: x.namespace,\n              DRI: x.DRI,\n              schemaName: x.schema.name\n            }\n          })\n        })\n    },\n    getOcaSchema: async function(schema) {\n      this.ocaFormAlternatives = []\n      const result = await axios.get(`${this.ocaRepoHost}/api/v2/schemas?_index=branch&schema_base=${schema.DRI}`)\n      const branchesBase = result.data.filter(e => e.namespace == schema.namespace)\n      const branchBase = branchesBase[0]\n      this.$emit('consentSchemaSelected', {\n        namespace: branchBase.namespace,\n        DRI: branchBase.DRI,\n        schemaName: schema.schemaName\n      })\n      this.search.query = `${branchBase.namespace} / ${schema.schemaName}`\n\n      const branchResponse = await axios.get(`${this.ocaRepoHost}/api/v2/schemas/${branchBase.namespace}/${branchBase.DRI}`)\n      const branch = branchResponse.data\n      const langBranches = this.splitBranchPerLang(branch)\n\n      try {\n        langBranches.forEach(langBranch => {\n          this.ocaFormAlternatives.push({\n            language: langBranch.lang,\n            form: renderForm([langBranch.branch.schema_base, ...langBranch.branch.overlays]).form\n          })\n        })\n\n        this.ocaForm = this.ocaFormAlternatives[0].form\n        this.$emit('consentFormRendered', {\n          form: this.ocaForm, formAlternatives: this.ocaFormAlternatives\n        })\n      } catch(e) {\n        this.$noty.error(\"ERROR! Form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n    },\n    splitBranchPerLang: function(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n    preview(formInput = null) {\n      try {\n        this.$refs.PreviewComponent.openModal(this.ocaForm, formInput);\n      } catch(e) {\n        this.$noty.error(\"ERROR! Form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OcaSchemaSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OcaSchemaSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OcaSchemaSearch.vue?vue&type=template&id=4779461e&\"\nimport script from \"./OcaSchemaSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./OcaSchemaSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdaSettings.vue?vue&type=style&index=0&id=5b26ebf3&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdaSettings.vue?vue&type=style&index=0&id=5b26ebf3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('p',[_vm._v(\"Ledgers:\")]),_c('el-collapse',{model:{value:(_vm.expanded_ledger_items),callback:function ($$v) {_vm.expanded_ledger_items=$$v},expression:\"expanded_ledger_items\"}},_vm._l((_vm.ledgers),function(ledger,key){return _c('div',{key:key},[_c('el-collapse-item',{attrs:{\"title\":'Name: ' + ledger.name,\"name\":key}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":ledger}}),_c('el-form',{staticClass:\"ledger-form\"},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.removeLedger(ledger)}}},[_vm._v(\"delete\")])],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded_ledger_item(key)}}},[_vm._v(\"^\")])],1)],1)])],1)],1)}),0),_c('p',[_vm._v(\"Add new ledger:\")]),_c('el-form',{attrs:{\"model\":_vm.ledger_form}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"Name:\")]),_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.ledger_form.name),callback:function ($$v) {_vm.$set(_vm.ledger_form, \"name\", $$v)},expression:\"ledger_form.name\"}}),_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"Url to genesis file:\")]),_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.ledger_form.gen_url),callback:function ($$v) {_vm.$set(_vm.ledger_form, \"gen_url\", $$v)},expression:\"ledger_form.gen_url\"}}),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addLedger()}}},[_vm._v(\"add new ledger\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <el-row>\n    <p>Ledgers:</p>\n    <el-collapse v-model=\"expanded_ledger_items\">\n      <div v-for=\"(ledger, key) in ledgers\" :key=\"key\">\n        <el-collapse-item v-bind:title=\"'Name: ' + ledger.name\" :name=\"key\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"ledger\">\n              </vue-json-pretty>\n              <el-form class=\"ledger-form\">\n                <el-form-item >\n                  <el-button type=\"primary\" @click=\"removeLedger(ledger)\">delete</el-button>\n                </el-form-item>\n                <el-button v-on:click=\"collapse_expanded_ledger_item(key)\">^</el-button>\n              </el-form>\n            </div>\n          </el-row>\n        </el-collapse-item>\n      </div>\n    </el-collapse>\n    <p>Add new ledger:</p>\n    <el-form :model=ledger_form>\n\n        <span slot=\"label\">Name:</span>\n        <el-input v-model=\"ledger_form.name\" style=\"width:100px;\"> </el-input>\n        <span slot=\"label\">Url to genesis file:</span>\n        <el-input v-model=\"ledger_form.gen_url\" style=\"width:100px;\"> </el-input>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"addLedger()\">add new ledger</el-button>\n      </el-form-item>\n    </el-form>\n  </el-row>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport message_bus from '../../message_bus.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Ledgers',\n    icon: 'el-icon-connection',\n    group: 'Agent to Agent',\n    priority: 80,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-ledgers/0.1'\n    ]\n  }\n};\n\nexport default {\n  name: 'ledgers',\n  mixins: [\n    message_bus()\n  ],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      ledgers:{\n        '12345234':{\n          'id':'12345234',\n          'name':'sov',\n        },\n        '22345234':{\n          'id':'22345234',\n          'name':'von',\n        },\n        '32345234':{\n          'id':'32345234',\n          'name':'bank',\n        },\n        '42345234':{\n          'id':'42345234',\n          'name':'adams',\n        },\n      },\n      ledger_form:{\n        'name':'',\n        'gen_url':'',\n      },\n      expanded_ledger_items:[],\n    }\n  },\n  created: function() {\n    let component = this; // Safe rerefence to this\n    this.$message_bus.$on(\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-connections/0.1/invitation',\n      msg => component.fetchAgentInvitations()\n    );\n    this.$message_bus.$on('invitations', () => component.fetchAgentInvitations());\n  },\n  methods: {\n    async collapse_expanded_ledger_item(id){\n      let index = this.expanded_ledger_items.indexOf(id)\n      this.expanded_ledger_items.splice(index, 1);\n    },\n  },\n  computed: {\n    ledgerSchemas(ledger_name){\n      console.log(\"ledger name:\",ledger_name)\n      let schemas = Object.keys(this.schemas).reduce((acc,key)=>\n        (\"ledgers\" in this.schemas[key] && ledger_name in this.schemas[key].ledgers ?{\n          ...acc,\n          [key]: this.schemas[key]\n        } : acc\n        ), {})\n      console.log(\"schemas\",schemas)\n      return schemas\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7d5aaba0&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\"Aries Toolbox\")])]),(_vm.defaultConnectionEstablished == false)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\" Connection to Agent failed. Please contact with administrator or try again later. \")]):_vm._e(),_vm._l((_vm.agent_list),function(a){return _c('el-card',{staticClass:\"agent-card\",attrs:{\"shadow\":\"never\"}},[_c('span',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('strong',[_vm._v(_vm._s(a.label))])]),_c('div',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.openConnection(a)}}},[_vm._v(\"Open\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteConnection(a)}}},[_vm._v(\"Delete\")])],1)])}),_c('el-card',{attrs:{\"shadow\":\"never\",\"id\":\"new_agent_connection\"}},[_c('span',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"New Agent Connection\")]),_c('div',[_c('el-form',{attrs:{\"inline\":true}},[_c('el-input',{attrs:{\"placeholder\":\"Paste agent invitation\"},model:{value:(_vm.new_agent_invitation),callback:function ($$v) {_vm.new_agent_invitation=$$v},expression:\"new_agent_invitation\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.new_agent_invitation_process}},[_vm._v(\"Connect\")])],1)],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AgentList.vue?vue&type=template&id=fbdf3bbe&\"\nimport script from \"./AgentList.vue?vue&type=script&lang=js&\"\nexport * from \"./AgentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AgentList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* Message Bus Vue Plugin\n * ======================\n * This Vue plugin adds `$message_bus` attributes to Vue components specifying\n * the `message_bus` option. Values of this option can either be `source` or\n * `derive`. `source` will create a new message bus and make that component the\n * primary holder of the message bus. `derive` will look in the components\n * parent heirarchy for a defined message bus and use the first found message\n * bus.\n */\n\nimport Vue from 'vue';\n\nexport default function(options = {}) {\n    return {\n        beforeCreate: function() {\n            function derive(component) {\n                if (component.$message_bus) {\n                    console.log('Found message bus on component:', component);\n                    return component.$message_bus;\n                }\n                if (component.$parent) {\n                    return derive(component.$parent);\n                }\n                return new Vue();\n            }\n            this.$message_bus = derive(this);\n        },\n        created: function() {\n            if (options && options.events) {\n                Object.keys(options.events).forEach((event) => {\n                    this.$message_bus.$on(event, (...data) => {\n                        options.events[event](this, ...data);\n                    });\n                });\n            }\n        },\n        methods: {\n            send_message: function(message) {\n                this.$message_bus.$emit('send-message', message);\n            },\n            listen: function(event, listener) {\n                this.$message_bus.$on(event, (data) => {\n                    listener(this, data);\n                });\n            }\n        }\n    };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),_c('div',{staticClass:\"content\"},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"Label\"},model:{value:(_vm.consent.label),callback:function ($$v) {_vm.$set(_vm.consent, \"label\", $$v)},expression:\"consent.label\"}}),_c('oca-schema-search',{attrs:{\"label\":\"Schema:\",\"ocaRepoHost\":_vm.ocaRepoHost},on:{\"consentSchemaSelected\":_vm.consentSchemaSelected,\"consentFormRendered\":_vm.consentFormRendered}}),_c('div',[_c('el-button',{attrs:{\"disabled\":!_vm.dataFilled,\"type\":\"primary\"},on:{\"click\":_vm.openCreateConsentForm}},[_vm._v(\"Create\")])],1)],1),_c('preview-component',{ref:\"ConsentPreviewComponent\",attrs:{\"confirmLabel\":\"Create\",\"confirmProcessing\":_vm.consentData.sending,\"form\":_vm.consent.form,\"alternatives\":_vm.consent.form_alternatives}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n    </nav>\n\n    <div class=\"content\">\n      <el-input placeholder=\"Label\" v-model=\"consent.label\"\n        style=\"width: 200px;\"></el-input>\n      <oca-schema-search label=\"Schema:\" :ocaRepoHost=\"ocaRepoHost\"\n        @consentSchemaSelected=\"consentSchemaSelected\"\n        @consentFormRendered=\"consentFormRendered\"/>\n      <div>\n        <el-button :disabled=\"!dataFilled\" type=\"primary\"\n          @click=\"openCreateConsentForm\">Create</el-button>\n      </div>\n    </div>\n\n    <preview-component confirmLabel=\"Create\" :confirmProcessing=\"consentData.sending\" ref=\"ConsentPreviewComponent\" :form=\"consent.form\" :alternatives=\"consent.form_alternatives\"></preview-component>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport OcaSchemaSearch from './NewConsent/OcaSchemaSearch'\n\nimport { eventBus as ocaEventBus, EventHandlerConstant,\n  PreviewComponent } from 'odca-form'\n\nexport default {\n  name: 'new-consent',\n  props: ['title'],\n  components: {\n    OcaSchemaSearch,\n    PreviewComponent\n  },\n  data () {\n    return {\n      consent: {\n        label: '',\n        oca_schema_dri: null,\n        oca_schema_namespace: null,\n        form: null,\n        form_alternatives: null\n      },\n      consentData: {\n        dri: null,\n        sending: false\n      }\n    }\n  },\n  computed: {\n    ocaRepoHost: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    localDataVaultUrl: function() {\n      return this.$session.get('localDataVaultUrl')\n    },\n    dataFilled: function() {\n      return this.consent.oca_schema_dri && this.consent.form && this.consent.label.length > 0\n    },\n  },\n  methods: {\n    consentSchemaSelected({ namespace, DRI }) {\n      this.consent.oca_schema_dri = DRI\n      this.consent.oca_schema_namespace = namespace\n    },\n    consentFormRendered({ form, formAlternatives }) {\n      this.consent.form = form\n      this.consent.form_alternatives = formAlternatives\n    },\n    openCreateConsentForm() {\n      try {\n        this.$refs.ConsentPreviewComponent.openModal(this.consent.form);\n      } catch(e) {\n        console.log(e)\n        this.$noty.error(\"ERROR! Form data are corrupted.\", {\n          timeout: 1000\n        })\n      }\n    },\n    sendConsentData(data) {\n      this.consentData.sending = true\n\n      axios.post(`${this.acapyApiUrl}/verifiable-services/consents`, {\n        label: this.consent.label,\n        oca_schema: {\n          namespace: this.consent.oca_schema_namespace,\n          dri: this.consent.oca_schema_dri,\n        },\n        payload: data\n      }).then(r => {\n        this.consentData.sending = false\n        if (r.data.success) {\n          this.$emit('consents-refresh')\n          this.consent.label = ''\n          this.$refs.ConsentPreviewComponent.closeModal();\n        } else {\n          this.$noty.error(`Error: ${result.errors.join(', ')}`, {\n            timeout: 1000\n          })\n        }\n      }).catch(e => {\n        console.log(e)\n        this.consentData.sending = false\n        this.$noty.error(`Error occurred`, { timeout: 1000 })\n      })\n    }\n  },\n  mounted() {\n    ocaEventBus.$off(EventHandlerConstant.SAVE_PREVIEW)\n    ocaEventBus.$on(EventHandlerConstant.SAVE_PREVIEW, this.sendConsentData)\n  },\n}\n</script>\n\n<style scoped>\n.content {\n  display: flex;\n  justify-content: space-around;\n  padding: 20px 0px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConsent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewConsent.vue?vue&type=template&id=d80973b4&scoped=true&\"\nimport script from \"./NewConsent.vue?vue&type=script&lang=js&\"\nexport * from \"./NewConsent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewConsent.vue?vue&type=style&index=0&id=d80973b4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d80973b4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewService.vue?vue&type=style&index=0&id=7d503203&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewService.vue?vue&type=style&index=0&id=7d503203&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('issuers',{attrs:{\"title\":\"Trusted Dids\",\"trusted_issuers\":_vm.trusted_issuers},on:{\"remove-issuer\":_vm.remove_trusted_issuer,\"store-issuer\":_vm.store_trusted_issuer}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n<el-row>\n    <issuers\n    title=\"Trusted Dids\"\n    :trusted_issuers=\"trusted_issuers\"\n    @remove-issuer=\"remove_trusted_issuer\"\n    @store-issuer=\"store_trusted_issuer\"></issuers>\n\n</el-row>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport Issuers from './Issuers.vue';\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\n\n\nexport const metadata = {\n  menu: {\n    label: 'Trusted Issuers',\n    icon: 'el-icon-connection',\n    group: 'Agent to Agent',\n    priority: 70,\n    dev_only: true,\n    required_protocols: [\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    trusted_issuers: [],\n  },\n  methods: {\n    store_trusted_issuer: ({share}, issuer) => {\n      share.trusted_issuers.push(issuer);\n    },\n    remove_trusted_issuer: ({share}, issuer) => {\n      share.trusted_issuers = share.trusted_issuers\n        .filter((item) => item.did !== issuer.did || item.label !== issuer.label);\n    }\n  }\n}\n\nexport default {\n  name: 'trusted-issuers',\n  components: {\n    VueJsonPretty,\n    Issuers\n  },\n  mixins: [\n    message_bus(),\n    share({\n      use: ['trusted_issuers'],\n      actions: ['store_trusted_issuer', 'remove_trusted_issuer']\n    })\n  ],\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ac845286&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{attrs:{\"inline\":true},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"Current PDS:\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Select PDS\"},on:{\"change\":_vm.pds_selected},model:{value:(_vm.active_pds),callback:function ($$v) {_vm.active_pds=$$v},expression:\"active_pds\"}},_vm._l((_vm.pds_list),function(pds){return _c('el-option',{key:pds,attrs:{\"label\":pds,\"value\":pds}})}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-form @submit.native.prevent :inline=\"true\">\n      <el-form-item label=\"Current PDS:\">\n        <el-select\n          v-model=\"active_pds\"\n          filterable\n          placeholder=\"Select PDS\"\n          @change=\"pds_selected\">\n          <el-option\n            v-for=\"pds in pds_list\"\n            :key=\"pds\" :label=\"pds\" :value=\"pds\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'current-pds',\n  components: {\n  },\n  data() {\n    return {\n      pds_list: [],\n      active_pds: null\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n  },\n  methods: {\n    pds_selected(pds) {\n      axios.post(`${this.acapyApiUrl}/pds/activate?type=${pds.split(',')[0]}`)\n    },\n    refreshPdsList() {\n      axios.get(`${this.acapyApiUrl}/pds`)\n        .then(r => {\n          if (r.status === 200) {\n            this.active_pds = r.data.active\n          }\n        }).catch(e => {\n          console.log(e)\n          this.$noty.error(\"Error occurred\", { timeout: 1000 })\n        })\n\n      axios.get(`${this.acapyApiUrl}/pds/settings`)\n        .then(r => {\n          if (r.status === 200) {\n            this.pds_list = Object.keys(r.data)\n          }\n        }).catch(e => {\n          console.log(e)\n          this.$noty.error(\"Error occurred\", { timeout: 1000 })\n        })\n    }\n  },\n  mounted() {\n    this.refreshPdsList()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentPds.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentPds.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurrentPds.vue?vue&type=template&id=8db4c8fa&\"\nimport script from \"./CurrentPds.vue?vue&type=script&lang=js&\"\nexport * from \"./CurrentPds.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"title\">Information</div>\n    <div class=\"items\">\n      <div class=\"item\">\n        <div class=\"name\">Path:</div>\n        <div class=\"value\">{{ path }}</div>\n      </div>\n      <div class=\"item\">\n        <div class=\"name\">Route Name:</div>\n        <div class=\"value\">{{ name }}</div>\n      </div>\n      <div class=\"item\">\n        <div class=\"name\">Vue.js:</div>\n        <div class=\"value\">{{ vue }}</div>\n      </div>\n      <div class=\"item\">\n        <div class=\"name\">Node:</div>\n        <div class=\"value\">{{ node }}</div>\n      </div>\n      <div class=\"item\">\n        <div class=\"name\">Platform:</div>\n        <div class=\"value\">{{ platform }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        name: this.$route.name,\n        node: process.versions.node,\n        path: this.$route.path,\n        platform: require('os').platform(),\n        vue: require('vue/package.json').version\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .title {\n    color: #888;\n    font-size: 18px;\n    font-weight: initial;\n    letter-spacing: .25px;\n    margin-top: 10px;\n  }\n\n  .items { margin-top: 8px; }\n\n  .item {\n    display: flex;\n    margin-bottom: 6px;\n  }\n\n  .item .name {\n    color: #6a6a6a;\n    margin-right: 6px;\n  }\n\n  .item .value {\n    color: #35495e;\n    font-weight: bold;\n  }\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),(_vm.retrievable)?_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.retrieve_cred_def_id),callback:function ($$v) {_vm.retrieve_cred_def_id=$$v},expression:\"retrieve_cred_def_id\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.get_cred_def},slot:\"append\"},[_vm._v(\"Retrieve\")])],1):_vm._e(),(_vm.can_create && _vm.list)?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.createFormActive = true}}},[_vm._v(\"Create\")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('cred-def-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.list),function(creddef){return _c('el-collapse-item',{key:creddef.cred_def_id,attrs:{\"title\":creddef.cred_def_id,\"name\":creddef.cred_def_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":creddef}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded(creddef)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Create New Credential Definition\",\"visible\":_vm.createFormActive},on:{\"update:visible\":function($event){_vm.createFormActive=$event},\"close\":function($event){return _vm.deactivate()}}},[_c('el-form',{attrs:{\"model\":_vm.createForm}},[_c('el-form-item',{attrs:{\"label\":\"Schema:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"value-key\":\"createForm.schema_id\",\"placeholder\":\"Select\"},model:{value:(_vm.createForm.schema_id),callback:function ($$v) {_vm.$set(_vm.createForm, \"schema_id\", $$v)},expression:\"createForm.schema_id\"}},_vm._l((_vm.schemas),function(schema){return _c('el-option',{key:schema.schema_id,attrs:{\"label\":schema.schema_name +' '+ schema.schema_version,\"value\":schema.schema_id}})}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.deactivate()}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.publish_cred_def}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <el-input\n        v-if=\"retrievable\"\n        v-model=\"retrieve_cred_def_id\"\n        style=\"width: 300px;\">\n        <el-button\n          slot=\"append\"\n          icon=\"el-icon-search\"\n          @click=\"get_cred_def\">Retrieve</el-button>\n      </el-input>\n      <el-button\n        v-if=\"can_create && list\"\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n      @click=\"createFormActive = true\">Create</el-button>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"$emit('cred-def-refresh',)\"></el-button>\n    </nav>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"creddef in list\"\n          v-bind:title=\"creddef.cred_def_id\"\n          :name=\"creddef.cred_def_id\"\n          :key=\"creddef.cred_def_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"creddef\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded(creddef)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <el-dialog title=\"Create New Credential Definition\" :visible.sync=\"createFormActive\" @close=\"deactivate()\">\n      <el-form :model=\"createForm\">\n        <el-form-item label=\"Schema:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"createForm.schema_id\"\n            filterable\n            value-key=\"createForm.schema_id\"\n            placeholder=\"Select\">\n            <el-option\n              v-for=\"schema in schemas\"\n              :key=\"schema.schema_id\"\n              :label=\"schema.schema_name +' '+ schema.schema_version\"\n              :value=\"schema.schema_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"deactivate()\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"publish_cred_def\">Confirm</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport message_bus from '../../message_bus.ts';\nimport share from '../../share.ts';\n\nexport default {\n  name: 'cred-def-list',\n  props: [\n    'retrievable',\n    'title',\n    'list',\n    'can_create',\n  ],\n  mixins: [\n    message_bus({\n      events: {\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/credential-definition-id\":\n        (v, msg) => setTimeout(v.fetch_cred_defs, 4500),\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/credential-definition\":\n        (v, msg) => setTimeout(v.fetch_cred_defs, 4500),\n      }\n    }),\n    share({\n      use: [\n        'schemas',\n      ],\n      actions: ['fetch_cred_defs'],\n    })\n  ],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      expanded_items:[],\n      createFormActive: false,\n      createForm: {\n        schema_id: ''\n      },\n      retrieve_cred_def_id: '',\n      formLabelWidth: '100px'\n    }\n  },\n  created: async function() {\n    await this.ready()\n    this.fetch_cred_defs();\n  },\n  methods: {\n    publish_cred_def: function(form) {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/send-credential-definition\",\n        \"schema_id\": this.createForm.schema_id,\n      };\n      this.send_message(query_msg);\n      this.createFormActive = false;\n      this.createForm.schema_id = '';\n    },\n    get_cred_def: function() {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/credential-definition-get\",\n        \"cred_def_id\": this.retrieve_cred_def_id,\n      };\n      this.send_message(query_msg);\n      this.retrieve_cred_def_id = '';\n    },\n    collapse_expanded: function(creddef){\n      this.expanded_items = this.expanded_items.filter(\n        item => item != creddef.cred_def_id\n      );\n    },\n    deactivate: function() {\n      this.createFormActive = false;\n      this.createForm.schema_id = '';\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CredDefList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CredDefList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CredDefList.vue?vue&type=template&id=14f72884&\"\nimport script from \"./CredDefList.vue?vue&type=script&lang=js&\"\nexport * from \"./CredDefList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.issueFormActive = true}}},[_vm._v(\"Issue\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('issue-cred-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.credentials),function(issued_credential){return _c('el-collapse-item',{key:issued_credential.credential_exchange_id,attrs:{\"title\":_vm.credential_title(issued_credential),\"name\":issued_credential.credential_exchange_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":issued_credential}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded(issued_credential)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Issue Credential\",\"visible\":_vm.issueFormActive},on:{\"update:visible\":function($event){_vm.issueFormActive=$event},\"close\":function($event){return _vm.deActivateForm()}}},[_c('el-form',{attrs:{\"model\":_vm.issueForm}},[_c('el-form-item',{attrs:{\"label\":\"Connection:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"value-key\":\"issueForm.connection_id\",\"placeholder\":\"Select\"},model:{value:(_vm.issueForm.connection_id),callback:function ($$v) {_vm.$set(_vm.issueForm, \"connection_id\", $$v)},expression:\"issueForm.connection_id\"}},_vm._l((_vm.connections),function(connection){return _c('el-option',{key:connection.connection_id,attrs:{\"label\":connection.their_label,\"value\":connection.connection_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Credential Definition:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"remote\":\"\",\"value-key\":\"issueForm.selected_cred_def\",\"placeholder\":\"Select\",\"disabled\":!_vm.issueForm.connection_id},on:{\"change\":_vm.update_attributes},model:{value:(_vm.issueForm.selected_cred_def),callback:function ($$v) {_vm.$set(_vm.issueForm, \"selected_cred_def\", $$v)},expression:\"issueForm.selected_cred_def\"}},_vm._l((_vm.cred_defs),function(cred_def){return _c('el-option',{key:cred_def.cred_def_id,attrs:{\"label\":cred_def.cred_def_id,\"value\":cred_def}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Comment (optional)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.issueForm.comment),callback:function ($$v) {_vm.$set(_vm.issueForm, \"comment\", $$v)},expression:\"issueForm.comment\"}})],1),_vm._l((_vm.issueForm.attributes),function(attribute){return _c('el-form-item',{key:attribute.name,attrs:{\"label\":attribute.name,\"label-width\":_vm.formLabelWidth}},[_c('el-input',{model:{value:(attribute.value),callback:function ($$v) {_vm.$set(attribute, \"value\", $$v)},expression:\"attribute.value\"}})],1)})],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.deActivateForm()}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"disabled\":!_vm.issueForm.selected_cred_def,\"type\":\"primary\"},on:{\"click\":_vm.issue}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"issueFormActive = true\">Issue</el-button>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"$emit('issue-cred-refresh',)\"></el-button>\n    </nav>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"issued_credential in credentials\"\n          v-bind:title=\"credential_title(issued_credential)\"\n          :name=\"issued_credential.credential_exchange_id\"\n          :key=\"issued_credential.credential_exchange_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"issued_credential\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded(issued_credential)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <el-dialog title=\"Issue Credential\" :visible.sync=\"issueFormActive\" @close=\"deActivateForm()\">\n      <el-form :model=\"issueForm\">\n        <el-form-item label=\"Connection:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"issueForm.connection_id\"\n            filterable\n            value-key=\"issueForm.connection_id\"\n            placeholder=\"Select\">\n            <el-option\n              v-for=\"connection in connections\"\n              :key=\"connection.connection_id\"\n              :label=\"connection.their_label\"\n              :value=\"connection.connection_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Credential Definition:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"issueForm.selected_cred_def\"\n            remote\n            value-key=\"issueForm.selected_cred_def\"\n            placeholder=\"Select\"\n            :disabled=\"!issueForm.connection_id\"\n            @change=\"update_attributes\">\n            <el-option\n              v-for=\"cred_def in cred_defs\"\n              :key=\"cred_def.cred_def_id\"\n              :label=\"cred_def.cred_def_id\"\n              :value=\"cred_def\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          label=\"Comment (optional)\"\n          :label-width=\"formLabelWidth\">\n          <el-input\n            v-model=\"issueForm.comment\"\n            type=\"textarea\"></el-input>\n        </el-form-item>\n        <el-form-item\n          v-for=\"attribute in issueForm.attributes\"\n          :label=\"attribute.name\"\n          :label-width=\"formLabelWidth\"\n          :key=\"attribute.name\">\n          <el-input\n            v-model=\"attribute.value\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"deActivateForm()\">Cancel</el-button>\n        <el-button :disabled=\"!issueForm.selected_cred_def\" type=\"primary\" @click=\"issue\">Confirm</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport share from '@/share.ts';\n\nexport default {\n  name: 'issued-cred-list',\n  props: ['title', 'list', 'connections', 'cred_defs'],\n  mixins: [share({use: ['id_to_connection']})],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      expanded_items:[],\n      issueFormActive: false,\n      issueForm: {\n        connection_id: '',\n        selected_cred_def: null,\n        comment: '',\n        attributes: []\n      },\n      retrieve_cred_def_id: '',\n      formLabelWidth: '200px'\n    }\n  },\n  computed: {\n    credentials: function() {\n      return this.list.map(item => {\n        if (item.connection_id in this.id_to_connection) {\n          item.connection = this.id_to_connection[item.connection_id];\n        } else {\n          item.connection = null;\n        }\n        return item;\n      });\n    },\n  },\n  methods: {\n    collapse_expanded: function(creddef) {\n      this.expanded_items = this.expanded_items.filter(\n        item => item != creddef.credential_exchange_id\n      );\n    },\n    deActivateForm: function() {\n      this.issueFormActive = false;\n      this.issueForm = {\n        connection_id: '',\n        selected_cred_def: null,\n        comment: '',\n        attributes: []\n      };\n    },\n    issue: function() {\n      let values = {\n        connection_id: this.issueForm.connection_id,\n        cred_def_id: this.issueForm.selected_cred_def.cred_def_id,\n        comment: this.issueForm.comment,\n        attributes: this.issueForm.attributes,\n      }\n      this.issueForm.connection_id = '';\n      this.issueForm.selected_cred_def = null;\n      this.issueForm.comment = '';\n      this.issueForm.attributes = [];\n\n      this.$emit('issue', values);\n      this.issueFormActive = false;\n    },\n    update_attributes: function(cred_def) {\n      var comp = this;\n      comp.issueForm.attributes = [];\n      cred_def.attributes.forEach(name => {\n        comp.issueForm.attributes.push({\n          name: name,\n          value: ''\n        });\n      });\n    },\n    credential_title: function(cred) {\n      let split = cred.schema_id.split(':');\n      let connection_name = '';\n      if (!cred.connection) {\n        connection_name = '[deleted]';\n      } else {\n        connection_name = cred.connection.their_label;\n      }\n      return `${split[2]} v${split[3]} issued to ${connection_name}`;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IssuedCredList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IssuedCredList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IssuedCredList.vue?vue&type=template&id=33cd2ba2&\"\nimport script from \"./IssuedCredList.vue?vue&type=script&lang=js&\"\nexport * from \"./IssuedCredList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view'),_c('WebSocket',{key:_vm.$session.get('websocketUrl')})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n    <WebSocket :key=\"$session.get('websocketUrl')\" />\n  </div>\n</template>\n\n<script>\n  import WebSocket from './components/WebSocket.vue';\n  import { mapActions } from \"vuex\"\n\n  export default {\n    name: 'aries-toolbox',\n    components: { WebSocket },\n    created() {\n      if (this.$session.exists()) {\n        this.$session.get('connections').forEach(connection => {\n          this.add_agent(connection)\n        })\n      } else {\n        this.$session.start()\n      }\n    },\n    methods: {\n      ...mapActions(\"Agents\", [\"add_agent\"])\n    }\n  }\n</script>\n\n<style>\n  /* CSS */\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7d95b530&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport components from '../components/components.ts';\n\nVue.use(Router)\n\nlet agent_routes = Object.entries(components).map(([modulename, module]) => ({\n  path: module.default.name,\n  name: module.default.name,\n  component: require('@/components/' + modulename).default\n}));\n\n/*\neach agent component is listed like this\n{\n    path: 'dids',\n    name: 'dids',\n    component: require('@/components/Dids').default\n},\n*/\n\nexport default new Router({\n    routes: [\n        {\n            path: '/',\n            name: 'agent-list',\n            component: require('@/components/AgentList').default\n        },\n        {\n            path: '/agent/:agentid',\n            //redirect: '/agent/:agentid/dids', //TODO: Needs to point to a screen not dependant on a protocol\n            name: 'agent',\n            component: require('@/components/AgentBase').default,\n            props: true,\n            children: agent_routes, //calculated above\n        },\n        {\n            path: '*',\n            redirect: '/'\n        }\n    ]\n})\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport modules from './modules';\n\nVue.use(Vuex);\n\n\nexport default new Vuex.Store({\n  namespaced: true,  // ADD THIS LINE\n  modules,\n  strict: process.env.NODE_ENV !== 'production'\n});\n","import Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nimport BootstrapVue from 'bootstrap-vue'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\nimport axios from 'axios'\nimport VueSession from 'vue-session'\nimport VueNoty from 'vuejs-noty'\nimport 'vuejs-noty/dist/vuejs-noty.css'\n\nimport App from './App'\nimport router from './router'\nimport store from './store'\n\nVue.use(VueSession)\nVue.use(VueNoty)\nVue.use(ElementUI);\nVue.http = Vue.prototype.$http = axios;\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  components: { App },\n  router,\n  store,\n  template: '<App/>'\n}).$mount('#app');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('new-service',{attrs:{\"title\":\"Create new service\"},on:{\"services-refresh\":_vm.refreshServices}}),_c('service-list',{attrs:{\"title\":\"My services\",\"services\":_vm.myServicesSorted},on:{\"services-refresh\":_vm.refreshServices,\"service-preview\":function($event){return _vm.previewService($event)}}}),_c('application-list',{attrs:{\"title\":\"Pending applications:\",\"list\":_vm.pending_applications,\"label\":\"From:\"},on:{\"applications-refresh\":_vm.refreshPendingApplications,\"application-preview\":function($event){return _vm.previewApplication($event, { readonly: false })}}}),_c('application-list',{attrs:{\"title\":\"Submitted applications:\",\"list\":_vm.submitted_applications,\"label\":\"To:\"},on:{\"applications-refresh\":_vm.refreshSubmittedApplications,\"application-preview\":function($event){return _vm.previewApplication($event, { readonly: true })}}}),_c('multi-preview-component',{key:_vm.forms.map(function (f) { return f.formData._uniqueId; }).join('-'),ref:\"PreviewApplicationComponent\",attrs:{\"label\":_vm.previewLabel,\"readonly\":_vm.readonlyPreview,\"confirmLabel\":\"Confirm\",\"confirmProcessing\":_vm.confirmProcessing,\"rejectLabel\":\"Reject\",\"rejectProcessing\":_vm.rejectProcessing,\"forms\":_vm.forms}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <new-service title=\"Create new service\"\n      @services-refresh=\"refreshServices\" />\n    <service-list title=\"My services\" :services=\"myServicesSorted\"\n      @services-refresh=\"refreshServices\"\n      @service-preview=\"previewService($event)\" />\n    <application-list\n      title=\"Pending applications:\"\n      :list=\"pending_applications\"\n      label='From:'\n      @applications-refresh=\"refreshPendingApplications\"\n      @application-preview=\"previewApplication($event, { readonly: false })\" />\n    <application-list\n      title=\"Submitted applications:\"\n      :list=\"submitted_applications\"\n      label='To:'\n      @applications-refresh=\"refreshSubmittedApplications\"\n      @application-preview=\"previewApplication($event, { readonly: true })\" />\n\n    <multi-preview-component :label=\"previewLabel\" :readonly=\"readonlyPreview\"\n      confirmLabel=\"Confirm\" :confirmProcessing=\"confirmProcessing\"\n      rejectLabel=\"Reject\" :rejectProcessing=\"rejectProcessing\"\n      :forms=\"forms\" :key=\"forms.map(f => f.formData._uniqueId).join('-')\"\n      ref=\"PreviewApplicationComponent\" />\n  </el-row>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport { mapState, mapActions } from 'vuex'\nimport NewService from './NewService.vue';\nimport ServiceList from './ServiceList.vue';\nimport ApplicationList from './ApplicationList.vue';\nimport { eventBus as ocaEventBus, EventHandlerConstant,\n  MultiPreviewComponent } from 'odca-form'\n\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Services',\n    icon: 'el-icon-goods',\n    group: 'Agent to Agent',\n    priority: 110,\n    required_protocols: []\n  }\n};\n\nexport const shared = {\n  data: {},\n  listeners: {}\n}\n\nexport default {\n  name: 'services',\n  components: {\n    NewService,\n    ServiceList,\n    ApplicationList,\n    MultiPreviewComponent\n  },\n  data() {\n    return {\n      myServices: [],\n      previewLabel: '',\n      readonlyPreview: true,\n      currentApplication: {},\n      confirmProcessing: false,\n      rejectProcessing: false,\n      forms: [\n        { class: \"col-md-7\", readonly: true, formData: {} },\n        { class: \"col-md-5\", readonly: true, formData: {} }\n      ],\n      submitted_applications: [],\n      pending_applications: []\n    }\n  },\n  computed: {\n    ...mapState('WsMessages', ['messages']),\n    stateUpdateMessages: function() {\n      return this.messages.filter(message => {\n        return message.topic == '/topic/verifiable-services/issue-state-update/'\n      })\n    },\n    incomingApplicationMessages: function() {\n      return this.messages.filter(message => {\n        return message.topic == '/topic/verifiable-services/incoming-pending-application/'\n      })\n    },\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    fileserverUrl: function() {\n      return this.$session.get('localDataVaultUrl')\n    },\n    myServicesSorted: function() {\n      return this.myServices.sort((a, b) => {\n        return new Date(b.created_at) - new Date(a.created_at)\n      })\n    },\n  },\n  watch: {\n    connections: {\n      handler: function() {\n        this.refreshSubmittedApplications()\n        this.refreshPendingApplications()\n      },\n      deep: true\n    },\n    stateUpdateMessages: {\n      handler: function() {\n        this.stateUpdateMessages.forEach(message => {\n          this.refreshSubmittedApplications()\n          this.refreshPendingApplications()\n          this.delete_message(message.uuid)\n        })\n      },\n      deep: true\n    },\n    incomingApplicationMessages: {\n      handler: function() {\n        this.incomingApplicationMessages.forEach(message => {\n          this.refreshPendingApplications()\n          this.delete_message(message.uuid)\n        })\n      },\n      deep: true\n    }\n  },\n  mixins: [\n    message_bus(),\n    share({\n      use: ['connections'],\n      actions: []\n    })\n  ],\n  created: async function() {\n    await this.ready();\n    this.refreshServices()\n    this.refreshSubmittedApplications()\n    this.refreshPendingApplications()\n  },\n  mounted() {\n    ocaEventBus.$off(EventHandlerConstant.SAVE_PREVIEW)\n    ocaEventBus.$on(EventHandlerConstant.SAVE_PREVIEW, this.confirmApplicationHandler)\n    ocaEventBus.$off(EventHandlerConstant.REJECT_PREVIEW)\n    ocaEventBus.$on(EventHandlerConstant.REJECT_PREVIEW, this.rejectApplicationHandler)\n  },\n  methods: {\n    ...mapActions('WsMessages', ['delete_message']),\n    refreshServices() {\n      axios.get(`${this.acapyApiUrl}/verifiable-services/self-service-list`)\n        .then(r => {\n          if (r.status === 200) {\n            this.myServices = r.data\n          }\n        }).catch(e => {\n          console.log(e)\n          this.$noty.error(\"Error occurrde\", { timeout: 1000 })\n        })\n    },\n    refreshSubmittedApplications() {\n      axios.post(`${this.acapyApiUrl}/verifiable-services/get-issue-self`, {\n        state: \"pending\", author: \"self\"\n      }).then(r => {\n        if (r.status === 200) {\n          this.submitted_applications = r.data.map(application => {\n            const connection = this.connections.find(conn =>\n              conn.connection_id == application.connection_id\n            )\n            return Object.assign(application, {\n              payload: JSON.parse(application.payload),\n              service_schema: JSON.parse(application.service_schema),\n              consent_schema: JSON.parse(application.consent_schema),\n              connection: connection\n            })\n          })\n        }\n      }).catch(e => {\n        console.log(e)\n        this.$noty.error(\"Error occurred\", { timeout: 1000 })\n      })\n    },\n    refreshPendingApplications() {\n      axios.post(`${this.acapyApiUrl}/verifiable-services/get-issue-self`, {\n        state: \"pending\", author: \"other\"\n      }).then(r => {\n        if (r.status === 200) {\n          this.pending_applications = r.data.map(application => {\n            const connection = this.connections.find(conn =>\n              conn.connection_id == application.connection_id\n            )\n            return Object.assign(application, {\n              payload: JSON.parse(application.payload),\n              service_schema: JSON.parse(application.service_schema),\n              consent_schema: JSON.parse(application.consent_schema),\n              connection: connection\n            })\n          })\n        }\n      }).catch(e => {\n        console.log(e)\n        this.$noty.error(\"Error occurred\", { timeout: 1000 })\n      })\n    },\n    collectForms(application, options=[]) {\n      Object.assign(this.forms[0],\n        {\n          label: application.schema.form.label,\n          formData: application.schema.form,\n          alternatives: application.schema.formAlternatives\n        }, options[0])\n      if(application.schema.answers) {\n        Object.assign(this.forms[0], { input: application.schema.answers })\n      }\n      Object.assign(this.forms[1],\n        {\n          label: application.consent.form.label,\n          formData: application.consent.form,\n          alternatives: application.consent.formAlternatives,\n          input: application.consent.answers\n        }, options[1])\n    },\n    previewService(service, options={}) {\n      this.previewLabel = 'Service'\n      this.readonlyPreview = true\n      this.collectForms(service)\n      this.$refs.PreviewApplicationComponent.openModal()\n    },\n    previewApplication(application, options={}) {\n      this.currentApplication = application\n      this.previewLabel = 'Application'\n      this.readonlyPreview = options.readonly\n      this.collectForms(application)\n      this.$refs.PreviewApplicationComponent.openModal()\n    },\n    examineApplication(decision) {\n      if(decision == 'accept') { this.confirmProcessing = true }\n      else if (decision == 'reject') { this.rejectProcessing = true }\n\n      axios.post(`${this.acapyApiUrl}/verifiable-services/process-application`, {\n        decision: decision, issue_id: this.currentApplication.issue_id\n      }).then(r => {\n        if (r.status === 200) {\n          if(typeof r.data === 'string' && r.data.startsWith('-1:')) {\n            this.$noty.error(`Error occurred. ${r.data.split(':')[1]}`, { timeout: 2000 })\n          } else {\n            this.$noty.success(`Application ${decision}ed!`, { timeout: 1000 })\n            this.refreshPendingApplications()\n          }\n        }\n\n        if(decision == 'accept') { this.confirmProcessing = false }\n        else if (decision == 'reject') { this.rejectProcessing = false }\n        this.$refs.PreviewApplicationComponent.closeModal()\n      }).catch(e => {\n        console.log(e)\n        this.$noty.error(\"Error occurred\", { timeout: 1000 })\n\n        if(decision == 'accept') { this.confirmProcessing = false }\n        else if (decision == 'reject') { this.rejectProcessing = false }\n        this.$refs.PreviewApplicationComponent.closeModal()\n      })\n    },\n    confirmApplicationHandler() {\n      this.examineApplication('accept')\n    },\n    rejectApplicationHandler() {\n      this.examineApplication('reject')\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=aa622882&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo.ce02d2e6.png\";","<template>\n  <el-row>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">Aries Toolbox</a>\n    </nav>\n\n    <div class=\"alert alert-danger\" v-if=\"defaultConnectionEstablished == false\">\n      Connection to Agent failed. Please contact with administrator or try again later.\n    </div>\n\n    <el-card shadow=\"never\" class=\"agent-card\" v-for=\"a in agent_list\">\n      <span slot=\"header\"><strong>{{a.label}}</strong></span>\n      <div>\n        <el-button type=\"text\" @click=\"openConnection(a)\">Open</el-button>\n        <el-button type=\"text\" @click=\"deleteConnection(a)\">Delete</el-button>\n      </div>\n    </el-card>\n\n    <el-card shadow=\"never\" id=\"new_agent_connection\">\n      <span slot=\"header\">New Agent Connection</span>\n      <div>\n        <el-form :inline=\"true\">\n          <el-input v-model=\"new_agent_invitation\" placeholder=\"Paste agent invitation\"></el-input>\n          <el-button type=\"primary\" @click=\"new_agent_invitation_process\">Connect</el-button>\n        </el-form>\n      </div>\n    </el-card>\n  </el-row>\n</template>\n\n<script>\nconst bs58 = require('bs58');\nconst rp = require('request-promise');\nconst DIDComm = require('encryption-envelope-js');\n//import DIDComm from 'didcomm-js';\nimport { mapState, mapActions } from \"vuex\"\nimport { new_connection } from '../connection_detail.ts';\nimport axios from 'axios';\nimport axiosRetry from 'axios-retry';\nconst uuidv4 = require('uuid/v4');\n\nexport default {\n  name: 'agent-list',\n  components: {  },\n  data() {\n    return {\n      agent: this.routeParams().get('agent'),\n      uuid: this.routeParams().get('uuid'),\n      invitation_url: this.routeParams().get('invitation_url'),\n      agentServiceEndpoint: '',\n      defaultConnectionEstablished: null,\n      new_agent_invitation: \"\"\n    }\n  },\n  computed: {\n    ...mapState(\"Agents\", [\"agent_list\"]),\n    acapyApiUrl: function() {\n      const temp = this.agentServiceEndpoint.split('.')\n      temp[0] = temp[0].concat('-api')\n      return temp.join('.')\n    },\n    localDataVaultUrl: function() {\n      const tempURL = new URL(this.agentServiceEndpoint)\n      const temp = tempURL.host.split('.')\n      const t0 = temp[0].split('-')\n      t0.pop()\n      t0.push(config.env.VUE_APP_DATA_VAULT)\n      temp[0] = t0.join('-')\n      return `${tempURL.protocol}//${temp.join('.')}`\n    },\n    ocaRepoUrl: function() {\n      if(config.env.VUE_APP_OCA_REPO_URL) {\n        return config.env.VUE_APP_OCA_REPO_URL\n      } else {\n        return `${config.env.VUE_APP_PROTOCOL}://${config.env.VUE_APP_OCA_REPO}.${config.env.VUE_APP_HOST}`\n      }\n    }\n  },\n  created() {\n    if(this.invitation_url) {\n      this.agentServiceEndpoint = (new URL(this.invitation_url)).origin\n      this.new_agent_invitation = this.invitation_url\n      this.new_agent_invitation_process()\n      this.defaultConnectionEstablished = true\n    } else if(this.agent) {\n      const a = this.uuid ? `${this.uuid}-${this.agent}` : this.agent\n      this.agentServiceEndpoint = `${config.env.VUE_APP_PROTOCOL}://${a}.${config.env.VUE_APP_HOST}`\n      this.connectDefaultAgent()\n    }\n\n    if (this.$session.exists()) {\n      this.$router.push({ name: 'agent', params: {\n        agentid: this.$session.get('agentId')\n      }})\n    }\n  },\n  watch: {\n    agent_list: {\n      handler() {\n        const agent = this.agent_list[0]\n        this.openConnection(agent)\n      }\n    }\n  },\n  methods: {\n    ...mapActions(\"Agents\", [\"add_agent\", \"delete_agent\"]),\n    routeParams() {\n        return (new URL(document.location)).searchParams;\n    },\n\n    connectDefaultAgent() {\n      const axiosInstance = axios.create()\n      axiosRetry(axiosInstance, {\n        retries: 5,\n        shouldResetTimeout: true,\n        retryDelay: retryCount => (retryCount * 500)\n      })\n\n      axiosInstance.post(\n        `${this.acapyApiUrl}/connections/create-admin-invitation-url`,\n        { timeout: 1000 }\n      ).then(r => {\n          const invitationUrl = r.data.invitation_url\n          if (!invitationUrl) { throw 'Error' }\n          this.new_agent_invitation = invitationUrl\n          this.new_agent_invitation_process()\n          this.defaultConnectionEstablished = true\n        }\n      ).catch(() => this.defaultConnectionEstablished = false)\n    },\n    openConnection: async function(a) {\n      axios.get(`${this.acapyApiUrl}/info`)\n        .then(r => {\n            const agentWsUrl = r.data.websocket_server_url\n            this.$session.set('websocketUrl', agentWsUrl)\n          }\n        )\n\n      this.$session.set('agentId', a.id)\n      this.$session.set('acapyApiUrl', this.acapyApiUrl)\n      this.$session.set('localDataVaultUrl', this.localDataVaultUrl)\n      this.$session.set('ocaRepoUrl', this.ocaRepoUrl)\n      this.$router.push({ name: 'agent', params: { agentid: a.id} })\n    },\n    deleteConnection: async function(a){\n      this.delete_agent(a);\n    },\n    async new_agent_invitation_process(){\n      if (this.agentServiceEndpoint.length == 0) {\n        this.agentServiceEndpoint = (new URL(this.new_agent_invitation)).origin\n      }\n\n      //process invite, prepare request\n      var vm = this; //hang on to view model reference\n      this.new_agent_invitation = this.new_agent_invitation.replace(' ', '')\n      console.log(\"invite\", this.new_agent_invitation);\n      //extract c_i param\n      function getUrlVars(url) {\n        var vars = {};\n        var parts = url.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {\n          vars[key] = value;\n        });\n        return vars;\n      }\n      /*\n       * JavaScript base64 / base64url encoder and decoder\n       */\n\n      var b64c = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"   // base64 dictionary\n      var b64u = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"   // base64url dictionary\n      var b64pad = '='\n      /* base64_encode_data\n       * Internal helper to encode data to base64 using specified dictionary.\n       */\n      function base64_encode_data(data, len, b64x) {\n        var dst = \"\"\n        var i\n\n        for (i = 0; i <= len - 3; i += 3)\n        {\n          dst += b64x.charAt(data.charCodeAt(i) >>> 2)\n          dst += b64x.charAt(((data.charCodeAt(i) & 3) << 4) | (data.charCodeAt(i+1) >>> 4))\n          dst += b64x.charAt(((data.charCodeAt(i+1) & 15) << 2) | (data.charCodeAt(i+2) >>> 6))\n          dst += b64x.charAt(data.charCodeAt(i+2) & 63)\n        }\n\n        if (len % 3 == 2)\n        {\n          dst += b64x.charAt(data.charCodeAt(i) >>> 2)\n          dst += b64x.charAt(((data.charCodeAt(i) & 3) << 4) | (data.charCodeAt(i+1) >>> 4))\n          dst += b64x.charAt(((data.charCodeAt(i+1) & 15) << 2))\n          dst += b64pad\n        }\n        else if (len % 3 == 1)\n        {\n          dst += b64x.charAt(data.charCodeAt(i) >>> 2)\n          dst += b64x.charAt(((data.charCodeAt(i) & 3) << 4))\n          dst += b64pad\n          dst += b64pad\n        }\n\n        return dst\n      }\n\n      /* base64_encode\n       * Encode a JavaScript string to base64.\n       * Specified string is first converted from JavaScript UCS-2 to UTF-8.\n       */\n      function base64_encode(str) {\n        var utf8str = unescape(encodeURIComponent(str))\n        return base64_encode_data(utf8str, utf8str.length, b64c)\n      }\n\n      /* base64url_encode\n       * Encode a JavaScript string to base64url.\n       * Specified string is first converted from JavaScript UCS-2 to UTF-8.\n       */\n      function base64url_encode(str) {\n        var utf8str = unescape(encodeURIComponent(str))\n        return base64_encode_data(utf8str, utf8str.length, b64u)\n      }\n\n      /* base64_charIndex\n       * Internal helper to translate a base64 character to its integer index.\n       */\n      function base64_charIndex(c) {\n        if (c == \"+\") return 62\n        if (c == \"/\") return 63\n        return b64u.indexOf(c)\n      }\n\n      /* base64_decode\n       * Decode a base64 or base64url string to a JavaScript string.\n       * Input is assumed to be a base64/base64url encoded UTF-8 string.\n       * Returned result is a JavaScript (UCS-2) string.\n       */\n      function base64_decode(data) {\n        var dst = \"\"\n        var i, a, b, c, d, z\n\n        for (i = 0; i < data.length - 3; i += 4) {\n          a = base64_charIndex(data.charAt(i+0))\n          b = base64_charIndex(data.charAt(i+1))\n          c = base64_charIndex(data.charAt(i+2))\n          d = base64_charIndex(data.charAt(i+3))\n\n          dst += String.fromCharCode((a << 2) | (b >>> 4))\n          if (data.charAt(i+2) != b64pad)\n            dst += String.fromCharCode(((b << 4) & 0xF0) | ((c >>> 2) & 0x0F))\n          if (data.charAt(i+3) != b64pad)\n            dst += String.fromCharCode(((c << 6) & 0xC0) | d)\n        }\n\n        dst = decodeURIComponent(escape(dst))\n        return dst\n      }\n\n      /* base64url_sniff\n       * Check whether specified base64 string contains base64url specific characters.\n       * Return true if specified string is base64url encoded, false otherwise.\n       */\n      function base64url_sniff(base64) {\n        if (base64.indexOf(\"-\") >= 0) return true\n        if (base64.indexOf(\"_\") >= 0) return true\n        return false\n      }\n      var invite_b64 = getUrlVars(this.new_agent_invitation)[\"c_i\"];\n      console.log(\"invite b64\", invite_b64);\n      //base 64 decode\n      var invite_string = base64_decode(invite_b64);\n      console.log(\"invite string\", invite_string);\n      var invite = JSON.parse(invite_string);\n      console.log(\"invite\", invite);\n\n      //make a did\n      const didcomm = new DIDComm.DIDComm();\n      await didcomm.Ready;\n      const toolbox_did = await didcomm.generateKeyPair();\n      toolbox_did.did = bs58.encode(Buffer.from(toolbox_did.publicKey.subarray(0, 16)));\n      toolbox_did.publicKey_b58 = bs58.encode(Buffer.from(toolbox_did.publicKey));\n      toolbox_did.privateKey_b58 = bs58.encode(Buffer.from(toolbox_did.privateKey));\n      console.log(\"new pair\", toolbox_did);\n\n      var req = {\n        \"@id\":  (uuidv4().toString()),\n        \"~transport\": {\n          \"return_route\": \"all\"\n        },\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/connections/1.0/request\",\n        \"label\": \"ToolBox\",\n        \"connection\": {\n          \"DID\": toolbox_did.did,\n          \"DIDDoc\": {\n            \"@context\": \"https://w3id.org/did/v1\",\n            \"id\": toolbox_did.did,\n            \"publicKey\": [{\n              \"id\": toolbox_did.did + \"#keys-1\",\n              \"type\": \"Ed25519VerificationKey2018\",\n              \"controller\": toolbox_did.did,\n              \"publicKeyBase58\": toolbox_did.publicKey_b58\n            }],\n            \"service\": [{\n              \"id\": toolbox_did.did + \";indy\",\n              \"type\": \"IndyAgent\",\n              \"recipientKeys\": [toolbox_did.publicKey_b58],\n              //\"routingKeys\": [\"<example-agency-verkey>\"],\n              \"serviceEndpoint\": \"\"\n            }]\n          }\n        }\n      };\n      console.log(\"Exchange Request\", req);\n\n      //send request, look for response\n      const packedMsg = await didcomm.packMessage(JSON.stringify(req), [bs58.decode(invite.recipientKeys[0])], toolbox_did, true);\n      console.log(\"Packed Exchange Request\", packedMsg);\n\n      //send request\n      var options = {\n        method: 'POST',\n        uri: invite.serviceEndpoint,\n        body: packedMsg\n      };\n\n      rp(options)\n        .then(async function (parsedBody) {\n          // POST succeeded...\n          const unpackedResponse = await didcomm.unpackMessage(parsedBody, toolbox_did);\n          //console.log(\"unpacked\", unpackedResponse);\n          const response = JSON.parse(unpackedResponse.message);\n          //console.log(\"response message\", response);\n          //TODO: Validate signature against invite.\n          //console.log(\"connection sig b64 data\", response['connection~sig'].sig_data);\n          let buff = new Buffer(response['connection~sig'].sig_data, 'base64');\n          let text = buff.toString('ascii');\n          //first 8 chars are a timestamp for the signature, so we ignore those before parsing value\n          response.connection = JSON.parse(text.substring(8));\n          console.log(\"response message\", response);\n          //TODO: record endpoint and recipient key in connection record, along with my keypair. use invitation label\n          // TODO: Clear invite box fter new add.\n          let connection_detail = new_connection(invite.label, response.connection.DIDDoc, toolbox_did);\n          console.log(\"connection detail\", connection_detail);\n          ///this.$store.Connections.commit(\"ADD_CONNECTION\", connection_detail);\n          const connections = vm.$session.get('connections') || []\n          connections.push(connection_detail.to_store())\n          vm.$session.set('connections', connections)\n          vm.add_agent(connection_detail.to_store());\n          vm.new_agent_invitation = \"\"; //clear input for next round\n        })\n        .catch(function (err) {\n          // POST failed...\n          console.log(\"request post err\", err);\n        });\n    }\n\n  }\n}\n</script>\n\n<style>\n.agent-card:first-of-type {\n  margin-top: .5em;\n}\n.agent-card, #new_agent_connection {\n  margin: .5em 1em;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n}\n.agent-card .el-card__header,\n#new_agent_connection .el-card__header {\n  padding: .75rem 1.25rem;\n  background-color: rgba(0, 0, 0, 0.03);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n}\n.agent-card .el-card__body {\n  padding: 0 1em;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('new-consent',{attrs:{\"title\":\"Create new consent\"},on:{\"consents-refresh\":_vm.refreshDefinedConsents}}),_c('consent-list',{attrs:{\"title\":\"Defined consents\",\"consents\":_vm.defined_consent_list},on:{\"consents-refresh\":_vm.refreshDefinedConsents,\"consent-preview\":function($event){return _vm.previewConsent($event)}}}),_c('consent-list',{attrs:{\"title\":\"Given consents\",\"consents\":_vm.given_consent_list},on:{\"consents-refresh\":_vm.refreshGivenConsents,\"consent-preview\":function($event){return _vm.previewApplication($event)}}}),_c('preview-component',{ref:\"PreviewConsentComponent\",attrs:{\"readonly\":true,\"form\":{},\"alternatives\":_vm.alternatives}}),_c('multi-preview-component',{key:_vm.forms.map(function (f) { return f.formData._uniqueId; }).join('-'),ref:\"PreviewApplicationComponent\",attrs:{\"label\":_vm.previewLabel,\"readonly\":_vm.readonlyPreview,\"forms\":_vm.forms}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row>\n    <new-consent title=\"Create new consent\"\n      @consents-refresh=\"refreshDefinedConsents\" />\n    <consent-list title=\"Defined consents\" :consents=\"defined_consent_list\"\n      @consents-refresh=\"refreshDefinedConsents\"\n      @consent-preview=\"previewConsent($event)\" />\n    <consent-list title=\"Given consents\" :consents=\"given_consent_list\"\n      @consents-refresh=\"refreshGivenConsents\"\n      @consent-preview=\"previewApplication($event)\" />\n\n    <preview-component :readonly=\"true\" ref=\"PreviewConsentComponent\" :form=\"{}\" :alternatives=\"alternatives\"></preview-component>\n\n    <multi-preview-component :label=\"previewLabel\" :readonly=\"readonlyPreview\"\n      :forms=\"forms\" :key=\"forms.map(f => f.formData._uniqueId).join('-')\"\n      ref=\"PreviewApplicationComponent\" />\n  </el-row>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { PreviewComponent, MultiPreviewComponent } from 'odca-form'\nimport NewConsent from './NewConsent'\nimport ConsentList from './ConsentList'\nimport share from '@/share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Consents',\n    icon: 'el-icon-goods',\n    group: 'Agent to Agent',\n    priority: 120,\n    required_protocols: []\n  }\n};\n\nexport default {\n  name: 'consents',\n  components: {\n    NewConsent,\n    ConsentList,\n    PreviewComponent,\n    MultiPreviewComponent\n  },\n  mixins: [\n    share({\n      use: ['connections'],\n    })\n  ],\n  data() {\n    return {\n      defined_consent_list: [],\n      given_consent_list: [],\n      previewLabel: '',\n      readonlyPreview: true,\n      currentApplication: {},\n      forms: [\n        { class: \"col-md-7\", readonly: true, formData: {} },\n        { class: \"col-md-5\", readonly: true, formData: {} }\n      ],\n      alternatives: [],\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n  },\n  methods: {\n    async refreshDefinedConsents() {\n      await axios.get(`${this.acapyApiUrl}/verifiable-services/consents`)\n        .then(r => {\n          if (r.status === 200) {\n            this.defined_consent_list = r.data.result\n          }\n        })\n    },\n    async refreshGivenConsents() {\n      await axios.get(`${this.acapyApiUrl}/issue-credential/records`, {\n        state: 'credential_acked'\n      }).then(r => {\n        if (r.status === 200) {\n          const givenCredentials = r.data.results.filter(el => {\n            return el.credential_offer_dict.credential_preview.attributes.some(attr => {\n              return attr.name == 'oca_schema_namespace' && attr.value == 'consent'\n            })\n          })\n          this.given_consent_list = givenCredentials.map(el => {\n            const serviceConsentMatchId = el.credential_offer_dict.credential_preview.attributes.find(attr => attr.name == 'service_consent_match_id').value\n\n            return {\n              label: '',\n              ocaSchemaNamespace: el.credential_offer_dict.credential_preview.attributes.find(attr => attr.name == 'oca_schema_namespace').value,\n              ocaSchemaDri: el.credential_offer_dict.credential_preview.attributes.find(attr => attr.name == 'oca_schema_dri').value,\n              dataDri: el.credential_offer_dict.credential_preview.attributes.find(attr => attr.name == 'data_dri').value.split('/').reverse()[0],\n              serviceConsentMatchId: serviceConsentMatchId\n            }\n          })\n        }\n      }).catch(e => {\n        console.log(e)\n        this.$noty.error(\"Error occurred\", { timeout: 1000 })\n      })\n\n      this.given_consent_list.forEach(async consent => {\n        await axios.post(\n          `${this.acapyApiUrl}/verifiable-services/get-issue-self`, {\n            \"service_consent_match_id\": consent.serviceConsentMatchId\n          }\n        ).then(r => {\n          const service = r.data[0]\n          consent.label = service.label\n          consent.data = JSON.parse(service.consent_schema).data\n          consent.service_schema = JSON.parse(service.service_schema)\n          consent.service_payload = JSON.parse(service.payload)\n          consent.created_at = service.created_at\n          consent.connection = this.connections.find(conn =>\n            conn.connection_id == service.connection_id\n          )\n        })\n      })\n    },\n    previewConsent(event) {\n      this.alternatives = event.consent.formAlternatives\n      this.$refs.PreviewConsentComponent.openModal(event.consent.form, event.consent.answers)\n    },\n    previewApplication(event, options={}) {\n      const application = {\n        schema: event.service,\n        consent: event.consent\n      }\n      this.currentApplication = application\n      this.previewLabel = 'Application'\n      this.collectForms(application)\n      this.$refs.PreviewApplicationComponent.openModal()\n    },\n    collectForms(application, options=[]) {\n      Object.assign(this.forms[0],\n        {\n          label: application.schema.form.label,\n          formData: application.schema.form,\n          alternatives: application.schema.formAlternatives\n        }, options[0])\n      if(application.schema.answers) {\n        Object.assign(this.forms[0], { input: application.schema.answers })\n      }\n      Object.assign(this.forms[1],\n        {\n          label: application.consent.form.label,\n          formData: application.consent.form,\n          alternatives: application.consent.formAlternatives,\n          input: application.consent.answers\n        }, options[1])\n    },\n  },\n  mounted() {\n    this.refreshDefinedConsents()\n    this.refreshGivenConsents()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6b96481a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('verification',{attrs:{\"title\":\"Verification\",\"list\":_vm.issuer_presentations,\"connections\":_vm.active_connections,\"cred_defs\":_vm.cred_defs,\"trusted_issuers\":_vm.trusted_issuers},on:{\"verification-refresh\":_vm.fetch_issuer_presentations,\"presentation-request\":_vm.presentation_request}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <el-row>\n    <verification\n      title=\"Verification\"\n      v-bind:list=\"issuer_presentations\"\n      v-bind:connections=\"active_connections\"\n      v-bind:cred_defs=\"cred_defs\"\n      v-bind:trusted_issuers=\"trusted_issuers\"\n      @verification-refresh=\"fetch_issuer_presentations\"\n      @presentation-request=\"presentation_request\"></verification>\n  </el-row>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport Verification from './Verification.vue';\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\n\n\nexport const metadata = {\n  menu: {\n    label: 'Verification',\n    icon: 'el-icon-s-claim',\n    group: 'Agent to Agent',\n    priority: 100,\n    dev_only: true,\n    required_protocols: [\n      \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1\"\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    issuer_presentations: [],\n  },\n  listeners: {\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/presentations-list\":\n    (share, msg) => share.issuer_presentations = msg.results\n  },\n  methods: {\n    fetch_issuer_presentations: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/presentations-get-list\"\n      })\n    }\n  }\n}\n\nexport default {\n  name: 'verifications',\n  components: {\n    VueJsonPretty,\n    Verification,\n  },\n  mixins: [\n    message_bus({\n      events: {\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/presentation-exchange\":\n        (v, msg) => setTimeout(v.fetch_issuer_presentations, 4500),\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/request-presentation\":\n        (v, msg) => setTimeout(v.fetch_issuer_presentations, 4500),\n      }\n    }),\n    share({\n      use: [\n        'issuer_presentations',\n        'active_connections',\n        'cred_defs',\n        'trusted_issuers',\n      ],\n      actions: ['fetch_issuer_presentations']\n    })\n  ],\n  methods: {\n    async presentation_request(form){\n      // response comes back in admin-issuer/0.1/presentation-exchange\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/request-presentation\",\n        connection_id: form.connection_id,\n        comment: form.comment,\n        proof_request: {\n          name: form.name,\n          version: \"1.0\",\n          requested_attributes: form.attributes.reduce((acc, attribute) => {\n            let transmuted_attr = {\n              name: attribute.name,\n              restrictions: []\n            };\n            if (attribute.restrictions.cred_def || attribute.restrictions.trusted_issuer) {\n              transmuted_attr.restrictions.push({});\n            }\n            if (attribute.restrictions.cred_def) {\n              transmuted_attr.restrictions[0].cred_def_id = attribute.restrictions.cred_def.cred_def_id;\n            }\n            if (attribute.restrictions.trusted_issuer) {\n              transmuted_attr.restrictions[0].issuer_did = attribute.restrictions.trusted_issuer;\n            }\n            if (transmuted_attr.restrictions.length < 1) {\n              delete transmuted_attr.restrictions;\n            }\n            acc[attribute.name] = transmuted_attr;\n            return acc;\n          }, {}),\n          requested_predicates: form.predicates.reduce((acc, predicate) => {\n            let transmuted_pred = {\n              name: predicate.name,\n              p_type: predicate.p_type,\n              p_value: predicate.threshold,\n              restrictions: []\n            };\n            if (predicate.restrictions.cred_def || predicate.restrictions.trusted_issuer) {\n              transmuted_pred.restrictions.push({});\n            }\n            if (predicate.restrictions.cred_def) {\n              transmuted_pred.restrictions[0].cred_def_id = predicate.restrictions.cred_def.cred_def_id;\n            }\n            if (predicate.restrictions.trusted_issuer) {\n              transmuted_pred.restrictions[0].issuer_did = predicate.restrictions.trusted_issuer;\n            }\n            if (transmuted_pred.restrictions.length < 1) {\n              delete transmuted_pred.restrictions;\n            }\n            acc[predicate.name] = transmuted_pred;\n            return acc;\n          }, {}),\n        },\n      };\n      this.send_message(query_msg);\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bceb0dac&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.is_dev_interface)?_c('el-row',[_c('schema-list',{attrs:{\"title\":\"Schemas\",\"editable\":\"false\",\"list\":_vm.schemas},on:{\"schema-send\":_vm.publish_schema,\"schema-get\":_vm.get_schema,\"schema-refresh\":_vm.fetch_schemas}}),_c('cred-def-list',{attrs:{\"title\":\"Credential Definitions\",\"retrievable\":false,\"can_create\":true,\"list\":_vm.issuer_cred_defs},on:{\"cred-def-refresh\":_vm.fetch_cred_defs}}),_c('issued-cred-list',{attrs:{\"title\":\"Issued Credentials\",\"list\":_vm.issued_credentials,\"connections\":_vm.active_connections,\"cred_defs\":_vm.issuer_cred_defs},on:{\"issue\":_vm.issue_credential,\"issue-cred-refresh\":_vm.fetch_issued_credentials}})],1):_c('el-row',[_c('oca-schema-list',{attrs:{\"title\":\"OCA Schemas\",\"connections\":_vm.active_connections},on:{\"publish-schema\":_vm.publish_schema,\"issue-cred\":_vm.issue_credential}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row v-if=\"is_dev_interface\">\n    <schema-list\n      title=\"Schemas\"\n      editable=\"false\"\n      :list=\"schemas\"\n      @schema-send=\"publish_schema\"\n      @schema-get=\"get_schema\"\n      @schema-refresh=\"fetch_schemas\"></schema-list>\n    <cred-def-list\n      title=\"Credential Definitions\"\n      :retrievable=\"false\"\n      :can_create=\"true\"\n      :list=\"issuer_cred_defs\"\n      @cred-def-refresh=\"fetch_cred_defs\"></cred-def-list>\n    <issued-cred-list\n      title=\"Issued Credentials\"\n      v-bind:list=\"issued_credentials\"\n      v-bind:connections=\"active_connections\"\n      v-bind:cred_defs=\"issuer_cred_defs\"\n      @issue=\"issue_credential\"\n      @issue-cred-refresh=\"fetch_issued_credentials\">\n    </issued-cred-list>\n  </el-row>\n\n  <el-row v-else>\n    <oca-schema-list\n      title=\"OCA Schemas\"\n      :connections=\"active_connections\"\n      @publish-schema=\"publish_schema\"\n      @issue-cred=\"issue_credential\"\n      ></oca-schema-list>\n  </el-row>\n</template>\n\n<script>\nimport message_bus from '../../message_bus';\nimport share from '../../share';\nimport SchemaList from './SchemaList.vue';\nimport CredDefList from './CredDefList.vue';\nimport IssuedCredList from './IssuedCredList.vue';\n\nimport OcaSchemaList from './OcaSchemaList.vue';\n\nexport const metadata = {\n  menu: {\n    label: 'Credential Issuance',\n    icon: 'el-icon-document',\n    group: 'Agent to Agent',\n    priority: 50,\n    dev_only: true,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1',\n      \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1\",\n      \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1\"\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    schemas: [],\n    cred_defs: [],\n    issued_credentials: []\n  },\n  computed: {\n    issuer_cred_defs: function() {\n      return this.cred_defs.filter(\n        cred_def => {\n          return cred_def.author === 'self' ||\n            cred_def.cred_def_id.split(':', 2)[0] === this.public_did\n        }\n      );\n    },\n  },\n  listeners: {\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1/schema-list\":\n    (share, msg) => share.schemas = msg.results,\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/credentials-list\":\n    (share, msg) => share.issued_credentials = msg.results,\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/credential-definition-list\":\n    (share, msg) => share.cred_defs = msg.results\n  },\n  methods: {\n    fetch_schemas: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1/schema-get-list\"\n      })\n    },\n    fetch_cred_defs: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-credential-definitions/0.1/credential-definition-get-list\"\n      })\n    },\n    fetch_issued_credentials: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/credentials-get-list\",\n      })\n    },\n  }\n}\n\nexport default {\n  name: 'credential-issuance',\n  mixins: [\n    message_bus({\n      events: {\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1/schema-id\":\n        (v, msg) => v.fetch_schemas(),\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1/schema\":\n        (v, msg) => v.fetch_schemas(),\n        \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/credential-exchange\":\n        (v, msg) => v.fetch_issued_credentials(),\n      }\n    }),\n    share({\n      use: [\n        'is_dev_interface',\n        'active_connections',\n        'schemas',\n        'cred_defs',\n        'issued_credentials',\n        'issuer_cred_defs'\n      ],\n      actions: [\n        'fetch_schemas',\n        'fetch_cred_defs',\n        'fetch_issued_credentials',\n        'fetch_connections',\n      ]\n    })\n  ],\n  components: {\n    OcaSchemaList,\n    SchemaList,\n    CredDefList,\n    IssuedCredList\n  },\n  created: async function() {\n    this.$message_bus.$emit('entered_taa_required_module');\n    await this.ready()\n    this.fetch_schemas();\n    // CredDefList will fetch\n    //this.fetch_cred_defs();\n    this.fetch_issued_credentials();\n    this.fetch_connections();\n  },\n  methods: {\n    publish_schema: function(form) {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1/send-schema\",\n        \"schema_name\": form.name,\n        \"schema_version\": form.version,\n        \"attributes\": form.attributes,\n      };\n      this.send_message(query_msg);\n    },\n    get_schema: function(schema_id) {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-schemas/0.1/schema-get\",\n        \"schema_id\": schema_id,\n      };\n      this.send_message(query_msg);\n    },\n    issue_credential: function(form) {\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-issuer/0.1/send-credential\",\n        \"connection_id\": form.connection_id,\n        \"cred_def_id\": form.cred_def_id,\n        \"comment\": form.comment, //optional\n        \"credential_proposal\": {\n          \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/issue-credential/1.0/credential-preview\",\n          \"attributes\": form.attributes\n        }\n      };\n      this.send_message(query_msg);\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=639ed4b0&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.title))]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.$emit('cred-refresh')}}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.credentials),function(credential){return _c('el-collapse-item',{key:credential.created_at,attrs:{\"name\":credential.created_at}},[_c('template',{slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.credentialsLabel[credential.created_at])+\" | \"+_vm._s(credential.created_at)+\" \"+_vm._s(credential.connection ? (\"| \" + (credential.connection.their_label)) : '')+\" \")]),_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":0,\"data\":credential}})],1),(_vm.credentialsSchema[credential.created_at])?_c('el-button',{on:{\"click\":function($event){return _vm.preview(_vm.credentialsSchema[credential.created_at], _vm.schemaInput[credential.created_at], _vm.credentialsSchemaAlt[credential.created_at])}}},[_vm._v(\"Preview\")]):_vm._e(),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded(credential)}}},[_vm._v(\"^\")])],1)],2)}),1)]),(_vm.offerReceivedStateCredentials.length)?_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\"Offers\")])]):_vm._e(),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.offerReceivedStateCredentials),function(credential){return _c('el-collapse-item',{key:credential.cred_def_id,attrs:{\"title\":credential.cred_def_id,\"name\":credential.cred_def_id}},[_c('el-row',[_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":0,\"data\":credential}})],1),_c('el-button',{on:{\"click\":function($event){return _vm.collapse_expanded(credential)}}},[_vm._v(\"^\")])],1)],1)}),1)]),_c('el-dialog',{attrs:{\"title\":\"Propose Credential\",\"visible\":_vm.proposalFormActive},on:{\"update:visible\":function($event){_vm.proposalFormActive=$event},\"close\":function($event){return _vm.deActivateForm()}}},[_c('el-form',{attrs:{\"model\":_vm.proposalForm}},[_c('el-form-item',{attrs:{\"label\":\"Connection:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"value-key\":\"proposalForm.connection_id\",\"placeholder\":\"Select\"},model:{value:(_vm.proposalForm.connection_id),callback:function ($$v) {_vm.$set(_vm.proposalForm, \"connection_id\", $$v)},expression:\"proposalForm.connection_id\"}},_vm._l((_vm.connections),function(connection){return _c('el-option',{key:connection.connection_id,attrs:{\"label\":connection.their_label,\"value\":connection.connection_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Credential Definition:\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"filterable\":\"\",\"value-key\":\"proposalForm.selected_cred_def\",\"placeholder\":\"Select\",\"disabled\":!_vm.proposalForm.connection_id},on:{\"change\":_vm.update_attributes},model:{value:(_vm.proposalForm.selected_cred_def),callback:function ($$v) {_vm.$set(_vm.proposalForm, \"selected_cred_def\", $$v)},expression:\"proposalForm.selected_cred_def\"}},_vm._l((_vm.cred_defs),function(cred_def){return _c('el-option',{key:cred_def.cred_def_id,attrs:{\"label\":cred_def.cred_def_id,\"value\":cred_def}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"Comment (optional)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.proposalForm.comment),callback:function ($$v) {_vm.$set(_vm.proposalForm, \"comment\", $$v)},expression:\"proposalForm.comment\"}})],1),_vm._l((_vm.proposalForm.attributes),function(attribute){return _c('el-form-item',{key:attribute.name,attrs:{\"label\":attribute.name,\"label-width\":_vm.formLabelWidth}},[_c('el-input',{model:{value:(attribute.value),callback:function ($$v) {_vm.$set(attribute, \"value\", $$v)},expression:\"attribute.value\"}})],1)})],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.deActivateForm()}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"disabled\":!_vm.proposalForm.selected_cred_def,\"type\":\"primary\"},on:{\"click\":_vm.propose}},[_vm._v(\"Confirm\")])],1)],1),_c('preview-component',{ref:\"PreviewComponent\",attrs:{\"readonly\":true,\"form\":_vm.form,\"alternatives\":_vm.alternatives}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">{{ title }}</a>\n      <!-- <el-button -->\n      <!--   type=\"primary\" -->\n      <!--   icon=\"el-icon-plus\" -->\n      <!--   @click=\"proposalFormActive = true\">Send Credential Proposal</el-button> -->\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"$emit('cred-refresh',)\"></el-button>\n    </nav>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"credential in credentials\"\n          :name=\"credential.created_at\"\n          :key=\"credential.created_at\">\n          <template slot=\"title\">\n            {{ credentialsLabel[credential.created_at] }} | {{ credential.created_at }} {{ credential.connection ? `| ${credential.connection.their_label}` : '' }}\n          </template>\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=0\n                :data=\"credential\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-if=\"credentialsSchema[credential.created_at]\"\n              v-on:click=\"preview(credentialsSchema[credential.created_at], schemaInput[credential.created_at], credentialsSchemaAlt[credential.created_at])\">Preview</el-button>\n            <el-button v-on:click=\"collapse_expanded(credential)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <nav\n      v-if=\"offerReceivedStateCredentials.length\"\n      class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">Offers</a>\n      <!-- <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"offerFormActive = true\">Accept Offer</el-button> -->\n    </nav>\n    <el-collapse\n      v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"credential in offerReceivedStateCredentials\"\n          v-bind:title=\"credential.cred_def_id\"\n          :name=\"credential.cred_def_id\"\n          :key=\"credential.cred_def_id\">\n          <el-row>\n            <div>\n              <vue-json-pretty\n                :deep=0\n                :data=\"credential\">\n              </vue-json-pretty>\n            </div>\n            <el-button v-on:click=\"collapse_expanded(credential)\">^</el-button>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n    <el-dialog title=\"Propose Credential\" :visible.sync=\"proposalFormActive\" @close=\"deActivateForm()\">\n      <el-form :model=\"proposalForm\">\n        <el-form-item label=\"Connection:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"proposalForm.connection_id\"\n            filterable\n            value-key=\"proposalForm.connection_id\"\n            placeholder=\"Select\">\n            <el-option\n              v-for=\"connection in connections\"\n              :key=\"connection.connection_id\"\n              :label=\"connection.their_label\"\n              :value=\"connection.connection_id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Credential Definition:\" :label-width=\"formLabelWidth\">\n          <el-select\n            v-model=\"proposalForm.selected_cred_def\"\n            filterable\n            value-key=\"proposalForm.selected_cred_def\"\n            placeholder=\"Select\"\n            :disabled=\"!proposalForm.connection_id\"\n            @change=\"update_attributes\">\n            <el-option\n              v-for=\"cred_def in cred_defs\"\n              :key=\"cred_def.cred_def_id\"\n              :label=\"cred_def.cred_def_id\"\n              :value=\"cred_def\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          label=\"Comment (optional)\"\n          :label-width=\"formLabelWidth\">\n          <el-input\n            v-model=\"proposalForm.comment\"\n            type=\"textarea\"></el-input>\n        </el-form-item>\n        <el-form-item\n          v-for=\"attribute in proposalForm.attributes\"\n          :label=\"attribute.name\"\n          :label-width=\"formLabelWidth\"\n          :key=\"attribute.name\">\n          <el-input\n            v-model=\"attribute.value\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"deActivateForm()\">Cancel</el-button>\n        <el-button :disabled=\"!proposalForm.selected_cred_def\" type=\"primary\" @click=\"propose\">Confirm</el-button>\n      </span>\n    </el-dialog>\n\n    <preview-component ref=\"PreviewComponent\" :readonly=\"true\" :form=\"form\" :alternatives=\"alternatives\"></preview-component>\n  </div>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport { mapState, mapActions } from 'vuex'\nimport share from '@/share.ts';\nimport axios from 'axios';\nconst hl = require('hashlink');\n\nimport { resolveZipFile, renderForm, PreviewComponent } from 'odca-form'\n\nexport default {\n  name: 'my-credentials-list',\n  props: [\n    'title',\n    'editable',\n    'list',\n    'connections',\n    'cred_defs'\n    ],\n  mixins: [share({use: ['id_to_connection']})],\n  components: {\n    VueJsonPretty,\n    PreviewComponent\n  },\n  data: () => ({\n    expanded_items:[],\n    proposalFormActive: false,\n    proposalForm: {\n      connection_id: '',\n      selected_cred_def: null,\n      comment: '',\n      attributes: []\n    },\n    formLabelWidth: '200px',\n    credentialsLabel: {},\n    credentialsSchema: {},\n    credentialsSchemaAlt: {},\n    schemaInput: {},\n    form: null,\n    alternatives: null\n  }),\n  methods: {\n    ...mapActions('WsMessages', ['delete_message']),\n    collapse_expanded: function(credential){\n      this.expanded_items = this.expanded_items.filter(\n        item => item != credential.id\n      );\n    },\n    deActivateForm: function() {\n      this.proposalFormActive = false;\n      this.proposalForm = {\n        connection_id: '',\n        selected_cred_def: null,\n        comment: '',\n        attributes: []\n      };\n    },\n    propose: function() {\n      let values = {\n        connection_id: this.proposalForm.connection_id,\n        cred_def_id: this.proposalForm.selected_cred_def.cred_def_id,\n        comment: this.proposalForm.comment,\n        attributes: this.proposalForm.attributes,\n      }\n      this.proposalForm.connection_id = '';\n      this.proposalForm.selected_cred_def = {};\n      this.proposalForm.comment = '';\n      this.proposalForm.attributes = [];\n\n      this.$emit('propose', values);\n      this.proposalFormActive = false;\n    },\n    preview(schema, input, alternatives) {\n      this.alternatives = alternatives\n      this.$refs.PreviewComponent.openModal({ label: 'Loading...', sections: [] });\n      try {\n          this.form = schema\n          this.$refs.PreviewComponent.openModal(this.form, input);\n      } catch {\n          this.$refs.PreviewComponent.closeModal()\n          this.$noty.error(\"ERROR! Form data are corrupted.\", {\n            timeout: 1000\n          })\n      }\n    },\n    update_attributes: function(cred_def) {\n      var comp = this;\n      comp.proposalForm.attributes = [];\n      cred_def.attributes.forEach(name => {\n        comp.proposalForm.attributes.push({\n          name: name,\n          value: ''\n        });\n      });\n    },\n    credential_title: function(cred) {\n      let split = cred.schema_id.split(':');\n      let connection_name = '';\n      if (!cred.connection) {\n        connection_name = '[deleted]';\n      } else {\n        connection_name = cred.connection.their_label;\n      }\n      return `${split[2]} v${split[3]} received from ${connection_name}`;\n    },\n    generatePreview: async function(credential) {\n      let hashlink = credential.credentialSubject.hashlink\n      if (hashlink && hashlink.includes('hl:')) {\n        const data = await hl.decode({hashlink})\n        const exp = data.meta.experimental\n\n        if (exp && exp['schema-base']) {\n          this.credentialsSchema[credential.created_at] = []\n          const ids = [...exp.overlays, exp['schema-base']]\n          ids.forEach(id => {\n            axios.get(exp.host + id)\n              .then(response => {\n                this.credentialsSchema[credential.created_at].push(response.data)\n              })\n          })\n        } else if (exp && exp['dri']) {\n          let schemaBaseDri\n          axios.get(exp.host + exp['dri'])\n            .then(r => {\n              const branch = r.data\n              this.credentialsSchemaAlt[credential.created_at] = []\n              const langBranches = this.splitBranchPerLang(branch)\n\n              langBranches.forEach(langBranch => {\n                this.credentialsSchemaAlt[credential.created_at].push({\n                  language: langBranch.lang,\n                  form: renderForm([\n                    langBranch.branch.schema_base,\n                    ...langBranch.branch.overlays]\n                  ).form\n                })\n              })\n              this.credentialsSchema[credential.created_at] = this.credentialsSchemaAlt[credential.created_at][0].form\n              this.credentialsLabel[credential.created_at] = this.credentialsSchema[credential.created_at].label\n            })\n        }\n\n        const url = data.meta.url[0]\n        axios.get(url).then(response => {\n          if (exp && (exp['schema-base'] || exp['dri'])) {\n            this.schemaInput[credential.created_at] = response.data\n          } else if (url.split('.').slice(-1)[0] == 'json') {\n            credential.credentialSubject = {...credential.credentialSubject, ...response.data}\n          }\n        })\n      } else if (credential.credentialSubject.oca_schema_dri) {\n        const serviceSchema = {\n          oca_schema_namespace: credential.credentialSubject.oca_schema_namespace,\n          oca_schema_dri: credential.credentialSubject.oca_schema_dri\n        }\n        axios.get(`${this.ocaRepoUrl}/api/v2/schemas/${serviceSchema.oca_schema_namespace}/${serviceSchema.oca_schema_dri}`)\n          .then(r => {\n            const branch = r.data\n            this.credentialsSchemaAlt[credential.created_at] = []\n            const langBranches = this.splitBranchPerLang(branch)\n\n            langBranches.forEach(langBranch => {\n              this.credentialsSchemaAlt[credential.created_at].push({\n                language: langBranch.lang,\n                form: renderForm([\n                  langBranch.branch.schema_base,\n                  ...langBranch.branch.overlays]\n                ).form\n              })\n            })\n            this.credentialsSchema[credential.created_at] = this.credentialsSchemaAlt[credential.created_at][0].form\n            this.credentialsLabel[credential.created_at] = this.credentialsSchema[credential.created_at].label\n          })\n\n        if(credential.credentialSubject.data_dri) {\n          this.schemaInput[credential.created_at] = JSON.parse(\n            (await axios.get(`${this.acapyApiUrl}/pds/${credential.credentialSubject.data_dri}`)).data.payload\n          )\n        } else if (credential.credentialSubject.data_dri) {\n          axios.post(`${this.acapyApiUrl}/verifiable-services/get-issue-self`, {\n            issue_id: credential.credentialSubject.data_dri\n          })\n            .then(response => {\n                this.schemaInput[credential.created_at] = JSON.parse(response.data[0].payload)\n            })\n        }\n      }\n    },\n    splitBranchPerLang: function(branch) {\n      const langBranches = []\n      const labelOverlays = branch.overlays.filter(o => o.type.includes(\"label\"))\n      const languages = labelOverlays.map(o => o.language)\n      const schemaBase = branch.schema_base\n      languages.forEach(lang => {\n        langBranches.push({\n          lang: lang,\n          branch: {\n            schema_base: schemaBase,\n            overlays: branch.overlays.filter(o => {\n              if(!o.language) { return true }\n              return o.language == lang\n            })\n          }\n        })\n      })\n      return langBranches\n    },\n  },\n  watch: {\n    credentialMessages: {\n      handler: function() {\n        this.credentialMessages.forEach(message => {\n          if (message.content.state == 'credential_received') {\n            this.$emit('cred-refresh',)\n          }\n          this.delete_message(message.uuid)\n        })\n      },\n      deep: true\n    },\n    credentials: function() {\n      this.credentials.forEach(async (credential) => {\n        await this.generatePreview(credential)\n      })\n      if (this.credentials.length != Object.keys(this.credentialsLabel).length) {\n        this.$emit('cred-refresh',)\n      }\n    },\n  },\n  computed: {\n    ...mapState(\"WsMessages\", ['messages']),\n    credentialMessages: function() {\n      return this.messages.filter(message => {\n        return message.topic == '/topic/issue_credential/'\n      })\n    },\n    credentials: function() {\n      return this.list.map(item => {\n        if (item.issuer && item.issuer.split(':')[0] === \"did\") {\n          item.connection = this.connections.find(conn => {\n            return conn.their_did == item.issuer.split(':')[2]\n          })\n        } else {\n          item.connection = null;\n        }\n        return item;\n      });\n    },\n    ocaRepoUrl: function() {\n      return this.$session.get('ocaRepoUrl')\n    },\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n    offerReceivedStateCredentials(){\n      return this.credentials.filter(cred => \"state\" in cred && cred.state === \"offer_received\")\n    },\n    sentRequestStateCredentials(){\n      return this.credentials.filter(cred => \"state\" in cred && cred.state === \"request_sent\")\n    },\n    receivedStateCredentials(){\n      return this.credentials\n      /*\n        .filter(\n        cred =>\n          \"state\" in cred &&\n          cred.state === \"credential_received\" ||\n          cred.state === \"stored\" ||\n          cred.state === \"credential_acked\"\n      )\n      */\n    },\n    storedStateCredentials(){\n      return this.credentials.filter(cred => \"state\" in cred && cred.state === \"stored\")\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCredentialsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCredentialsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyCredentialsList.vue?vue&type=template&id=1b7b15fb&\"\nimport script from \"./MyCredentialsList.vue?vue&type=script&lang=js&\"\nexport * from \"./MyCredentialsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const DIDComm = require('encryption-envelope-js');\nconst bs58 = require('bs58');\nconst rp = require('request-promise');\nconst uuidv4 = require('uuid/v4');\nconst WebSocketAsPromised = require('websocket-as-promised');\n\n\nclass ConnectionDetail {\n    constructor(id, label, did_doc, my_key, inbound_processor = null) {\n        this.id = id;\n        this.label = label;\n        this.did_doc = did_doc;\n        this.my_key = my_key;\n\n        this.inbound_processor = inbound_processor;\n\n        this.didcomm = new DIDComm.DIDComm();\n\n        // evaluate DID Document to pick transport\n        // filter for IndyAgent / DIDComm\n        let supported_types = [\"IndyAgent\", \"did-communication\"];\n        this.service_list = this.did_doc.service.filter(s => supported_types.includes(s.type));\n        function protocol(endpoint) {\n            return endpoint.split(\":\")[0];\n        }\n        function servicePrioritySort(a, b){\n            if(protocol(a.serviceEndpoint) === protocol(b.serviceEndpoint)){\n                return 0; //same\n            }\n            if(protocol(a.serviceEndpoint) === \"ws\"){\n                return -1; //higher priority\n            } else { //b is ws\n                return 1;\n            }\n        }\n        this.service_list.sort(servicePrioritySort);\n\n        this.service = this.service_list[0]; //use the first in the list\n        this.service_transport_protocol = protocol(this.service.serviceEndpoint);\n\n        if (this.service_transport_protocol === \"ws\" ||\n            this.service_transport_protocol === \"wss\") {\n\n            this.socket = new WebSocketAsPromised(this.service.serviceEndpoint, {\n                // WebSocket specific pack steps\n                packMessage: data => {\n                    return new Buffer.from(data, 'ascii');\n                },\n                unpackMessage: async data => {\n                    if (data instanceof Blob) {\n                        data = await blobToStr(data);\n                    }\n                    return data;\n                }\n            });\n\n            // Listen for messages\n            this.socket.onUnpackedMessage.addListener(async event => {\n                this.process_inbound(await this.unpackMessage(await event));\n            });\n        }\n    }\n\n    needs_return_route_poll() {\n        return this.service_transport_protocol === \"http\" || this.service_transport_protocol === \"https\";\n    }\n\n    async send_message(msg, set_return_route = true) {\n        console.log(\"Sending message:\", msg);\n\n        if (!('@id' in msg)) { // Ensure @id is populated\n            msg['@id'] = uuidv4().toString();\n        }\n\n        if (set_return_route) {\n            if (!(\"~transport\" in msg)) {\n                msg[\"~transport\"] = {}\n            }\n            msg[\"~transport\"][\"return_route\"] = \"all\"\n        }\n\n        const packedMsg = await this.packMessage(msg);\n\n        // Send message\n        if (this.service_transport_protocol === \"http\" ||\n            this.service_transport_protocol === \"https\") {\n\n            var options = {\n                method: 'POST',\n                uri: this.service.serviceEndpoint,\n                body: packedMsg,\n            };\n            rp(options)\n                .then(async parsedBody => { // POST succeeded...\n                    if (!parsedBody) {\n                        console.log(\"No response for post; continuing.\");\n                        return;\n                    }\n                    await this.process_inbound(await this.unpackMessage(parsedBody));\n                })\n                .catch(function (err) { // POST failed...\n                    console.log(\"Error while sending message:\", err);\n                });\n        } else if (this.service_transport_protocol === \"ws\" ||\n            this.service_transport_protocol === \"wss\") {\n\n            if (this.socket) {\n                await this.socket.open();\n            } else {\n                throw 'No socket connection available';\n            }\n\n            this.socket.sendPacked(packedMsg);\n        } else {\n            throw \"Unsupported transport protocol\";\n        }\n    }\n\n    async packMessage(msg) {\n        await this.didcomm.Ready;\n        return await this.didcomm.packMessage(\n            JSON.stringify(msg),\n            [bs58.decode(this.service.recipientKeys[0])],\n            this.my_key\n        );\n    }\n\n    async unpackMessage(packed_msg) {\n        await this.didcomm.Ready;\n        const unpackedResponse = await this.didcomm.unpackMessage(packed_msg, this.my_key);\n        //console.log(\"unpacked\", unpackedResponse);\n        return JSON.parse(unpackedResponse.message);\n    }\n\n    process_inbound(msg) {\n        console.log('Received Message:', msg);\n        this.inbound_processor(msg);\n    }\n\n    to_store() {\n        return {\n            id: this.id,\n            label: this.label,\n            did_doc: this.did_doc,\n            my_key_b58: {\n                privateKey: this.my_key.privateKey_b58,\n                publicKey: this.my_key.publicKey_b58\n            }\n        }\n    }\n}\n\nasync function blobToStr(blob) {\n    return await new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        reader.addEventListener(\"loadend\", async function(){\n            resolve(reader.result);\n        });\n        reader.readAsText(blob);\n    });\n}\n\n\nfunction new_connection(label, did_doc, my_key, inbound_processor) {\n    return new ConnectionDetail(\n        (uuidv4().toString()),\n        label,\n        did_doc,\n        my_key,\n        inbound_processor\n    );\n}\n\nfunction from_store(obj, inbound_processor) {\n    let my_key = {\n        privateKey: bs58.decode(obj.my_key_b58.privateKey),\n        publicKey: bs58.decode(obj.my_key_b58.publicKey),\n        publicKey_b58: obj.my_key_b58.publicKey_b58,\n        privateKey_b58: obj.my_key_b58.privateKey_b58\n    };\n    return new ConnectionDetail(\n        obj.id,\n        obj.label,\n        obj.did_doc,\n        my_key,\n        inbound_processor\n    );\n}\n\nexport { ConnectionDetail, new_connection, from_store };\n","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=style&index=0&id=9f28bd20&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=style&index=0&id=9f28bd20&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',[_c('el-form-item',{attrs:{\"label\":_vm.label,\"label-width\":\"80px\"}},[_c('el-select',{attrs:{\"width\":\"400px\",\"no-data-text\":\"No consents found\",\"placeholder\":\"Consent\"},model:{value:(_vm.selectedConsent),callback:function ($$v) {_vm.selectedConsent=$$v},expression:\"selectedConsent\"}},_vm._l((_vm.consent_list),function(consent){return _c('el-option',{key:consent.label,attrs:{\"label\":consent.label,\"value\":consent}})}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-form>\n      <el-form-item :label=\"label\" label-width=\"80px\">\n        <el-select\n          v-model=\"selectedConsent\"\n          width=\"400px\"\n          no-data-text=\"No consents found\"\n          placeholder=\"Consent\">\n          <el-option\n            v-for=\"consent in consent_list\"\n            :key=\"consent.label\"\n            :label=\"consent.label\"\n            :value=\"consent\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'consent-select',\n  props: ['label'],\n  components: {},\n  data() {\n    return {\n      consent_list: [],\n      selectedConsent: null\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n  },\n  watch: {\n    'selectedConsent': function() {\n      this.$emit('consentSelected', this.selectedConsent)\n    }\n  },\n  async mounted() {\n    await axios.get(`${this.acapyApiUrl}/verifiable-services/consents`)\n      .then(r => {\n        if (r.status === 200) {\n          this.consent_list = r.data.result\n        }\n      })\n  },\n  methods: {}\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConsentSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConsentSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConsentSelect.vue?vue&type=template&id=0c4042f0&\"\nimport script from \"./ConsentSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./ConsentSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div></div>\n</template>\n\n<script>\n  import { mapActions } from \"vuex\"\n\n  const WS_STATE = { CONNECTING: 0, OPEN: 1, CLOSING: 2, CLOSED: 3 }\n\n  export default {\n    name: 'WebSocket',\n    data: function() {\n      return {\n        ws: null\n      }\n    },\n    computed: {\n      websocketUrl: function() {\n        return this.$session.get('websocketUrl')\n      }\n    },\n    methods: {\n      ...mapActions(\"WsMessages\", [\"add_message\"]),\n      openWebsocketConnection() {\n          if(!this.websocketUrl) { return }\n          this.ws = new WebSocket(this.websocketUrl)\n          const vm = this\n\n          vm.ws.onopen = function () {\n              vm.ws.onmessage = function (wsMessage) {\n                  const data = JSON.parse(wsMessage.data)\n                  const topic = data.topic\n                  const content = JSON.parse(data['message'])\n                  vm.add_message({ topic, content })\n              }\n              console.log(\"WebSocket connected\")\n          }\n      },\n      heartbeat() {\n        if (this.ws && this.ws.readyState == WS_STATE.CLOSED) {\n          this.openWebsocketConnection()\n        }\n        setTimeout(this.heartbeat, 10000)\n      }\n    },\n    mounted() {\n        this.openWebsocketConnection()\n        this.heartbeat()\n    },\n  }\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebSocket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebSocket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WebSocket.vue?vue&type=template&id=2f5f8396&\"\nimport script from \"./WebSocket.vue?vue&type=script&lang=js&\"\nexport * from \"./WebSocket.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),_c('div',{staticClass:\"content\"},[_c('current-pds',{ref:\"CurrentPdsComponent\"}),_c('pds-plugins',{on:{\"configure-plugin\":function($event){return _vm.previewPluginConfig($event)}}})],1),_c('preview-component',{ref:\"PluginConfigPreviewComponent\",attrs:{\"readonly\":false,\"confirmLabel\":\"Connect\",\"form\":_vm.pluginForm,\"alternatives\":_vm.pluginAlternatives}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\"> {{ title }} </a>\n    </nav>\n\n    <div class=\"content\">\n      <current-pds ref=\"CurrentPdsComponent\" />\n      <pds-plugins\n        @configure-plugin=\"previewPluginConfig($event)\" />\n    </div>\n\n    <preview-component ref=\"PluginConfigPreviewComponent\"\n      :readonly=\"false\" confirmLabel=\"Connect\"\n      :form=\"pluginForm\" :alternatives=\"pluginAlternatives\"></preview-component>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport CurrentPds from './PdsSettings/CurrentPds'\nimport PdsPlugins from './PdsSettings/PdsPlugins'\n\nimport { eventBus as ocaEventBus, EventHandlerConstant,\n  PreviewComponent } from 'odca-form'\n\nexport default {\n  name: 'pds-settings',\n  props: ['title'],\n  components: {\n    CurrentPds,\n    PdsPlugins,\n    PreviewComponent\n  },\n  data() {\n    return {\n      pluginForm: {},\n      pluginAlternatives: [],\n      previewPluginName: null\n    }\n  },\n  computed: {\n    acapyApiUrl: function() {\n      return this.$session.get('acapyApiUrl')\n    },\n  },\n  methods: {\n    connectPlugin(data) {\n      const settings = {}\n      const pluginName = this.previewPluginName\n      settings[this.previewPluginName] = data\n\n      axios.post(`${this.acapyApiUrl}/pds/settings`, { \"settings\": settings })\n        .then(r => {\n          console.log(r)\n          if (r.status === 200) {\n            this.$refs.CurrentPdsComponent.refreshPdsList()\n            this.$noty.success(`${pluginName} plugin connected!`, { timeout: 1000 })\n          }\n        }).catch(e => {\n          console.log(e)\n          this.$noty.error(\"Error occurred\", { timeout: 1000 })\n        })\n      this.$refs.PluginConfigPreviewComponent.closeModal()\n      this.previewPluginName = null\n    },\n    previewPluginConfig(event) {\n      this.previewPluginName = event.pluginName\n      this.pluginAlternatives = event.plugin.formAlternatives\n      this.$refs.PluginConfigPreviewComponent.openModal(event.plugin.form)\n    },\n  },\n  mounted() {\n    ocaEventBus.$off(EventHandlerConstant.SAVE_PREVIEW)\n    ocaEventBus.$on(EventHandlerConstant.SAVE_PREVIEW, this.connectPlugin)\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  padding: 10px 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdsSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PdsSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PdsSettings.vue?vue&type=template&id=70b0a136&scoped=true&\"\nimport script from \"./PdsSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./PdsSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PdsSettings.vue?vue&type=style&index=0&id=70b0a136&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70b0a136\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_vm._v(\"Static Connections\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.fetch_static_connections}})],1),_c('el-collapse',{model:{value:(_vm.expanded_items),callback:function ($$v) {_vm.expanded_items=$$v},expression:\"expanded_items\"}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.static_connections),function(c){return _c('el-collapse-item',{key:c.connection_id,attrs:{\"title\":_vm.get_name(c),\"name\":_vm.get_name(c)}},[_c('el-row',{key:c.connection_id},[_c('p',[_c('b',[_vm._v(\"My DID:\")]),_vm._v(\" \"+_vm._s(c.my_info.did)+\" \")]),_c('p',[_c('b',[_vm._v(\"My VK:\")]),_vm._v(\" \"+_vm._s(c.my_info.vk)+\" \")]),_c('p',[_c('b',[_vm._v(\"My Endpoint:\")]),_vm._v(\" \"+_vm._s(c.my_info.endpoint)+\" \")]),_c('p',[_c('b',[_vm._v(\"Remote DID:\")]),_vm._v(\" \"+_vm._s(c.their_info.did))]),_c('p',[_c('b',[_vm._v(\"Remote VK:\")]),_vm._v(\" \"+_vm._s(c.their_info.vk))]),_c('div',[_c('vue-json-pretty',{attrs:{\"deep\":1,\"data\":c}})],1)])],1)}),1)]),_c('p',[_vm._v(\"Add Static Connection:\")]),_c('el-form',{attrs:{\"model\":_vm.static_agent_form,\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"Label:\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.static_agent_form.label),callback:function ($$v) {_vm.$set(_vm.static_agent_form, \"label\", $$v)},expression:\"static_agent_form.label\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Role:\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.static_agent_form.role),callback:function ($$v) {_vm.$set(_vm.static_agent_form, \"role\", $$v)},expression:\"static_agent_form.role\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Static DID:\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.static_agent_form.static_did),callback:function ($$v) {_vm.$set(_vm.static_agent_form, \"static_did\", $$v)},expression:\"static_agent_form.static_did\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Static Key:\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.static_agent_form.static_key),callback:function ($$v) {_vm.$set(_vm.static_agent_form, \"static_key\", $$v)},expression:\"static_agent_form.static_key\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Static Endpoint:\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.static_agent_form.static_endpoint),callback:function ($$v) {_vm.$set(_vm.static_agent_form, \"static_endpoint\", $$v)},expression:\"static_agent_form.static_endpoint\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"Add Static Agent\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n\n  <el-row>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">Static Connections</a>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-refresh\"\n        @click=\"fetch_static_connections\"></el-button>\n    </nav>\n    <el-collapse v-model=\"expanded_items\">\n      <ul class=\"list\">\n        <el-collapse-item\n          v-for=\"c in static_connections\"\n          v-bind:title=\"get_name(c)\"\n          :name=\"get_name(c)\"\n          :key=\"c.connection_id\">\n          <el-row :key=\"c.connection_id\">\n            <p> <b>My DID:</b> {{c.my_info.did}} </p>\n            <p><b>My VK:</b> {{c.my_info.vk}} </p>\n            <p><b>My Endpoint:</b> {{c.my_info.endpoint}} </p>\n            <p><b>Remote DID:</b> {{c.their_info.did}}</p>\n            <p><b>Remote VK:</b> {{c.their_info.vk}}</p>\n            <div>\n              <vue-json-pretty\n                :deep=1\n                :data=\"c\">\n              </vue-json-pretty>\n            </div>\n          </el-row>\n        </el-collapse-item>\n      </ul>\n    </el-collapse>\n\n    <p>Add Static Connection:</p>\n    <el-form :model=\"static_agent_form\" inline>\n      <el-form-item label=\"Label:\">\n        <el-input v-model=\"static_agent_form.label\" style=\"width:100px;\"> </el-input>\n      </el-form-item>\n      <el-form-item label=\"Role:\">\n        <el-input v-model=\"static_agent_form.role\" style=\"width:100px;\"> </el-input>\n      </el-form-item>\n      <el-form-item label=\"Static DID:\">\n        <el-input v-model=\"static_agent_form.static_did\" style=\"width:100px;\"> </el-input>\n      </el-form-item>\n      <el-form-item label=\"Static Key:\">\n        <el-input v-model=\"static_agent_form.static_key\" style=\"width:100px;\"> </el-input>\n      </el-form-item>\n      <el-form-item label=\"Static Endpoint:\">\n        <el-input v-model=\"static_agent_form.static_endpoint\" style=\"width:100px;\"> </el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"add\">Add Static Agent</el-button>\n      </el-form-item>\n    </el-form>\n  </el-row>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport share from '@/share.ts';\nimport message_bus from '@/message_bus.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Static Connections',\n    icon: 'el-icon-box',\n    group: 'Agent to Agent',\n    priority: 40,\n    dev_only: true,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-static-connections/0.1'\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    static_connections: []\n  },\n  listeners: {\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-static-connections/0.1/static-connection-list\": (share, msg) => {\n      share.static_connections = msg.results;\n    },\n    \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-static-connections/0.1/static-connection-info\": (share, msg) => {\n      share.fetch_static_connections();\n    }\n  },\n  methods: {\n    fetch_static_connections: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-static-connections/0.1/static-connection-get-list\"\n      });\n    }\n  }\n}\n\nexport default {\n  name: 'static-connections',\n  mixins: [\n    message_bus(),\n    share({\n      use: ['static_connections'],\n      actions: ['fetch_static_connections']\n    })\n  ],\n  components: {\n    VueJsonPretty,\n  },\n  data () {\n    return {\n      expanded_items: [],\n      static_agent_form:{\n        'label':\"\",\n        'role':\"\",\n        'static_did':\"\",\n        'static_key':\"\",\n        'static_endpoint':\"\",\n      },\n    }\n  },\n  created: async function() {\n    await this.ready();\n    this.fetch_static_connections();\n  },\n  methods: {\n    add: function(){\n      let query_msg ={\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-static-connections/0.1/create-static-connection\",\n        \"label\": this.static_agent_form.label,\n        \"role\": this.static_agent_form.role,\n        \"static_did\": this.static_agent_form.static_did,\n        \"static_key\": this.static_agent_form.static_key,\n        \"static_endpoint\": this.static_agent_form.static_endpoint,\n      }\n      this.send_message(query_msg);\n    },\n    get_name: function(c) {\n      return c.their_info.label; //i.connection.invitation_mode +\" / \"+ i.connection.their_role +\" / \"+ i.connection.created_at ;\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4c113bae&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('presentation',{attrs:{\"title\":\"Presentations\",\"presentations\":_vm.holder_presentations,\"connections\":_vm.active_connections,\"cred_defs\":_vm.cred_defs},on:{\"presentation-refresh\":_vm.fetch_holder_presentations,\"send-presentation-proposal\":_vm.sendPresentationProposal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <el-row>\n    <presentation\n      title=\"Presentations\"\n      v-bind:presentations= \"holder_presentations\"\n      v-bind:connections = \"active_connections\"\n      v-bind:cred_defs = \"cred_defs\"\n      @presentation-refresh = \"fetch_holder_presentations\"\n      @send-presentation-proposal= \"sendPresentationProposal\"\n      ></presentation>\n  </el-row>\n</template>\n\n<script>\nimport VueJsonPretty from 'vue-json-pretty';\nimport Presentation from './Presentation.vue';\nimport message_bus from '@/message_bus.ts';\nimport share from '@/share.ts';\n\nexport const metadata = {\n  menu: {\n    label: 'Presentations',\n    icon: 'el-icon-document-checked',\n    group: 'Agent to Agent',\n    priority: 90,\n    dev_only: true,\n    required_protocols: [\n      'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1'\n    ]\n  }\n};\n\nexport const shared = {\n  data: {\n    holder_presentations: [],\n  },\n  listeners: {\n    'did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1/presentations-list': (share, msg) => {\n      share.holder_presentations = msg.results;\n    }\n  },\n  methods: {\n    fetch_holder_presentations: ({send}) => {\n      send({\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1/presentations-get-list\",\n      })\n    }\n  }\n}\n\nexport default {\n  name: 'presentations',\n  components: {\n    VueJsonPretty,\n    Presentation,\n  },\n  mixins: [\n    message_bus(),\n    share({\n      use: [\n        'active_connections', \n        'cred_defs',\n        'holder_presentations'\n      ],\n      actions: ['fetch_holder_presentations']\n    })\n  ],\n  created: async function() {\n    await this.ready();\n    this.fetch_holder_presentations();\n  },\n  methods: {\n    async sendPresentationProposal(form){\n      let query_msg = {\n        \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/admin-holder/0.1/send-presentation-proposal\",\n        \"connection_id\": form.connection_id,\n        \"comment\": form.comment,\n        \"auto_present\": form.auto_present , //optional, default to false\n        \"presentation_proposal\": {\n          \"@type\": \"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/present-proof/1.0/presentation-preview\",\n          /**\n           * name \n           * cred_def_id //optional\n           * mime_type //optional\n           * value //optional\n           * */\n          attributes: form.attributes.map(attribute => {\n            return {\n              name: attribute.name,\n              cred_def_id: attribute.cred_def.cred_def_id,\n              value: attribute.value\n            };\n          }),\n          /**\n           * name\n           * cred_def_id\n           * predicate\n           * threshold\n           */\n          predicates: form.predicates.map(predicate => {\n            return {\n              name: predicate.name,\n              cred_def_id: predicate.cred_def.cred_def_id,\n              predicate: predicate.predicate,\n              threshold: predicate.threshold\n            };\n          })\n        },\n      };\n        this.send_message(query_msg);\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f2909776&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * The file enables `@/store/index.js` to import all vuex modules\n * in a one-shot manner. There should not be any reason to edit this file.\n */\n\nconst files = require.context('.', false, /\\.ts$/)\nconst modules = {}\n\nfiles.keys().forEach(key => {\n  if (key === './index.ts') return\n  modules[key.replace(/(\\.\\/|\\.ts)/g, '')] = files(key).default\n})\n\nexport default modules\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionServiceList.vue?vue&type=style&index=0&id=0cf32878&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionServiceList.vue?vue&type=style&index=0&id=0cf32878&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._m(0),_c('h3',[_vm._v(\"Installed CLI Plugins\")]),_vm._m(1),_c('h3',[_vm._v(\"Essential Links\")]),_vm._m(2),_c('h3',[_vm._v(\"Ecosystem\")]),_vm._m(3)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" For a guide and recipes on how to configure / customize this project,\"),_c('br'),_vm._v(\" check out the \"),_c('a',{attrs:{\"href\":\"https://cli.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-cli documentation\")]),_vm._v(\". \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"typescript\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Core Docs\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Forum\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Community Chat\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Twitter\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://news.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"News\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://router.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-router\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://vuex.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vuex\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/vue-devtools#vue-devtools\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-devtools\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://vue-loader.vuejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"vue-loader\")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"awesome-vue\")])])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class HelloWorld extends Vue {\n  @Prop() private msg!: string;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=9f28bd20&scoped=true&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=ts&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HelloWorld.vue?vue&type=style&index=0&id=9f28bd20&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f28bd20\",\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./AgentBase.vue\": \"0553\",\n\t\"./AgentList.vue\": \"a73e\",\n\t\"./BasicMessage/index.vue\": \"38e6\",\n\t\"./Compose/index.vue\": \"904f\",\n\t\"./Connections/ConnectionList.vue\": \"9137\",\n\t\"./Connections/ConnectionList/ConnectionServiceList.vue\": \"517b\",\n\t\"./Connections/index.vue\": \"06c7\",\n\t\"./Consents/ConsentList.vue\": \"39f5\",\n\t\"./Consents/NewConsent.vue\": \"aef5\",\n\t\"./Consents/NewConsent/OcaSchemaSearch.vue\": \"9e57\",\n\t\"./Consents/index.vue\": \"d194\",\n\t\"./CredentialIssuance/CredDefList.vue\": \"bba4\",\n\t\"./CredentialIssuance/IssuedCredList.vue\": \"c747\",\n\t\"./CredentialIssuance/OcaSchemaList.vue\": \"20c5\",\n\t\"./CredentialIssuance/SchemaList.vue\": \"80e8\",\n\t\"./CredentialIssuance/index.vue\": \"d859\",\n\t\"./Dids/DidList.vue\": \"1076\",\n\t\"./Dids/index.vue\": \"6b82\",\n\t\"./FeatureDiscovery/index.vue\": \"0a19\",\n\t\"./HelloWorld.vue\": \"fdab\",\n\t\"./Invitations/index.vue\": \"50df\",\n\t\"./LandingPage.vue\": \"4925\",\n\t\"./LandingPage/SystemInformation.vue\": \"88c2\",\n\t\"./Ledger/index.vue\": \"a607\",\n\t\"./MessageHistory/index.vue\": \"8b1a\",\n\t\"./Messages/index.vue\": \"50c3\",\n\t\"./MyCredentials/MyCredentialsList.vue\": \"da2f\",\n\t\"./MyCredentials/index.vue\": \"94c1\",\n\t\"./Presentations/Presentation.vue\": \"6f66\",\n\t\"./Presentations/index.vue\": \"f32f\",\n\t\"./Services/ApplicationList.vue\": \"94ef\",\n\t\"./Services/NewService.vue\": \"3baa\",\n\t\"./Services/NewService/ConsentSelect.vue\": \"e2fb\",\n\t\"./Services/NewService/OcaSchemaSearch.vue\": \"8d27\",\n\t\"./Services/ServiceList.vue\": \"45bf\",\n\t\"./Services/index.vue\": \"ce6f\",\n\t\"./Settings/ControllerSettings.vue\": \"96c5\",\n\t\"./Settings/PdsSettings.vue\": \"e870\",\n\t\"./Settings/PdsSettings/CurrentPds.vue\": \"b16a\",\n\t\"./Settings/PdsSettings/PdsPlugins.vue\": \"48a9\",\n\t\"./Settings/TdaSettings.vue\": \"6ee1\",\n\t\"./Settings/index.vue\": \"8099\",\n\t\"./StaticConnections/index.vue\": \"ef07\",\n\t\"./TAA.vue\": \"405c\",\n\t\"./TrustedIssuers/Issuers.vue\": \"322e\",\n\t\"./TrustedIssuers/index.vue\": \"b06c\",\n\t\"./Verifications/Verification.vue\": \"89bd\",\n\t\"./Verifications/index.vue\": \"d2a9\",\n\t\"./WebSocket.vue\": \"e7fa\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"ffe0\";"],"sourceRoot":""}